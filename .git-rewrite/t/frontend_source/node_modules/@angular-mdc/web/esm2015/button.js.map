{"version":3,"file":"button.js","sources":["../../../packages/button/button-module.ts","../../../packages/button/button.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { MdcButton, MdcButtonLabel } from './button';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [MdcButton, MdcButtonLabel],\r\n  declarations: [MdcButton, MdcButtonLabel]\r\n})\r\nexport class MdcButtonModule { }\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ContentChild,\r\n  Directive,\r\n  ElementRef,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { toBoolean } from '@angular-mdc/web/common';\r\nimport { MdcRipple } from '@angular-mdc/web/ripple';\r\nimport { MdcIcon } from '@angular-mdc/web/icon';\r\n\r\n@Directive({\r\n  selector: 'mdc-button-label, [mdcButtonLabel]',\r\n  exportAs: 'mdcButtonLabel',\r\n  host: {\r\n    'class': 'mdc-button__label'\r\n }\r\n})\r\nexport class MdcButtonLabel { }\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  exportAs: 'mdcButton',\r\n  selector: 'button[mdc-button], a[mdc-button]',\r\n  host: {\r\n    '[tabIndex]': 'disabled ? -1 : 0',\r\n    'class': 'mdc-button',\r\n    '[class.ngx-mdc-button--primary]': 'primary',\r\n    '[class.ngx-mdc-button--secondary]': 'secondary',\r\n    '[class.mdc-button--raised]': 'raised',\r\n    '[class.mdc-button--dense]': 'dense',\r\n    '[class.mdc-button--unelevated]': 'unelevated',\r\n    '[class.mdc-button--outlined]': 'outlined',\r\n    '(click)': 'onClick($event)'\r\n  },\r\n  template: `\r\n  <mdc-button-label *ngIf=\"label\">{{label}}</mdc-button-label>\r\n  <ng-content></ng-content>\r\n  `,\r\n  providers: [MdcRipple],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class MdcButton implements OnInit, OnDestroy {\r\n  @Input()\r\n  get raised(): boolean { return this._raised; }\r\n  set raised(value: boolean) {\r\n    this._raised = toBoolean(value);\r\n  }\r\n  private _raised: boolean = false;\r\n\r\n  @Input()\r\n  get primary(): boolean { return this._primary; }\r\n  set primary(value: boolean) {\r\n    this._primary = toBoolean(value);\r\n  }\r\n  private _primary: boolean = false;\r\n\r\n  @Input()\r\n  get dense(): boolean { return this._dense; }\r\n  set dense(value: boolean) {\r\n    this._dense = toBoolean(value);\r\n  }\r\n  private _dense: boolean = false;\r\n\r\n  @Input()\r\n  get secondary(): boolean { return this._secondary; }\r\n  set secondary(value: boolean) {\r\n    this._secondary = toBoolean(value);\r\n  }\r\n  private _secondary: boolean = false;\r\n\r\n  @Input()\r\n  get unelevated(): boolean { return this._unelevated; }\r\n  set unelevated(value: boolean) {\r\n    this._unelevated = toBoolean(value);\r\n  }\r\n  private _unelevated: boolean = false;\r\n\r\n  @Input()\r\n  get outlined(): boolean { return this._outlined; }\r\n  set outlined(value: boolean) {\r\n    this._outlined = toBoolean(value);\r\n  }\r\n  private _outlined: boolean = false;\r\n\r\n  @Input()\r\n  get disabled(): boolean { return this._disabled; }\r\n  set disabled(value: boolean) {\r\n    this.setDisabled(value);\r\n  }\r\n  private _disabled: boolean = false;\r\n\r\n  @ContentChild(MdcIcon) _icon!: MdcIcon;\r\n\r\n  @Input() label?: string;\r\n\r\n  constructor(\r\n    public elementRef: ElementRef<HTMLElement>,\r\n    private _ripple: MdcRipple) { }\r\n\r\n  ngOnInit(): void {\r\n    if (this._icon) {\r\n      this._icon.elementRef.nativeElement.classList.add('mdc-button__icon');\r\n    }\r\n\r\n    this._ripple.init({ surface: this.getHostElement() });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._ripple.destroy();\r\n  }\r\n\r\n  setDisabled(disabled: boolean): void {\r\n    this._disabled = toBoolean(disabled);\r\n\r\n    if (this._disabled) {\r\n      this.getHostElement().setAttribute('disabled', 'true');\r\n      this.getHostElement().setAttribute('aria-disabled', 'true');\r\n    } else {\r\n      this.getHostElement().removeAttribute('disabled');\r\n      this.getHostElement().removeAttribute('aria-disabled');\r\n    }\r\n  }\r\n\r\n  /** Focuses the button. */\r\n  focus(): void {\r\n    this.getHostElement().focus();\r\n  }\r\n\r\n  getHostElement(): HTMLElement {\r\n    return this.elementRef.nativeElement;\r\n  }\r\n\r\n  onClick(event: MouseEvent): void {\r\n    // A disabled button shouldn't apply any actions\r\n    if (this.disabled) {\r\n      event.preventDefault();\r\n      event.stopImmediatePropagation();\r\n    }\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}