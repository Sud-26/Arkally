{"version":3,"file":"menu-surface.js","sources":["../../../packages/menu-surface/menu-surface-module.ts","../../../packages/menu-surface/menu-surface-anchor.ts","../../../packages/menu-surface/menu-surface.ts","../../../packages/menu-surface/menu-surface-base.ts","../../../node_modules/@material/menu-surface/index.js","../../../node_modules/@material/menu-surface/foundation.js","../../../node_modules/@material/menu-surface/adapter.js","../../../node_modules/@material/base/component.js","../../../node_modules/@material/base/foundation.js","../../../node_modules/@material/menu-surface/constants.js","../../../node_modules/@material/menu-surface/util.js"],"sourcesContent":["import { NgModule } from '@angular/core';\r\n\r\nimport { MdcMenuSurface } from './menu-surface';\r\nimport { MdcMenuSurfaceAnchor } from './menu-surface-anchor';\r\n\r\nconst MENU_SURFACE_DECLARATIONS = [\r\n  MdcMenuSurface,\r\n  MdcMenuSurfaceAnchor\r\n];\r\n\r\n@NgModule({\r\n  exports: [MENU_SURFACE_DECLARATIONS],\r\n  declarations: [MENU_SURFACE_DECLARATIONS]\r\n})\r\nexport class MdcMenuSurfaceModule { }\r\n","import {\r\n  Directive,\r\n  ElementRef\r\n} from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[mdcMenuSurfaceAnchor], mdc-menu-surface-anchor',\r\n  host: { 'class': 'mdc-menu-surface--anchor' }\r\n})\r\nexport class MdcMenuSurfaceAnchor {\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  OnDestroy,\r\n  OnInit,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { MdcMenuSurfaceBase } from './menu-surface-base';\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'mdc-menu-surface',\r\n  exportAs: 'mdcMenuSurface',\r\n  host: { 'class': 'mdc-menu-surface' },\r\n  template: '<ng-content></ng-content>',\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class MdcMenuSurface extends MdcMenuSurfaceBase implements OnInit, OnDestroy {\r\n  ngOnInit(): void {\r\n    this.initMenuSurface();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroyMenuSurface();\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectorRef,\r\n  ElementRef,\r\n  EventEmitter,\r\n  NgZone,\r\n  Input,\r\n  Optional,\r\n  Output\r\n} from '@angular/core';\r\nimport { fromEvent, Subject, Subscription } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { Platform, toBoolean } from '@angular-mdc/web/common';\r\n\r\nimport { getTransformPropertyName } from '@material/menu-surface/util';\r\nimport { Corner, strings } from '@material/menu-surface/constants';\r\nimport { MDCMenuSurfaceFoundation } from '@material/menu-surface/index';\r\n\r\nexport interface MdcMenuSurfaceOpenedEvent {\r\n  detail: string;\r\n}\r\n\r\nexport interface AnchorMargin {\r\n  top?: number;\r\n  right?: number;\r\n  bottom?: number;\r\n  left?: number;\r\n}\r\n\r\nexport interface Coordinates {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\nexport type AnchorCorner = 'bottomEnd' | 'bottomStart' | 'topEnd' | 'topStart';\r\n\r\nconst ANCHOR_CORNER_MAP = {\r\n  bottomEnd: Corner.BOTTOM_END,\r\n  bottomStart: Corner.BOTTOM_START,\r\n  topEnd: Corner.TOP_END,\r\n  topStart: Corner.TOP_START\r\n};\r\n\r\nexport abstract class MdcMenuSurfaceBase {\r\n  /** Emits whenever the component is destroyed. */\r\n  private _destroy = new Subject<void>();\r\n\r\n  private _previousFocus: Element | null = null;\r\n  private _firstFocusableElement: Element | null = null;\r\n  private _lastFocusableElement: Element | null = null;\r\n\r\n  @Input()\r\n  get open(): boolean { return this._open; }\r\n  set open(value: boolean) {\r\n    this._open = toBoolean(value);\r\n    this.setOpen();\r\n  }\r\n  private _open: boolean = false;\r\n\r\n  @Input()\r\n  get anchorElement(): Element | null { return this._anchorElement; }\r\n  set anchorElement(element: Element | null) {\r\n    this._anchorElement = element;\r\n  }\r\n  private _anchorElement: Element | null = null;\r\n\r\n  @Input()\r\n  get anchorCorner(): AnchorCorner { return this._anchorCorner; }\r\n  set anchorCorner(value: AnchorCorner) {\r\n    this._anchorCorner = value || 'topStart';\r\n    this._foundation.setAnchorCorner([ANCHOR_CORNER_MAP[this._anchorCorner]]);\r\n  }\r\n  private _anchorCorner: AnchorCorner = 'topStart';\r\n\r\n  @Input()\r\n  get quickOpen(): boolean { return this._quickOpen; }\r\n  set quickOpen(value: boolean) {\r\n    this._quickOpen = toBoolean(value);\r\n    this._foundation.setQuickOpen(this._quickOpen);\r\n  }\r\n  private _quickOpen: boolean = false;\r\n\r\n  @Input()\r\n  get fixed(): boolean { return this._fixed; }\r\n  set fixed(value: boolean) {\r\n    this._fixed = toBoolean(value);\r\n    this._fixed ? this._getHostElement().classList.add('mdc-menu-surface--fixed') :\r\n      this._getHostElement().classList.remove('mdc-menu-surface--fixed');\r\n    this._foundation.setFixedPosition(this._fixed);\r\n  }\r\n  private _fixed: boolean = false;\r\n\r\n  @Input()\r\n  get coordinates(): Coordinates { return this._coordinates; }\r\n  set coordinates(value: Coordinates) {\r\n    this._coordinates = value;\r\n    this._foundation.setAbsolutePosition(value.x, value.y);\r\n  }\r\n  private _coordinates: Coordinates = { x: 0, y: 0 };\r\n\r\n  @Input()\r\n  get anchorMargin(): AnchorMargin { return this._anchorMargin; }\r\n  set anchorMargin(value: AnchorMargin) {\r\n    this._anchorMargin = value;\r\n    this._foundation.setAnchorMargin(this._anchorMargin);\r\n  }\r\n  private _anchorMargin: AnchorMargin = {};\r\n\r\n  @Input()\r\n  get hoistToBody(): boolean { return this._hoistToBody; }\r\n  set hoistToBody(value: boolean) {\r\n    this._hoistToBody = toBoolean(value);\r\n    if (this._hoistToBody) {\r\n      this.setHoistToBody();\r\n    }\r\n  }\r\n  private _hoistToBody: boolean = false;\r\n\r\n  /** Emits an event whenever the menu surface is opened. */\r\n  @Output() readonly opened: EventEmitter<void> = new EventEmitter<void>();\r\n\r\n  /** Emits an event whenever the menu surface is closed. */\r\n  @Output() readonly closed: EventEmitter<void> = new EventEmitter<void>();\r\n\r\n  /** Subscription to interaction events in menu-surface. */\r\n  private _windowClickSubscription: Subscription | null = null;\r\n\r\n  protected _createSurfaceAdapter() {\r\n    return Object.assign({\r\n      addClass: (className: string) => this._getHostElement().classList.add(className),\r\n      removeClass: (className: string) => this._getHostElement().classList.remove(className),\r\n      hasClass: (className: string) => this._getHostElement().classList.contains(className),\r\n      hasAnchor: () => !!this.anchorElement,\r\n      notifyClose: () => {\r\n        this.closed.emit();\r\n        this._deregisterWindowClickListener();\r\n      },\r\n      notifyOpen: () => {\r\n        this.opened.emit();\r\n        this._registerWindowClickListener();\r\n      },\r\n      isElementInContainer: (el: Element) => this._getHostElement() === el || this._getHostElement().contains(el),\r\n      isRtl: () => {\r\n        if (!this.platform.isBrowser) { return; }\r\n\r\n        return window.getComputedStyle(this._getHostElement()).getPropertyValue('direction') === 'rtl';\r\n      },\r\n      setTransformOrigin: (origin: string) => {\r\n        if (!this.platform.isBrowser) { return; }\r\n\r\n        this._getHostElement().style[`${getTransformPropertyName(window)}-origin` as any] = origin;\r\n      }\r\n    },\r\n      this._getFocusAdaptermethods(),\r\n      this._getDimensionAdapterMethods()\r\n    );\r\n  }\r\n\r\n  private _getFocusAdaptermethods() {\r\n    return {\r\n      isFocused: () => this.platform.isBrowser ? document.activeElement! === this._getHostElement() : false,\r\n      saveFocus: () => {\r\n        if (!this.platform.isBrowser) { return; }\r\n        this._previousFocus = document.activeElement!;\r\n      },\r\n      restoreFocus: () => {\r\n        if (!this.platform.isBrowser) { return; }\r\n\r\n        if (this._getHostElement().contains(document.activeElement!)) {\r\n          if (this._previousFocus && (<any>this._previousFocus).focus) {\r\n            (<any>this._previousFocus).focus();\r\n          }\r\n        }\r\n      },\r\n      isFirstElementFocused: () => {\r\n        if (!this.platform.isBrowser) { return false; }\r\n        return this._firstFocusableElement && this._firstFocusableElement === document.activeElement!;\r\n      },\r\n      isLastElementFocused: () => {\r\n        if (!this.platform.isBrowser) { return false; }\r\n        return this._lastFocusableElement && this._lastFocusableElement === document.activeElement!;\r\n      },\r\n      focusFirstElement: () => {\r\n        if (!this.platform.isBrowser) { return; }\r\n\r\n        if (this._firstFocusableElement) {\r\n          (<any>this._firstFocusableElement).focus();\r\n        }\r\n      },\r\n      focusLastElement: () => {\r\n        if (!this.platform.isBrowser) { return; }\r\n\r\n        if (this._lastFocusableElement) {\r\n          (<any>this._lastFocusableElement).focus();\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  private _getDimensionAdapterMethods() {\r\n    return {\r\n      getInnerDimensions: () => {\r\n        return { width: this._getHostElement().offsetWidth, height: this._getHostElement().offsetHeight };\r\n      },\r\n      getAnchorDimensions: () => {\r\n        if (!this.platform.isBrowser) { return; }\r\n\r\n        return this._anchorElement && this._anchorElement.getBoundingClientRect();\r\n      },\r\n      getWindowDimensions: () => {\r\n        return {\r\n          width: this.platform.isBrowser ? window.innerWidth : 0,\r\n          height: this.platform.isBrowser ? window.innerHeight : 0\r\n        };\r\n      },\r\n      getBodyDimensions: () => {\r\n        return {\r\n          width: this.platform.isBrowser ? document.body!.clientWidth : 0,\r\n          height: this.platform.isBrowser ? document.body!.clientHeight : 0\r\n        };\r\n      },\r\n      getWindowScroll: () => {\r\n        return {\r\n          x: this.platform.isBrowser ? window.pageXOffset : 0,\r\n          y: this.platform.isBrowser ? window.pageYOffset : 0\r\n        };\r\n      },\r\n      setPosition: (position: { left: string, right: string, top: string, bottom: string }) => {\r\n        this._getHostElement().style.left = 'left' in position ? position.left : null;\r\n        this._getHostElement().style.right = 'right' in position ? position.right : null;\r\n        this._getHostElement().style.top = 'top' in position ? position.top : null;\r\n        this._getHostElement().style.bottom = 'bottom' in position ? position.bottom : null;\r\n      },\r\n      setMaxHeight: (height: string) => this._getHostElement().style.maxHeight = height\r\n    };\r\n  }\r\n\r\n  private _foundation: {\r\n    init(): void,\r\n    destroy(): void,\r\n    open(): void,\r\n    close(): void,\r\n    isOpen(): boolean,\r\n    setAnchorCorner(corner: any): void,\r\n    setAnchorMargin(margin: AnchorMargin): void,\r\n    setIsHoisted(isHoisted: boolean): void,\r\n    setFixedPosition(isFixedPosition: boolean): void,\r\n    setAbsolutePosition(x: number, y: number): void,\r\n    setQuickOpen(quickOpen: boolean): void,\r\n    handleBodyClick(evt: MouseEvent): void,\r\n    handleKeydown(evt: KeyboardEvent): void\r\n  } = new MDCMenuSurfaceFoundation(this._createSurfaceAdapter());\r\n\r\n  constructor(\r\n    public changeDetectorRef: ChangeDetectorRef,\r\n    public platform: Platform,\r\n    @Optional() private _ngZone: NgZone,\r\n    public elementRef: ElementRef<HTMLElement>) { }\r\n\r\n  protected initMenuSurface(): void {\r\n    this._foundation.init();\r\n    this._registerKeydownListener();\r\n  }\r\n\r\n  protected destroyMenuSurface(): void {\r\n    this._destroy.next();\r\n    this._destroy.complete();\r\n\r\n    this._deregisterWindowClickListener();\r\n\r\n    // add platform check due to use of cancelAnimationFrame inside destroy()\r\n    if (this.platform.isBrowser) {\r\n      this._foundation.destroy();\r\n    }\r\n\r\n    if (this.hoistToBody) {\r\n      document.body!.removeChild(this._getHostElement());\r\n    }\r\n  }\r\n\r\n  protected setOpen(): void {\r\n    if (this._open) {\r\n      const focusableElements = this._getHostElement().querySelectorAll(strings.FOCUSABLE_ELEMENTS);\r\n      this._firstFocusableElement = focusableElements.length > 0 ? focusableElements[0] : null;\r\n      this._lastFocusableElement = focusableElements.length > 0 ?\r\n        focusableElements[focusableElements.length - 1] : null;\r\n\r\n      this._foundation.open();\r\n    } else {\r\n      this._foundation.close();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Removes the menu-surface from it's current location and appends it to the\r\n   * body to overcome any overflow:hidden issues.\r\n   */\r\n  protected setHoistToBody(): void {\r\n    if (!this.platform.isBrowser) { return; }\r\n\r\n    const parentEl = this._getHostElement().parentElement;\r\n    if (parentEl) {\r\n      document.body!.appendChild(parentEl.removeChild(this._getHostElement()));\r\n      this._foundation.setIsHoisted(true);\r\n    }\r\n  }\r\n\r\n  private _registerKeydownListener(): void {\r\n    this._ngZone.runOutsideAngular(() =>\r\n      fromEvent<KeyboardEvent>(this._getHostElement(), 'keydown').pipe(takeUntil(this._destroy))\r\n        .subscribe(evt => this._ngZone.run(() => this._foundation.handleKeydown(evt))));\r\n  }\r\n\r\n  private _registerWindowClickListener(): void {\r\n    if (!this.platform.isBrowser) { return; }\r\n\r\n    this._windowClickSubscription =\r\n      this._ngZone.runOutsideAngular(() =>\r\n        fromEvent<MouseEvent>(window, 'click')\r\n          .subscribe(evt => this._ngZone.run(() => {\r\n            this._foundation.handleBodyClick(evt);\r\n            this._open = this._foundation.isOpen();\r\n          })));\r\n  }\r\n\r\n  private _deregisterWindowClickListener(): void {\r\n    if (this._windowClickSubscription) {\r\n      this._windowClickSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n  /** Retrieves the DOM element of the component host. */\r\n  protected _getHostElement(): HTMLElement {\r\n    return this.elementRef.nativeElement;\r\n  }\r\n}\r\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCComponent from '@material/base/component';\nimport * as util from './util';\nimport {MDCMenuSurfaceFoundation, AnchorMargin} from './foundation';\nimport {MDCMenuSurfaceAdapter} from './adapter';\nimport {Corner, CornerBit, strings, cssClasses} from './constants';\n\n/**\n * @extends MDCComponent<!MDCMenuSurfaceFoundation>\n */\nclass MDCMenuSurface extends MDCComponent {\n  /** @param {...?} args */\n  constructor(...args) {\n    super(...args);\n\n    /** @private {!Element} */\n    this.previousFocus_;\n    /** @private {!Element} */\n    this.anchorElement;\n    /** @private {Element} */\n    this.firstFocusableElement_;\n    /** @private {Element} */\n    this.lastFocusableElement_;\n    /** @private {!Function} */\n    this.handleKeydown_;\n    /** @private {!Function} */\n    this.handleBodyClick_;\n    /** @private {!Function} */\n    this.registerBodyClickListener_;\n    /** @private {!Function} */\n    this.deregisterBodyClickListener_;\n  }\n\n  /**\n   * @param {!Element} root\n   * @return {!MDCMenuSurface}\n   */\n  static attachTo(root) {\n    return new MDCMenuSurface(root);\n  }\n\n  initialSyncWithDOM() {\n    if (this.root_.parentElement && this.root_.parentElement.classList.contains(cssClasses.ANCHOR)) {\n      this.anchorElement = this.root_.parentElement;\n    }\n\n    if (this.root_.classList.contains(cssClasses.FIXED)) {\n      this.setFixedPosition(true);\n    }\n\n    this.handleKeydown_ = (evt) => this.foundation_.handleKeydown(evt);\n    this.handleBodyClick_ = (evt) => this.foundation_.handleBodyClick(evt);\n\n    this.registerBodyClickListener_ = () => document.body.addEventListener('click', this.handleBodyClick_);\n    this.deregisterBodyClickListener_ = () => document.body.removeEventListener('click', this.handleBodyClick_);\n\n    this.root_.addEventListener('keydown', this.handleKeydown_);\n    this.root_.addEventListener(strings.OPENED_EVENT, this.registerBodyClickListener_);\n    this.root_.addEventListener(strings.CLOSED_EVENT, this.deregisterBodyClickListener_);\n  }\n\n  destroy() {\n    this.root_.removeEventListener('keydown', this.handleKeydown_);\n    this.root_.removeEventListener(strings.OPENED_EVENT, this.registerBodyClickListener_);\n    this.root_.removeEventListener(strings.CLOSED_EVENT, this.deregisterBodyClickListener_);\n    super.destroy();\n  }\n\n  /** @return {boolean} */\n  get open() {\n    return this.foundation_.isOpen();\n  }\n\n  /** @param {boolean} value */\n  set open(value) {\n    if (value) {\n      const focusableElements = this.root_.querySelectorAll(strings.FOCUSABLE_ELEMENTS);\n      this.firstFocusableElement_ = focusableElements.length > 0 ? focusableElements[0] : null;\n      this.lastFocusableElement_ = focusableElements.length > 0 ?\n        focusableElements[focusableElements.length - 1] : null;\n      this.foundation_.open();\n    } else {\n      this.foundation_.close();\n    }\n  }\n\n  /**\n   * Removes the menu-surface from it's current location and appends it to the\n   * body to overcome any overflow:hidden issues.\n   */\n  hoistMenuToBody() {\n    document.body.appendChild(this.root_.parentElement.removeChild(this.root_));\n    this.setIsHoisted(true);\n  }\n\n  /**\n   * Sets the foundation to use page offsets for an positioning when the menu\n   * is hoisted to the body.\n   * @param {boolean} isHoisted\n   */\n  setIsHoisted(isHoisted) {\n    this.foundation_.setIsHoisted(isHoisted);\n  }\n\n  /**\n   * Sets the element that the menu-surface is anchored to.\n   * @param {!Element} element\n   */\n  setMenuSurfaceAnchorElement(element) {\n    this.anchorElement = element;\n  }\n\n  /**\n   * Sets the menu-surface to position: fixed.\n   * @param {boolean} isFixed\n   */\n  setFixedPosition(isFixed) {\n    if (isFixed) {\n      this.root_.classList.add(cssClasses.FIXED);\n    } else {\n      this.root_.classList.remove(cssClasses.FIXED);\n    }\n\n    this.foundation_.setFixedPosition(isFixed);\n  }\n\n  /**\n   * Sets the absolute x/y position to position based on. Requires the menu to be hoisted.\n   * @param {number} x\n   * @param {number} y\n   */\n  setAbsolutePosition(x, y) {\n    this.foundation_.setAbsolutePosition(x, y);\n    this.setIsHoisted(true);\n  }\n\n  /**\n   * @param {!Corner} corner Default anchor corner alignment of top-left\n   *     surface corner.\n   */\n  setAnchorCorner(corner) {\n    this.foundation_.setAnchorCorner(corner);\n  }\n\n  /**\n   * @param {!AnchorMargin} margin\n   */\n  setAnchorMargin(margin) {\n    this.foundation_.setAnchorMargin(margin);\n  }\n\n  /** @param {boolean} quickOpen */\n  set quickOpen(quickOpen) {\n    this.foundation_.setQuickOpen(quickOpen);\n  }\n\n  /** @return {!MDCMenuSurfaceFoundation} */\n  getDefaultFoundation() {\n    return new MDCMenuSurfaceFoundation(\n      /** @type {!MDCMenuSurfaceAdapter} */ (Object.assign({\n        addClass: (className) => this.root_.classList.add(className),\n        removeClass: (className) => this.root_.classList.remove(className),\n        hasClass: (className) => this.root_.classList.contains(className),\n        hasAnchor: () => !!this.anchorElement,\n        notifyClose: () => this.emit(MDCMenuSurfaceFoundation.strings.CLOSED_EVENT, {}),\n        notifyOpen: () => this.emit(MDCMenuSurfaceFoundation.strings.OPENED_EVENT, {}),\n        isElementInContainer: (el) => this.root_ === el || this.root_.contains(el),\n        isRtl: () => getComputedStyle(this.root_).getPropertyValue('direction') === 'rtl',\n        setTransformOrigin: (origin) => {\n          this.root_.style[`${util.getTransformPropertyName(window)}-origin`] = origin;\n        },\n      },\n      this.getFocusAdapterMethods_(),\n      this.getDimensionAdapterMethods_())\n      ));\n  }\n\n  /**\n   * @return {!{\n   * isFocused: function(): boolean,\n   * saveFocus: function(),\n   * restoreFocus: function(),\n   * isFirstElementFocused: function(): boolean,\n   * isLastElementFocused: function(): boolean,\n   * focusFirstElement: function(),\n   * focusLastElement: function(),\n   * }}\n   * @private\n   */\n  getFocusAdapterMethods_() {\n    return {\n      isFocused: () => document.activeElement === this.root_,\n      saveFocus: () => {\n        this.previousFocus_ = document.activeElement;\n      },\n      restoreFocus: () => {\n        if (this.root_.contains(document.activeElement)) {\n          if (this.previousFocus_ && this.previousFocus_.focus) {\n            this.previousFocus_.focus();\n          }\n        }\n      },\n      isFirstElementFocused: () =>\n        this.firstFocusableElement_ && this.firstFocusableElement_ === document.activeElement,\n      isLastElementFocused: () =>\n        this.lastFocusableElement_ && this.lastFocusableElement_ === document.activeElement,\n      focusFirstElement: () =>\n        this.firstFocusableElement_ && this.firstFocusableElement_.focus && this.firstFocusableElement_.focus(),\n      focusLastElement: () =>\n        this.lastFocusableElement_ && this.lastFocusableElement_.focus && this.lastFocusableElement_.focus(),\n    };\n  }\n\n  /**\n   * @return {!{\n   * getInnerDimensions: function(),\n   * getAnchorDimensions: function(): (HTMLElement | null | * | ClientRect),\n   * getWindowDimensions: function(),\n   * setPosition: function(*),\n   * setMaxHeight: function(string)}}\n   * @private\n   */\n  getDimensionAdapterMethods_() {\n    return {\n      getInnerDimensions: () => {\n        return {width: this.root_.offsetWidth, height: this.root_.offsetHeight};\n      },\n      getAnchorDimensions: () => this.anchorElement && this.anchorElement.getBoundingClientRect(),\n      getWindowDimensions: () => {\n        return {width: window.innerWidth, height: window.innerHeight};\n      },\n      getBodyDimensions: () => {\n        return {width: document.body.clientWidth, height: document.body.clientHeight};\n      },\n      getWindowScroll: () => {\n        return {x: window.pageXOffset, y: window.pageYOffset};\n      },\n      setPosition: (position) => {\n        this.root_.style.left = 'left' in position ? position.left : null;\n        this.root_.style.right = 'right' in position ? position.right : null;\n        this.root_.style.top = 'top' in position ? position.top : null;\n        this.root_.style.bottom = 'bottom' in position ? position.bottom : null;\n      },\n      setMaxHeight: (height) => {\n        this.root_.style.maxHeight = height;\n      },\n    };\n  }\n}\n\nexport {MDCMenuSurfaceFoundation, MDCMenuSurface, AnchorMargin, Corner, CornerBit, util};\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * @typedef {{\n *   top: number,\n *   right: number,\n *   bottom: number,\n *   left: number\n * }}\n */\nlet AnchorMargin;\n\n/* eslint-disable no-unused-vars */\n/**\n * @typedef {{\n *   viewport: { width: number, height: number },\n *   viewportDistance: {top: number, right: number, bottom: number, left: number},\n *   anchorHeight: number,\n *   anchorWidth: number,\n *   surfaceHeight: number,\n *   surfaceWidth: number,\n *   bodyDimensions,\n *   windowScroll,\n * }}\n */\nlet AutoLayoutMeasurements;\n/* eslint-enable no-unused-vars */\n\nimport MDCFoundation from '@material/base/foundation';\nimport {MDCMenuSurfaceAdapter} from './adapter';\nimport {cssClasses, strings, numbers, Corner, CornerBit} from './constants';\n\n/**\n * @extends {MDCFoundation<!MDCMenuSurfaceAdapter>}\n */\nclass MDCMenuSurfaceFoundation extends MDCFoundation {\n  /** @return enum{cssClasses} */\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  /** @return enum{string} */\n  static get strings() {\n    return strings;\n  }\n\n  /** @return enum {number} */\n  static get numbers() {\n    return numbers;\n  }\n\n  /** @return enum{number} */\n  static get Corner() {\n    return Corner;\n  }\n\n  /**\n   * {@see MDCMenuSurfaceAdapter} for typing information on parameters and return\n   * types.\n   * @return {!MDCMenuSurfaceAdapter}\n   */\n  static get defaultAdapter() {\n    return /** @type {!MDCMenuSurfaceAdapter} */ ({\n      addClass: () => {},\n      removeClass: () => {},\n      hasClass: () => false,\n      hasAnchor: () => false,\n      notifyClose: () => {},\n      notifyOpen: () => {},\n      isElementInContainer: () => false,\n      isRtl: () => false,\n      setTransformOrigin: () => {},\n      isFocused: () => false,\n      saveFocus: () => {},\n      restoreFocus: () => {},\n      isFirstElementFocused: () => {},\n      isLastElementFocused: () => {},\n      focusFirstElement: () => {},\n      focusLastElement: () => {},\n      getInnerDimensions: () => ({}),\n      getAnchorDimensions: () => ({}),\n      getWindowDimensions: () => ({}),\n      getBodyDimensions: () => ({}),\n      getWindowScroll: () => ({}),\n      setPosition: () => {},\n      setMaxHeight: () => {},\n    });\n  }\n\n  /** @param {!MDCMenuSurfaceAdapter} adapter */\n  constructor(adapter) {\n    super(Object.assign(MDCMenuSurfaceFoundation.defaultAdapter, adapter));\n\n    /** @private {boolean} */\n    this.isOpen_ = false;\n    /** @private {number} */\n    this.openAnimationEndTimerId_ = 0;\n    /** @private {number} */\n    this.closeAnimationEndTimerId_ = 0;\n    /** @private {number} */\n    this.animationRequestId_ = 0;\n    /** @private {!{ width: number, height: number }} */\n    this.dimensions_;\n    /** @private {!Corner} */\n    this.anchorCorner_ = Corner.TOP_START;\n    /** @private {!AnchorMargin} */\n    this.anchorMargin_ = {top: 0, right: 0, bottom: 0, left: 0};\n    /** @private {?AutoLayoutMeasurements} */\n    this.measures_ = null;\n    /** @private {boolean} */\n    this.quickOpen_ = false;\n    /** @private {boolean} */\n    this.hoistedElement_ = false;\n    /** @private {boolean} */\n    this.isFixedPosition_ = false;\n    /** @private {!{x: number, y: number}} */\n    this.position_ = {x: 0, y: 0};\n  }\n\n  init() {\n    const {ROOT, OPEN} = MDCMenuSurfaceFoundation.cssClasses;\n\n    if (!this.adapter_.hasClass(ROOT)) {\n      throw new Error(`${ROOT} class required in root element.`);\n    }\n\n    if (this.adapter_.hasClass(OPEN)) {\n      this.isOpen_ = true;\n    }\n  }\n\n  destroy() {\n    clearTimeout(this.openAnimationEndTimerId_);\n    clearTimeout(this.closeAnimationEndTimerId_);\n    // Cancel any currently running animations.\n    cancelAnimationFrame(this.animationRequestId_);\n  }\n\n  /**\n   * @param {!Corner} corner Default anchor corner alignment of top-left menu surface corner.\n   */\n  setAnchorCorner(corner) {\n    this.anchorCorner_ = corner;\n  }\n\n  /**\n   * @param {!AnchorMargin} margin set of margin values from anchor.\n   */\n  setAnchorMargin(margin) {\n    this.anchorMargin_.top = typeof margin.top === 'number' ? margin.top : 0;\n    this.anchorMargin_.right = typeof margin.right === 'number' ? margin.right : 0;\n    this.anchorMargin_.bottom = typeof margin.bottom === 'number' ? margin.bottom : 0;\n    this.anchorMargin_.left = typeof margin.left === 'number' ? margin.left : 0;\n  }\n\n  /**\n   * Used to indicate if the menu-surface is hoisted to the body.\n   * @param {boolean} isHoisted\n   */\n  setIsHoisted(isHoisted) {\n    this.hoistedElement_ = isHoisted;\n  }\n\n  /**\n   * Used to set the menu-surface calculations based on a fixed position menu.\n   * @param {boolean} isFixedPosition\n   */\n  setFixedPosition(isFixedPosition) {\n    this.isFixedPosition_ = isFixedPosition;\n  }\n\n  /**\n   * Sets the menu-surface position on the page.\n   * @param {number} x\n   * @param {number} y\n   */\n  setAbsolutePosition(x, y) {\n    this.position_.x = this.typeCheckisFinite_(x) ? x : 0;\n    this.position_.y = this.typeCheckisFinite_(y) ? y : 0;\n  }\n\n  /** @param {boolean} quickOpen */\n  setQuickOpen(quickOpen) {\n    this.quickOpen_ = quickOpen;\n  }\n\n  /**\n   * Handle clicks and close if not within menu-surface element.\n   * @param {!Event} evt\n   */\n  handleBodyClick(evt) {\n    const el = evt.target;\n\n    if (this.adapter_.isElementInContainer(el)) {\n      return;\n    }\n\n    this.close();\n  };\n\n  /**\n   * Handle keys that close the surface.\n   * @param {!Event} evt\n   */\n  handleKeydown(evt) {\n    const {keyCode, key, shiftKey} = evt;\n\n    const isEscape = key === 'Escape' || keyCode === 27;\n    const isTab = key === 'Tab' || keyCode === 9;\n\n    if (isEscape) {\n      this.close();\n    } else if (isTab) {\n      if (this.adapter_.isLastElementFocused() && !shiftKey) {\n        this.adapter_.focusFirstElement();\n        evt.preventDefault();\n      } else if (this.adapter_.isFirstElementFocused() && shiftKey) {\n        this.adapter_.focusLastElement();\n        evt.preventDefault();\n      }\n    }\n  }\n\n  /**\n   * @return {!AutoLayoutMeasurements} Measurements used to position menu surface popup.\n   */\n  getAutoLayoutMeasurements_() {\n    let anchorRect = this.adapter_.getAnchorDimensions();\n    const viewport = this.adapter_.getWindowDimensions();\n    const bodyDimensions = this.adapter_.getBodyDimensions();\n    const windowScroll = this.adapter_.getWindowScroll();\n\n    if (!anchorRect) {\n      anchorRect = /** @type {ClientRect} */ ({\n        x: this.position_.x,\n        y: this.position_.y,\n        top: this.position_.y,\n        bottom: this.position_.y,\n        left: this.position_.x,\n        right: this.position_.x,\n        height: 0,\n        width: 0,\n      });\n    }\n\n    return {\n      viewport,\n      bodyDimensions,\n      windowScroll,\n      viewportDistance: {\n        top: anchorRect.top,\n        right: viewport.width - anchorRect.right,\n        left: anchorRect.left,\n        bottom: viewport.height - anchorRect.bottom,\n      },\n      anchorHeight: anchorRect.height,\n      anchorWidth: anchorRect.width,\n      surfaceHeight: this.dimensions_.height,\n      surfaceWidth: this.dimensions_.width,\n    };\n  }\n\n  /**\n   * Computes the corner of the anchor from which to animate and position the menu surface.\n   * @return {!Corner}\n   * @private\n   */\n  getOriginCorner_() {\n    // Defaults: open from the top left.\n    let corner = Corner.TOP_LEFT;\n\n    const {viewportDistance, anchorHeight, anchorWidth, surfaceHeight, surfaceWidth} = this.measures_;\n    const isBottomAligned = Boolean(this.anchorCorner_ & CornerBit.BOTTOM);\n    const availableTop = isBottomAligned ? viewportDistance.top + anchorHeight + this.anchorMargin_.bottom\n      : viewportDistance.top + this.anchorMargin_.top;\n    const availableBottom = isBottomAligned ? viewportDistance.bottom - this.anchorMargin_.bottom\n      : viewportDistance.bottom + anchorHeight - this.anchorMargin_.top;\n\n    const topOverflow = surfaceHeight - availableTop;\n    const bottomOverflow = surfaceHeight - availableBottom;\n    if (bottomOverflow > 0 && topOverflow < bottomOverflow) {\n      corner |= CornerBit.BOTTOM;\n    }\n\n    const isRtl = this.adapter_.isRtl();\n    const isFlipRtl = Boolean(this.anchorCorner_ & CornerBit.FLIP_RTL);\n    const avoidHorizontalOverlap = Boolean(this.anchorCorner_ & CornerBit.RIGHT);\n    const isAlignedRight = (avoidHorizontalOverlap && !isRtl) ||\n      (!avoidHorizontalOverlap && isFlipRtl && isRtl);\n    const availableLeft = isAlignedRight ? viewportDistance.left + anchorWidth + this.anchorMargin_.right :\n      viewportDistance.left + this.anchorMargin_.left;\n    const availableRight = isAlignedRight ? viewportDistance.right - this.anchorMargin_.right :\n      viewportDistance.right + anchorWidth - this.anchorMargin_.left;\n\n    const leftOverflow = surfaceWidth - availableLeft;\n    const rightOverflow = surfaceWidth - availableRight;\n\n    if ((leftOverflow < 0 && isAlignedRight && isRtl) ||\n        (avoidHorizontalOverlap && !isAlignedRight && leftOverflow < 0) ||\n        (rightOverflow > 0 && leftOverflow < rightOverflow)) {\n      corner |= CornerBit.RIGHT;\n    }\n\n    return /** @type {Corner} */ (corner);\n  }\n\n  /**\n   * @param {!Corner} corner Origin corner of the menu surface.\n   * @return {number} Horizontal offset of menu surface origin corner from corresponding anchor corner.\n   * @private\n   */\n  getHorizontalOriginOffset_(corner) {\n    const {anchorWidth} = this.measures_;\n    // isRightAligned corresponds to using the 'right' property on the surface.\n    const isRightAligned = Boolean(corner & CornerBit.RIGHT);\n    const avoidHorizontalOverlap = Boolean(this.anchorCorner_ & CornerBit.RIGHT);\n\n    if (isRightAligned) {\n      const rightOffset = avoidHorizontalOverlap ? anchorWidth - this.anchorMargin_.left : this.anchorMargin_.right;\n\n      // For hoisted or fixed elements, adjust the offset by the difference between viewport width and body width so\n      // when we calculate the right value (`adjustPositionForHoistedElement_`) based on the element position,\n      // the right property is correct.\n      if (this.hoistedElement_ || this.isFixedPosition_) {\n        return rightOffset - (this.measures_.viewport.width - this.measures_.bodyDimensions.width);\n      }\n\n      return rightOffset;\n    }\n\n    return avoidHorizontalOverlap ? anchorWidth - this.anchorMargin_.right : this.anchorMargin_.left;\n  }\n\n  /**\n   * @param {!Corner} corner Origin corner of the menu surface.\n   * @return {number} Vertical offset of menu surface origin corner from corresponding anchor corner.\n   * @private\n   */\n  getVerticalOriginOffset_(corner) {\n    const {anchorHeight} = this.measures_;\n    const isBottomAligned = Boolean(corner & CornerBit.BOTTOM);\n    const avoidVerticalOverlap = Boolean(this.anchorCorner_ & CornerBit.BOTTOM);\n    let y = 0;\n\n    if (isBottomAligned) {\n      y = avoidVerticalOverlap ? anchorHeight - this.anchorMargin_.top : -this.anchorMargin_.bottom;\n    } else {\n      y = avoidVerticalOverlap ? (anchorHeight + this.anchorMargin_.bottom) : this.anchorMargin_.top;\n    }\n    return y;\n  }\n\n  /**\n   * @param {!Corner} corner Origin corner of the menu surface.\n   * @return {number} Maximum height of the menu surface, based on available space. 0 indicates should not be set.\n   * @private\n   */\n  getMenuSurfaceMaxHeight_(corner) {\n    let maxHeight = 0;\n    const {viewportDistance} = this.measures_;\n    const isBottomAligned = Boolean(corner & CornerBit.BOTTOM);\n    const {MARGIN_TO_EDGE} = MDCMenuSurfaceFoundation.numbers;\n\n    // When maximum height is not specified, it is handled from css.\n    if (isBottomAligned) {\n      maxHeight = viewportDistance.top + this.anchorMargin_.top - MARGIN_TO_EDGE;\n      if (!(this.anchorCorner_ & CornerBit.BOTTOM)) {\n        maxHeight += this.measures_.anchorHeight;\n      }\n    } else {\n      maxHeight = viewportDistance.bottom - this.anchorMargin_.bottom + this.measures_.anchorHeight - MARGIN_TO_EDGE;\n      if (this.anchorCorner_ & CornerBit.BOTTOM) {\n        maxHeight -= this.measures_.anchorHeight;\n      }\n    }\n\n    return maxHeight;\n  }\n\n  /** @private */\n  autoPosition_() {\n    // Compute measurements for autoposition methods reuse.\n    this.measures_ = this.getAutoLayoutMeasurements_();\n\n    const corner = this.getOriginCorner_();\n    const maxMenuSurfaceHeight = this.getMenuSurfaceMaxHeight_(corner);\n    const verticalAlignment = (corner & CornerBit.BOTTOM) ? 'bottom' : 'top';\n    let horizontalAlignment = (corner & CornerBit.RIGHT) ? 'right' : 'left';\n    const horizontalOffset = this.getHorizontalOriginOffset_(corner);\n    const verticalOffset = this.getVerticalOriginOffset_(corner);\n    let position = {\n      [horizontalAlignment]: horizontalOffset ? horizontalOffset : '0',\n      [verticalAlignment]: verticalOffset ? verticalOffset : '0',\n    };\n    const {anchorWidth, surfaceWidth} = this.measures_;\n    // Center align when anchor width is comparable or greater than menu surface, otherwise keep corner.\n    if (anchorWidth / surfaceWidth > numbers.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO) {\n      horizontalAlignment = 'center';\n    }\n\n    // If the menu-surface has been hoisted to the body, it's no longer relative to the anchor element\n    if (this.hoistedElement_ || this.isFixedPosition_) {\n      position = this.adjustPositionForHoistedElement_(position);\n    }\n\n    for (const prop in position) {\n      if (position.hasOwnProperty(prop) && position[prop] !== '0') {\n        position[prop] = `${parseInt(position[prop], 10)}px`;\n      }\n    }\n\n    this.adapter_.setTransformOrigin(`${horizontalAlignment} ${verticalAlignment}`);\n    this.adapter_.setPosition(position);\n    this.adapter_.setMaxHeight(maxMenuSurfaceHeight ? maxMenuSurfaceHeight + 'px' : '');\n\n    // Clear measures after positioning is complete.\n    this.measures_ = null;\n  }\n\n  /**\n   * Calculates the offsets for positioning the menu-surface when the menu-surface has been\n   * hoisted to the body.\n   * @param {!{\n   *   top: (string|undefined),\n   *   right: (string|undefined),\n   *   bottom: (string|undefined),\n   *   left: (string|undefined)\n   * }} position\n   * @return {!{\n   *   top: (string|undefined),\n   *   right: (string|undefined),\n   *   bottom: (string|undefined),\n   *   left: (string|undefined)\n   * }} position\n   * @private\n   */\n  adjustPositionForHoistedElement_(position) {\n    const {windowScroll, viewportDistance} = this.measures_;\n\n    for (const prop in position) {\n      if (position.hasOwnProperty(prop)) {\n        // Hoisted surfaces need to have the anchor elements location on the page added to the\n        // position properties for proper alignment on the body.\n        if (viewportDistance.hasOwnProperty(prop)) {\n          position[prop] = parseInt(position[prop], 10) + viewportDistance[prop];\n        }\n\n        // Surfaces that are absolutely positioned need to have additional calculations for scroll\n        // and bottom positioning.\n        if (!this.isFixedPosition_) {\n          if (prop === 'top') {\n            position[prop] = parseInt(position[prop], 10) + windowScroll.y;\n          } else if (prop === 'bottom') {\n            position[prop] = parseInt(position[prop], 10) - windowScroll.y;\n          } else if (prop === 'left') {\n            position[prop] = parseInt(position[prop], 10) + windowScroll.x;\n          } else if (prop === 'right') {\n            position[prop] = parseInt(position[prop], 10) - windowScroll.x;\n          }\n        }\n      }\n    }\n\n    return position;\n  }\n\n  /**\n   * Open the menu surface.\n   */\n  open() {\n    this.adapter_.saveFocus();\n\n    if (!this.quickOpen_) {\n      this.adapter_.addClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_OPEN);\n    }\n\n    this.animationRequestId_ = requestAnimationFrame(() => {\n      this.adapter_.addClass(MDCMenuSurfaceFoundation.cssClasses.OPEN);\n      this.dimensions_ = this.adapter_.getInnerDimensions();\n      this.autoPosition_();\n      if (this.quickOpen_) {\n        this.adapter_.notifyOpen();\n      } else {\n        this.openAnimationEndTimerId_ = setTimeout(() => {\n          this.openAnimationEndTimerId_ = 0;\n          this.adapter_.removeClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_OPEN);\n          this.adapter_.notifyOpen();\n        }, numbers.TRANSITION_OPEN_DURATION);\n      }\n    });\n    this.isOpen_ = true;\n  }\n\n  /**\n   * Closes the menu surface.\n   */\n  close() {\n    if (!this.quickOpen_) {\n      this.adapter_.addClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_CLOSED);\n    }\n\n    requestAnimationFrame(() => {\n      this.adapter_.removeClass(MDCMenuSurfaceFoundation.cssClasses.OPEN);\n      if (this.quickOpen_) {\n        this.adapter_.notifyClose();\n      } else {\n        this.closeAnimationEndTimerId_ = setTimeout(() => {\n          this.closeAnimationEndTimerId_ = 0;\n          this.adapter_.removeClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_CLOSED);\n          this.adapter_.notifyClose();\n        }, numbers.TRANSITION_CLOSE_DURATION);\n      }\n    });\n\n    this.isOpen_ = false;\n    this.maybeRestoreFocus_();\n  }\n\n  /**\n   * The last focused element when the menu surface was opened should regain focus, if the user is\n   * focused on or within the menu surface when it is closed.\n   * @private\n   */\n  maybeRestoreFocus_() {\n    if (this.adapter_.isFocused() || this.adapter_.isElementInContainer(document.activeElement)) {\n      this.adapter_.restoreFocus();\n    }\n  }\n\n  /** @return {boolean} */\n  isOpen() {\n    return this.isOpen_;\n  }\n\n  /**\n   * isFinite that doesn't force conversion to number type.\n   * Equivalent to Number.isFinite in ES2015, but is not included in IE11.\n   * @param {number} num\n   * @return {boolean}\n   * @private\n   */\n  typeCheckisFinite_(num) {\n    return typeof num === 'number' && isFinite(num);\n  }\n}\n\nexport {MDCMenuSurfaceFoundation, AnchorMargin};\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDCMenuSurface. Provides an interface for managing\n * - classes\n * - dom\n * - focus\n * - position\n * - dimensions\n * - event handlers\n *\n * Additionally, provides type information for the adapter to the Closure\n * compiler.\n *\n * Implement this adapter for your framework of choice to delegate updates to\n * the component in your framework of choice. See architecture documentation\n * for more details.\n * https://github.com/material-components/material-components-web/blob/master/docs/code/architecture.md\n *\n * @record\n */\nclass MDCMenuSurfaceAdapter {\n  /** @param {string} className */\n  addClass(className) {}\n\n  /** @param {string} className */\n  removeClass(className) {}\n\n  /**\n   * @param {string} className\n   * @return {boolean}\n   */\n  hasClass(className) {}\n\n  /** @return {boolean} */\n  hasAnchor() {}\n\n  /** Emits an event when the menu surface is closed. */\n  notifyClose() {}\n\n  /** Emits an event when the menu surface is opened. */\n  notifyOpen() {}\n\n  /**\n   * @return {boolean}\n   * @param {EventTarget} el\n   */\n  isElementInContainer(el) {}\n\n  /** @return {boolean} */\n  isRtl() {}\n\n  /** @param {string} origin */\n  setTransformOrigin(origin) {}\n\n  /** @return {boolean} */\n  isFocused() {}\n\n  /** Saves the element that was focused before the menu surface was opened. */\n  saveFocus() {}\n\n  /** Restores focus to the element that was focused before the menu surface was opened. */\n  restoreFocus() {}\n\n  /** @return {boolean} */\n  isFirstElementFocused() {}\n\n  /** @return {boolean} */\n  isLastElementFocused() {}\n\n  /** Focuses the first focusable element in the menu-surface. */\n  focusFirstElement() {}\n\n  /** Focuses the first focusable element in the menu-surface. */\n  focusLastElement() {}\n\n  /** @return {!{width: number, height: number}} */\n  getInnerDimensions() {}\n\n  /** @return {!{width: number, height: number, top: number, right: number, bottom: number, left: number}} */\n  getAnchorDimensions() {}\n\n  /** @return {!{ width: number, height: number }} */\n  getWindowDimensions() {}\n\n  /** @return {!{ width: number, height: number }} */\n  getBodyDimensions() {}\n\n  /** @return {!{ width: number, height: number }} */\n  getWindowScroll() {}\n\n  /** @param {!{\n  *   top: (string|undefined),\n  *   right: (string|undefined),\n  *   bottom: (string|undefined),\n  *   left: (string|undefined)\n  * }} position */\n  setPosition(position) {}\n\n  /** @param {string} height */\n  setMaxHeight(height) {}\n}\n\nexport {MDCMenuSurfaceAdapter};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCFoundation from './foundation';\n\n/**\n * @template F\n */\nclass MDCComponent {\n  /**\n   * @param {!Element} root\n   * @return {!MDCComponent}\n   */\n  static attachTo(root) {\n    // Subclasses which extend MDCBase should provide an attachTo() method that takes a root element and\n    // returns an instantiated component with its root set to that element. Also note that in the cases of\n    // subclasses, an explicit foundation class will not have to be passed in; it will simply be initialized\n    // from getDefaultFoundation().\n    return new MDCComponent(root, new MDCFoundation());\n  }\n\n  /**\n   * @param {!Element} root\n   * @param {F=} foundation\n   * @param {...?} args\n   */\n  constructor(root, foundation = undefined, ...args) {\n    /** @protected {!Element} */\n    this.root_ = root;\n    this.initialize(...args);\n    // Note that we initialize foundation here and not within the constructor's default param so that\n    // this.root_ is defined and can be used within the foundation class.\n    /** @protected {!F} */\n    this.foundation_ = foundation === undefined ? this.getDefaultFoundation() : foundation;\n    this.foundation_.init();\n    this.initialSyncWithDOM();\n  }\n\n  initialize(/* ...args */) {\n    // Subclasses can override this to do any additional setup work that would be considered part of a\n    // \"constructor\". Essentially, it is a hook into the parent constructor before the foundation is\n    // initialized. Any additional arguments besides root and foundation will be passed in here.\n  }\n\n  /**\n   * @return {!F} foundation\n   */\n  getDefaultFoundation() {\n    // Subclasses must override this method to return a properly configured foundation class for the\n    // component.\n    throw new Error('Subclasses must override getDefaultFoundation to return a properly configured ' +\n      'foundation class');\n  }\n\n  initialSyncWithDOM() {\n    // Subclasses should override this method if they need to perform work to synchronize with a host DOM\n    // object. An example of this would be a form control wrapper that needs to synchronize its internal state\n    // to some property or attribute of the host DOM. Please note: this is *not* the place to perform DOM\n    // reads/writes that would cause layout / paint, as this is called synchronously from within the constructor.\n  }\n\n  destroy() {\n    // Subclasses may implement this method to release any resources / deregister any listeners they have\n    // attached. An example of this might be deregistering a resize event from the window object.\n    this.foundation_.destroy();\n  }\n\n  /**\n   * Wrapper method to add an event listener to the component's root element. This is most useful when\n   * listening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  listen(evtType, handler) {\n    this.root_.addEventListener(evtType, handler);\n  }\n\n  /**\n   * Wrapper method to remove an event listener to the component's root element. This is most useful when\n   * unlistening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  unlisten(evtType, handler) {\n    this.root_.removeEventListener(evtType, handler);\n  }\n\n  /**\n   * Fires a cross-browser-compatible custom event from the component root of the given type,\n   * with the given data.\n   * @param {string} evtType\n   * @param {!Object} evtData\n   * @param {boolean=} shouldBubble\n   */\n  emit(evtType, evtData, shouldBubble = false) {\n    let evt;\n    if (typeof CustomEvent === 'function') {\n      evt = new CustomEvent(evtType, {\n        detail: evtData,\n        bubbles: shouldBubble,\n      });\n    } else {\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(evtType, shouldBubble, false, evtData);\n    }\n\n    this.root_.dispatchEvent(evt);\n  }\n}\n\nexport default MDCComponent;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * @template A\n */\nclass MDCFoundation {\n  /** @return enum{cssClasses} */\n  static get cssClasses() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports every\n    // CSS class the foundation class needs as a property. e.g. {ACTIVE: 'mdc-component--active'}\n    return {};\n  }\n\n  /** @return enum{strings} */\n  static get strings() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // semantic strings as constants. e.g. {ARIA_ROLE: 'tablist'}\n    return {};\n  }\n\n  /** @return enum{numbers} */\n  static get numbers() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // of its semantic numbers as constants. e.g. {ANIMATION_DELAY_MS: 350}\n    return {};\n  }\n\n  /** @return {!Object} */\n  static get defaultAdapter() {\n    // Classes extending MDCFoundation may choose to implement this getter in order to provide a convenient\n    // way of viewing the necessary methods of an adapter. In the future, this could also be used for adapter\n    // validation.\n    return {};\n  }\n\n  /**\n   * @param {A=} adapter\n   */\n  constructor(adapter = {}) {\n    /** @protected {!A} */\n    this.adapter_ = adapter;\n  }\n\n  init() {\n    // Subclasses should override this method to perform initialization routines (registering events, etc.)\n  }\n\n  destroy() {\n    // Subclasses should override this method to perform de-initialization routines (de-registering events, etc.)\n  }\n}\n\nexport default MDCFoundation;\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/** @enum {string} */\nconst cssClasses = {\n  ANCHOR: 'mdc-menu-surface--anchor',\n  ANIMATING_CLOSED: 'mdc-menu-surface--animating-closed',\n  ANIMATING_OPEN: 'mdc-menu-surface--animating-open',\n  FIXED: 'mdc-menu-surface--fixed',\n  OPEN: 'mdc-menu-surface--open',\n  ROOT: 'mdc-menu-surface',\n};\n\n/** @enum {string} */\nconst strings = {\n  CLOSED_EVENT: 'MDCMenuSurface:closed',\n  OPENED_EVENT: 'MDCMenuSurface:opened',\n  FOCUSABLE_ELEMENTS: 'button:not(:disabled), [href]:not([aria-disabled=\"true\"]), input:not(:disabled), ' +\n  'select:not(:disabled), textarea:not(:disabled), [tabindex]:not([tabindex=\"-1\"]):not([aria-disabled=\"true\"])',\n};\n\n/** @enum {number} */\nconst numbers = {\n  // Total duration of menu-surface open animation.\n  TRANSITION_OPEN_DURATION: 120,\n  // Total duration of menu-surface close animation.\n  TRANSITION_CLOSE_DURATION: 75,\n  // Margin left to the edge of the viewport when menu-surface is at maximum possible height.\n  MARGIN_TO_EDGE: 32,\n  // Ratio of anchor width to menu-surface width for switching from corner positioning to center positioning.\n  ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO: 0.67,\n};\n\n/**\n * Enum for bits in the {@see Corner) bitmap.\n * @enum {number}\n */\nconst CornerBit = {\n  BOTTOM: 1,\n  CENTER: 2,\n  RIGHT: 4,\n  FLIP_RTL: 8,\n};\n\n/**\n * Enum for representing an element corner for positioning the menu-surface.\n *\n * The START constants map to LEFT if element directionality is left\n * to right and RIGHT if the directionality is right to left.\n * Likewise END maps to RIGHT or LEFT depending on the directionality.\n *\n * @enum {number}\n */\nconst Corner = {\n  TOP_LEFT: 0,\n  TOP_RIGHT: CornerBit.RIGHT,\n  BOTTOM_LEFT: CornerBit.BOTTOM,\n  BOTTOM_RIGHT: CornerBit.BOTTOM | CornerBit.RIGHT,\n  TOP_START: CornerBit.FLIP_RTL,\n  TOP_END: CornerBit.FLIP_RTL | CornerBit.RIGHT,\n  BOTTOM_START: CornerBit.BOTTOM | CornerBit.FLIP_RTL,\n  BOTTOM_END: CornerBit.BOTTOM | CornerBit.RIGHT | CornerBit.FLIP_RTL,\n};\n\nexport {cssClasses, strings, numbers, CornerBit, Corner};\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/** @type {string|undefined} */\nlet storedTransformPropertyName_;\n\n/**\n * Returns the name of the correct transform property to use on the current browser.\n * @param {!Window} globalObj\n * @param {boolean=} forceRefresh\n * @return {string}\n */\nfunction getTransformPropertyName(globalObj, forceRefresh = false) {\n  if (storedTransformPropertyName_ === undefined || forceRefresh) {\n    const el = globalObj.document.createElement('div');\n    const transformPropertyName = ('transform' in el.style ? 'transform' : 'webkitTransform');\n    storedTransformPropertyName_ = transformPropertyName;\n  }\n\n  return storedTransformPropertyName_;\n}\n\nexport {getTransformPropertyName};\n"],"names":[],"mappings":"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"}