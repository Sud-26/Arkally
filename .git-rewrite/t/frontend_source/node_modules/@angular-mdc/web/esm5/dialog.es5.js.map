{"version":3,"file":"dialog.es5.js","sources":["../../../packages/dialog/dialog-module.ts","../../../packages/dialog/dialog.ts","../../../packages/dialog/dialog-portal.ts","../../../packages/dialog/dialog-config.ts","../../../packages/dialog/dialog.component.ts","../../../node_modules/@material/dialog/index.js","../../../node_modules/@material/dialog/foundation.js","../../../node_modules/@material/dialog/adapter.js","../../../node_modules/@material/ripple/index.js","../../../node_modules/@material/ripple/foundation.js","../../../node_modules/@material/ripple/util.js","../../../node_modules/@material/ripple/constants.js","../../../node_modules/@material/ripple/adapter.js","../../../node_modules/@material/base/component.js","../../../node_modules/@material/base/foundation.js","../../../node_modules/@material/dom/ponyfill.js","../../../node_modules/@material/dialog/constants.js","../../../node_modules/@material/dialog/util.js","../../../packages/dialog/dialog-ref.ts","../../../packages/dialog/dialog-directives.ts","../../../node_modules/focus-trap/index.js","../../../node_modules/xtend/immutable.js","../../../node_modules/tabbable/index.js"],"sourcesContent":["import { NgModule } from '@angular/core';\r\n\r\nimport { OverlayModule } from '@angular-mdc/web/overlay';\r\nimport { PortalModule } from '@angular-mdc/web/portal';\r\n\r\nimport { MdcDialogComponent } from './dialog.component';\r\nimport { MdcDialogPortal } from './dialog-portal';\r\nimport { MdcDialog } from './dialog';\r\n\r\nimport {\r\n  MdcDialogAction,\r\n  MdcDialogActions,\r\n  MdcDialogButton,\r\n  MdcDialogContainer,\r\n  MdcDialogContent,\r\n  MdcDialogScrim,\r\n  MdcDialogSurface,\r\n  MdcDialogTitle\r\n} from './dialog-directives';\r\n\r\nconst DIALOG_DECLARATIONS = [\r\n  MdcDialogAction,\r\n  MdcDialogActions,\r\n  MdcDialogButton,\r\n  MdcDialogComponent,\r\n  MdcDialogContainer,\r\n  MdcDialogPortal,\r\n  MdcDialogContent,\r\n  MdcDialogScrim,\r\n  MdcDialogSurface,\r\n  MdcDialogSurface,\r\n  MdcDialogTitle\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    OverlayModule,\r\n    PortalModule\r\n  ],\r\n  exports: DIALOG_DECLARATIONS,\r\n  declarations: DIALOG_DECLARATIONS,\r\n  providers: [MdcDialog],\r\n  entryComponents: [\r\n    MdcDialogPortal,\r\n    MdcDialogComponent\r\n  ]\r\n})\r\nexport class MdcDialogModule { }\r\n","import {\r\n  Inject,\r\n  Injectable,\r\n  InjectionToken,\r\n  Injector,\r\n  OnDestroy,\r\n  Optional,\r\n  SkipSelf,\r\n  TemplateRef\r\n} from '@angular/core';\r\nimport { Observable, Subject, defer } from 'rxjs';\r\nimport { startWith } from 'rxjs/operators';\r\nimport {\r\n  Overlay,\r\n  OverlayRef\r\n} from '@angular-mdc/web/overlay';\r\nimport {\r\n  ComponentPortal,\r\n  ComponentType,\r\n  PortalInjector,\r\n  TemplatePortal\r\n} from '@angular-mdc/web/portal';\r\n\r\nimport { MdcDialogRef } from './dialog-ref';\r\nimport { MdcDialogPortal } from './dialog-portal';\r\nimport { MdcDialogConfig } from './dialog-config';\r\n\r\n/** Injection token that can be used to access the data that was passed in to a dialog. */\r\nexport const MDC_DIALOG_DATA = new InjectionToken<any>('MdcDialogData');\r\n\r\n/** Injection token that can be used to specify default dialog options. */\r\nexport const MDC_DIALOG_DEFAULT_OPTIONS =\r\n  new InjectionToken<MdcDialogConfig>('mdc-dialog-default-options');\r\n\r\n@Injectable()\r\nexport class MdcDialog implements OnDestroy {\r\n  private _openDialogsAtThisLevel: MdcDialogRef<any>[] = [];\r\n  private readonly _afterAllClosedAtThisLevel = new Subject<void>();\r\n  private readonly _afterOpenedAtThisLevel = new Subject<MdcDialogRef<any>>();\r\n  private _ariaHiddenElements = new Map<Element, string | null>();\r\n\r\n  /** Keeps track of the currently-open dialogs. */\r\n  get openDialogs(): MdcDialogRef<any>[] {\r\n    return this._parentDialog ? this._parentDialog.openDialogs : this._openDialogsAtThisLevel;\r\n  }\r\n\r\n  /** Stream that emits when a dialog has been opened. */\r\n  get afterOpened(): Subject<MdcDialogRef<any>> {\r\n    return this._parentDialog ? this._parentDialog.afterOpened : this._afterOpenedAtThisLevel;\r\n  }\r\n\r\n  get _afterAllClosed(): Subject<void> {\r\n    const parent = this._parentDialog;\r\n    return parent ? parent._afterAllClosed : this._afterAllClosedAtThisLevel;\r\n  }\r\n\r\n  /**\r\n   * Stream that emits when all open dialog have finished closing.\r\n   * Will emit on subscribe if there are no open dialogs to begin with.\r\n   */\r\n  readonly afterAllClosed: Observable<any> = defer<any>(() => this.openDialogs.length ?\r\n    this._afterAllClosed :\r\n    this._afterAllClosed.pipe(startWith(undefined)));\r\n\r\n  constructor(\r\n    private _overlay: Overlay,\r\n    private _injector: Injector,\r\n    @Optional() @Inject(MDC_DIALOG_DEFAULT_OPTIONS) private _defaultOptions: MdcDialogConfig,\r\n    @Optional() @SkipSelf() private _parentDialog: MdcDialog) { }\r\n\r\n  /**\r\n   * Opens a modal dialog containing the given template.\r\n   * @param componentOrTemplateRef Type of the component to load into the dialog,\r\n   *     or a TemplateRef to instantiate as the dialog content.\r\n   * @param config Extra configuration options.\r\n   * @returns Reference to the newly-opened dialog.\r\n   */\r\n  open<T, D = any>(componentOrTemplateRef: ComponentType<T> | TemplateRef<T>,\r\n    config?: MdcDialogConfig<D>): MdcDialogRef<T, {}> {\r\n\r\n    config = _applyConfigDefaults(config, this._defaultOptions || new MdcDialogConfig());\r\n\r\n    if (config.id && this.getDialogById(config.id)) {\r\n      throw Error(`Dialog with id \"${config.id}\" exists already. The dialog id must be unique.`);\r\n    }\r\n\r\n    const overlayRef = this._createOverlay();\r\n    const dialogContainer = this._attachDialogContainer(overlayRef, config);\r\n    const dialogRef = this._attachDialogContent<T>(componentOrTemplateRef,\r\n      dialogContainer,\r\n      overlayRef,\r\n      config);\r\n\r\n    this.openDialogs.push(dialogRef);\r\n    dialogRef.afterClosed().subscribe(() => this._removeOpenDialog(dialogRef));\r\n    this.afterOpened.next(dialogRef);\r\n\r\n    return dialogRef;\r\n  }\r\n\r\n  /** Closes all of the currently-open dialogs. */\r\n  closeAll(): void {\r\n    this._closeDialogs(this.openDialogs);\r\n  }\r\n\r\n  /**\r\n   * Finds an open dialog by its id.\r\n   * @param id ID to use when looking up the dialog.\r\n   */\r\n  getDialogById(id: string): MdcDialogRef<any> | undefined {\r\n    return this.openDialogs.find(dialog => dialog.id === id);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    // Only close the dialogs at this level on destroy\r\n    // since the parent service may still be active.\r\n    this._closeDialogs(this._openDialogsAtThisLevel);\r\n    this._afterAllClosedAtThisLevel.complete();\r\n    this._afterOpenedAtThisLevel.complete();\r\n  }\r\n\r\n  /**\r\n   * Creates the overlay into which the dialog will be loaded.\r\n   * @returns A promise resolving to the OverlayRef for the created overlay.\r\n   */\r\n  private _createOverlay(): OverlayRef {\r\n    return this._overlay.create();\r\n  }\r\n\r\n  /**\r\n   * Attaches an MdcDialogPortal to a dialog's already-created overlay.\r\n   * @param overlay Reference to the dialog's underlying overlay.\r\n   * @param config The dialog configuration.\r\n   * @returns A promise resolving to a ComponentRef for the attached container.\r\n   */\r\n  private _attachDialogContainer(overlay: OverlayRef, config: MdcDialogConfig): MdcDialogPortal {\r\n    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\r\n    const injector = new PortalInjector(userInjector || this._injector, new WeakMap([\r\n      [MdcDialogConfig, config]\r\n    ]));\r\n    const containerPortal =\r\n      new ComponentPortal(MdcDialogPortal, config.viewContainerRef, injector);\r\n    const containerRef = overlay.attach<MdcDialogPortal>(containerPortal);\r\n\r\n    return containerRef.instance;\r\n  }\r\n\r\n  /**\r\n   * Attaches the user-provided component to the already-created MdcDialogPortal.\r\n   * @param componentOrTemplateRef The type of component being loaded into the dialog,\r\n   *     or a TemplateRef to instantiate as the content.\r\n   * @param dialogContainer Reference to the wrapping MdcDialogPortal.\r\n   * @param overlayRef Reference to the overlay in which the dialog resides.\r\n   * @param config The dialog configuration.\r\n   * @returns A promise resolving to the MdcDialogRef that should be returned to the user.\r\n   */\r\n  private _attachDialogContent<T>(\r\n    componentOrTemplateRef: ComponentType<T> | TemplateRef<T>,\r\n    dialogContainer: MdcDialogPortal,\r\n    overlayRef: OverlayRef,\r\n    config: MdcDialogConfig): MdcDialogRef<T> {\r\n\r\n    // Create a reference to the dialog we're creating in order to give the user a handle\r\n    // to modify and close it.\r\n    const dialogRef = new MdcDialogRef<T>(overlayRef, dialogContainer, config.id);\r\n\r\n    if (componentOrTemplateRef instanceof TemplateRef) {\r\n      dialogContainer.attachTemplatePortal(\r\n        new TemplatePortal<T>(componentOrTemplateRef, null!,\r\n          <any>{ $implicit: config.data, dialogRef }));\r\n    } else {\r\n      const injector = this._createInjector<T>(config, dialogRef, dialogContainer);\r\n      const contentRef = dialogContainer.attachComponentPortal<T>(\r\n        new ComponentPortal(componentOrTemplateRef, undefined, injector));\r\n      dialogRef.componentInstance = contentRef.instance;\r\n    }\r\n\r\n    return dialogRef;\r\n  }\r\n\r\n  /**\r\n   * Creates a custom injector to be used inside the dialog. This allows a component loaded inside\r\n   * of a dialog to close itself and, optionally, to return a value.\r\n   * @param config Config object that is used to construct the dialog.\r\n   * @param dialogRef Reference to the dialog.\r\n   * @param container Dialog container element that wraps all of the contents.\r\n   * @returns The custom injector that can be used inside the dialog.\r\n   */\r\n  private _createInjector<T>(\r\n    config: MdcDialogConfig,\r\n    dialogRef: MdcDialogRef<T>,\r\n    portalContainer: MdcDialogPortal): PortalInjector {\r\n\r\n    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\r\n\r\n    // The MdcDialogPortal is injected in the portal as the MdcDialogPortal and the dialog's\r\n    // content are created out of the same ViewContainerRef and as such, are siblings for injector\r\n    // purposes. To allow the hierarchy that is expected, the MdcDialogPortal is explicitly\r\n    // added to the injection tokens.\r\n    const injectionTokens = new WeakMap<any, any>([\r\n      [MdcDialogPortal, portalContainer],\r\n      [MDC_DIALOG_DATA, config.data],\r\n      [MdcDialogRef, dialogRef]\r\n    ]);\r\n\r\n    return new PortalInjector(userInjector || this._injector, injectionTokens);\r\n  }\r\n\r\n  /**\r\n   * Removes a dialog from the array of open dialogs.\r\n   * @param dialogRef Dialog to be removed.\r\n   */\r\n  private _removeOpenDialog(dialogRef: MdcDialogRef<any>): void {\r\n    const index = this.openDialogs.indexOf(dialogRef);\r\n\r\n    if (index > -1) {\r\n      this.openDialogs.splice(index, 1);\r\n\r\n      // If all the dialogs were closed, remove/restore the `aria-hidden`\r\n      // to a the siblings and emit to the `afterAllClosed` stream.\r\n      if (!this.openDialogs.length) {\r\n        this._ariaHiddenElements.forEach((previousValue, element) => {\r\n          if (previousValue) {\r\n            element.setAttribute('aria-hidden', previousValue);\r\n          } else {\r\n            element.removeAttribute('aria-hidden');\r\n          }\r\n        });\r\n\r\n        this._ariaHiddenElements.clear();\r\n        this._afterAllClosed.next();\r\n      }\r\n    }\r\n  }\r\n\r\n  /** Closes all of the dialogs in an array. */\r\n  private _closeDialogs(dialogs: MdcDialogRef<any>[]): void {\r\n    let i = dialogs.length;\r\n\r\n    while (i--) {\r\n      // The `_openDialogs` property isn't updated after close until the rxjs subscription\r\n      // runs on the next microtask, in addition to modifying the array as we're going\r\n      // through it. We loop through all of them and call close without assuming that\r\n      // they'll be removed from the list instantaneously.\r\n      dialogs[i].close();\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Applies default options to the dialog config.\r\n * @param config Config to be modified.\r\n * @param defaultOptions Default options provided.\r\n * @returns The new configuration object.\r\n */\r\nfunction _applyConfigDefaults(\r\n  config?: MdcDialogConfig, defaultOptions?: MdcDialogConfig): MdcDialogConfig {\r\n  return { ...defaultOptions, ...config };\r\n}\r\n","import {\r\n  Component,\r\n  ComponentRef,\r\n  EmbeddedViewRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport {\r\n  BasePortalOutlet,\r\n  ComponentPortal,\r\n  CdkPortalOutlet,\r\n  TemplatePortal\r\n} from '@angular-mdc/web/portal';\r\n\r\nimport { MdcDialogConfig } from './dialog-config';\r\n\r\n/**\r\n * Throws an exception for the case when a ComponentPortal is\r\n * attached to a DomPortalOutlet without an origin.\r\n */\r\nexport function throwMdcDialogContentAlreadyAttachedError() {\r\n  throw Error('Attempting to attach dialog content after content is already attached');\r\n}\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'mdc-dialog-portal',\r\n  host: {\r\n    '[attr.id]': '_id'\r\n  },\r\n  template: '<ng-template cdkPortalOutlet></ng-template>',\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class MdcDialogPortal extends BasePortalOutlet {\r\n  @ViewChild(CdkPortalOutlet) _portalOutlet!: CdkPortalOutlet;\r\n\r\n  /** A subject emitting after the dialog exits the view. */\r\n  _afterExit: Subject<void> = new Subject();\r\n\r\n  /** ID for the container DOM element. */\r\n  _id!: string;\r\n\r\n  /**\r\n   * Attach a ComponentPortal as content to this dialog container.\r\n   * @param portal Portal to be attached as the dialog content.\r\n   */\r\n  attachComponentPortal<T>(portal: ComponentPortal<T>): ComponentRef<T> {\r\n    if (this._portalOutlet.hasAttached()) {\r\n      throwMdcDialogContentAlreadyAttachedError();\r\n    }\r\n\r\n    return this._portalOutlet.attachComponentPortal(portal);\r\n  }\r\n\r\n  /**\r\n   * Attach a TemplatePortal as content to this dialog container.\r\n   * @param portal Portal to be attached as the dialog content.\r\n   */\r\n  attachTemplatePortal<C>(portal: TemplatePortal<C>): EmbeddedViewRef<C> {\r\n    if (this._portalOutlet.hasAttached()) {\r\n      throwMdcDialogContentAlreadyAttachedError();\r\n    }\r\n\r\n    return this._portalOutlet.attachTemplatePortal(portal);\r\n  }\r\n\r\n  constructor(public _config: MdcDialogConfig) {\r\n    super();\r\n  }\r\n}\r\n","import { ViewContainerRef } from '@angular/core';\r\n\r\nexport class MdcDialogConfig<D = any> {\r\n  viewContainerRef?: ViewContainerRef;\r\n\r\n  /** ID for the dialog. If omitted, a unique one will be generated. */\r\n  id?: string;\r\n\r\n  /** ID of the element that describes the dialog.  */\r\n  ariaDescribedBy?: string | null = null;\r\n\r\n  /** Aria label to assign to the dialog element */\r\n  ariaLabel?: string | null = null;\r\n\r\n  /** Whether the user can use escape key to close the dialog */\r\n  escapeToClose?: boolean = true;\r\n\r\n  /** Whether the user can click outside to close the dialog */\r\n  clickOutsideToClose?: boolean = true;\r\n\r\n  /** Applied automatically when the dialog has overflowing content to warrant scrolling. */\r\n  scrollable?: boolean = true;\r\n\r\n  /** Applied automatically when the dialog's action buttons can't fit on a single line and must be stacked. */\r\n  buttonsStacked?: boolean = true;\r\n\r\n  /** Data to be injected into the dialog content. */\r\n  data?: D | null = null;\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ContentChild,\r\n  ContentChildren,\r\n  ElementRef,\r\n  NgZone,\r\n  OnDestroy,\r\n  QueryList,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { merge, Observable, fromEvent, Subject, Subscription } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport createFocusTrap, { FocusTrap } from 'focus-trap';\r\n\r\nimport { Platform } from '@angular-mdc/web/common';\r\n\r\nimport {\r\n  MdcDialogButton,\r\n  MdcDialogContent,\r\n  MdcDialogSurface\r\n} from './dialog-directives';\r\nimport { MdcDialogRef } from './dialog-ref';\r\nimport { MdcDialogConfig } from './dialog-config';\r\n\r\nimport {\r\n  isScrollable,\r\n  areTopsMisaligned\r\n} from '@material/dialog/util';\r\nimport { strings } from '@material/dialog/constants';\r\nimport { closest, matches } from '@material/dom/ponyfill';\r\nimport { MDCDialogFoundation } from '@material/dialog/index';\r\n\r\nconst LAYOUT_EVENTS = ['resize', 'orientationchange'];\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'mdc-dialog',\r\n  exportAs: 'mdc-dialog',\r\n  host: {\r\n    '[attr.id]': 'config?.id',\r\n    'role': 'alertdialog',\r\n    'class': 'mdc-dialog',\r\n    '[attr.aria-modal]': 'true',\r\n    '[attr.aria-labelledby]': 'config?.ariaLabel',\r\n    '[attr.aria-label]': 'config?.ariaLabel',\r\n    '[attr.aria-describedby]': 'config?.ariaDescribedBy || null',\r\n    '(click)': '_onInteraction($event)',\r\n    '(keydown)': '_onInteraction($event)'\r\n  },\r\n  template: `\r\n  <mdc-dialog-scrim></mdc-dialog-scrim>\r\n  <ng-content></ng-content>`,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class MdcDialogComponent implements AfterViewInit, OnDestroy {\r\n  /** Emits whenever the component is destroyed. */\r\n  private _destroy = new Subject<void>();\r\n\r\n  private _focusTrapInstance: FocusTrap | null = null;\r\n\r\n  private _scrollable: boolean = true;\r\n\r\n  config: MdcDialogConfig;\r\n\r\n  @ContentChild(MdcDialogSurface) _surface!: MdcDialogSurface;\r\n  @ContentChild(MdcDialogContent) _content!: MdcDialogContent;\r\n  @ContentChildren(MdcDialogButton, { descendants: true }) _buttons?: QueryList<MdcDialogButton>;\r\n\r\n  private _layoutEventSubscription: Subscription | null = null;\r\n\r\n  /** Combined stream of all of the dialog layout events. */\r\n  get layoutEvents(): Observable<any> {\r\n    return merge(...LAYOUT_EVENTS.map(evt => fromEvent(window, evt)));\r\n  }\r\n\r\n  private _createAdapter() {\r\n    return {\r\n      addClass: (className: string) => this._getDialog().classList.add(className),\r\n      removeClass: (className: string) => this._getDialog().classList.remove(className),\r\n      hasClass: (className: string) => this._getDialog().classList.contains(className),\r\n      addBodyClass: (className: string) => {\r\n        if (this._platform.isBrowser) {\r\n          document.body!.classList.add(className);\r\n        }\r\n      },\r\n      removeBodyClass: (className: string) => {\r\n        if (this._platform.isBrowser) {\r\n          document.body!.classList.remove(className);\r\n        }\r\n      },\r\n      eventTargetMatches: (target: EventTarget, selector: string) => matches(target, selector),\r\n      trapFocus: () => this._focusTrapInstance!.activate(),\r\n      releaseFocus: () => this._focusTrapInstance!.deactivate(),\r\n      isContentScrollable: () =>\r\n        !!this._content && this._scrollable && isScrollable(this._content.elementRef.nativeElement),\r\n      areButtonsStacked: () => areTopsMisaligned(this._buttons),\r\n      getActionFromEvent: (event: Event) => {\r\n        const element = closest(event.target, `[${strings.ACTION_ATTRIBUTE}]`);\r\n        return element && element.getAttribute(strings.ACTION_ATTRIBUTE);\r\n      },\r\n      clickDefaultButton: () => {\r\n        const defaultBtn = this._getDefaultButton();\r\n        if (defaultBtn) {\r\n          defaultBtn.click();\r\n        }\r\n      },\r\n      reverseButtons: () => {\r\n        if (!this._buttons) { return; }\r\n\r\n        this._buttons.toArray().reverse();\r\n        this._buttons.forEach(button => button.getHostElement().parentElement!.appendChild(button.getHostElement()));\r\n      },\r\n      notifyOpened: () => this.dialogRef.opened(),\r\n      notifyClosed: (action: string) => this._closeDialogByRef(action)\r\n    };\r\n  }\r\n\r\n  private _foundation!: {\r\n    init(): void,\r\n    destroy(): void,\r\n    open(): void,\r\n    close(action?: string): void,\r\n    setEscapeKeyAction(action: string): void,\r\n    setScrimClickAction(action: string): void,\r\n    setAutoStackButtons(autoStack: boolean): void,\r\n    layout(): void,\r\n    handleInteraction(evt: KeyboardEvent | MouseEvent): void,\r\n    handleDocumentKeydown(evt: KeyboardEvent): void\r\n  };\r\n\r\n  constructor(\r\n    private _ngZone: NgZone,\r\n    private _platform: Platform,\r\n    private _elementRef: ElementRef<HTMLElement>,\r\n    public dialogRef: MdcDialogRef<MdcDialogComponent>) {\r\n\r\n    this.config = dialogRef._portalInstance._config;\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this._foundation = new MDCDialogFoundation(this._createAdapter());\r\n    this._focusTrapInstance = this._createFocusTrapInstance();\r\n    this._initialize();\r\n\r\n    this._loadListeners();\r\n    this._foundation.open();\r\n  }\r\n\r\n  private _initialize(): void {\r\n    this._scrollable = !!this.config.scrollable;\r\n\r\n    if (!this.config.clickOutsideToClose) {\r\n      this._foundation.setScrimClickAction('');\r\n    }\r\n    if (!this.config.escapeToClose) {\r\n      this._foundation.setEscapeKeyAction('');\r\n    }\r\n    if (!this.config.buttonsStacked) {\r\n      this._foundation.setAutoStackButtons(false);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._destroy.next();\r\n    this._destroy.complete();\r\n\r\n    if (this._layoutEventSubscription) {\r\n      this._layoutEventSubscription.unsubscribe();\r\n    }\r\n\r\n    if (this._foundation) {\r\n      this._foundation.destroy();\r\n    }\r\n  }\r\n\r\n  _onInteraction(evt: KeyboardEvent | MouseEvent): void {\r\n    this._foundation.handleInteraction(evt);\r\n  }\r\n\r\n  private _getDefaultButton(): HTMLElement | undefined {\r\n    const defaultBtn = this._buttons ? this._buttons.find(_ => _.default) : undefined;\r\n    return defaultBtn ? defaultBtn.getHostElement() : undefined;\r\n  }\r\n\r\n  private _closeDialogByRef(action?: string): void {\r\n    this.dialogRef.close(action);\r\n  }\r\n\r\n  private _loadListeners(): void {\r\n    this._layoutEventSubscription = this.layoutEvents.pipe()\r\n      .subscribe(() => this._foundation.layout());\r\n\r\n    if (this._platform.isBrowser) {\r\n      this._ngZone.runOutsideAngular(() =>\r\n        fromEvent<KeyboardEvent>(document, 'keydown').pipe(takeUntil(this._destroy))\r\n          .subscribe(evt => this._ngZone.run(() => this._foundation.handleDocumentKeydown(evt))));\r\n    }\r\n  }\r\n\r\n  private _createFocusTrapInstance(focusTrapFactory = createFocusTrap): any {\r\n    return focusTrapFactory(this._getDialog(), {\r\n      initialFocus: this._getDefaultButton(),\r\n      clickOutsideDeactivates: true, // Allow handling of scrim clicks\r\n      escapeDeactivates: false // Dialog foundation handles escape key\r\n    });\r\n  }\r\n\r\n  /** Retrieves the DOM element of the component host. */\r\n  private _getDialog(): HTMLElement {\r\n    return this._elementRef.nativeElement;\r\n  }\r\n}\r\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCComponent from '@material/base/component';\nimport {MDCRipple} from '@material/ripple/index';\n\nimport MDCDialogFoundation from './foundation';\nimport * as util from './util';\nimport {closest, matches} from '@material/dom/ponyfill';\n\nimport createFocusTrap from 'focus-trap';\n\nconst strings = MDCDialogFoundation.strings;\n\nclass MDCDialog extends MDCComponent {\n  constructor(...args) {\n    super(...args);\n\n    /**\n     * @type {!Array<!MDCRipple>}\n     * @private\n     */\n    this.buttonRipples_;\n\n    /** @private {!Array<!Element>} */\n    this.buttons_;\n\n    /** @private {?Element} */\n    this.defaultButton_;\n\n    /** @private {!Element} */\n    this.container_;\n\n    /** @private {?Element} */\n    this.content_;\n\n    /** @private {?Element} */\n    this.initialFocusEl_;\n\n    /** @private {!Function} */\n    this.focusTrapFactory_;\n\n    /** @private {!FocusTrapInstance} */\n    this.focusTrap_;\n\n    /** @private {!Function} */\n    this.handleInteraction_;\n\n    /** @private {!Function} */\n    this.handleDocumentKeydown_;\n\n    /** @private {!Function} */\n    this.handleOpening_;\n\n    /** @private {!Function} */\n    this.handleClosing_;\n\n    /** @private {Function} */\n    this.layout_;\n  }\n\n  static attachTo(root) {\n    return new MDCDialog(root);\n  }\n\n  get isOpen() {\n    return this.foundation_.isOpen();\n  }\n\n  get escapeKeyAction() {\n    return this.foundation_.getEscapeKeyAction();\n  }\n\n  set escapeKeyAction(action) {\n    this.foundation_.setEscapeKeyAction(action);\n  }\n\n  get scrimClickAction() {\n    return this.foundation_.getScrimClickAction();\n  }\n\n  set scrimClickAction(action) {\n    this.foundation_.setScrimClickAction(action);\n  }\n\n  get autoStackButtons() {\n    return this.foundation_.getAutoStackButtons();\n  }\n\n  set autoStackButtons(autoStack) {\n    this.foundation_.setAutoStackButtons(autoStack);\n  }\n\n  initialize(focusTrapFactory = createFocusTrap, initialFocusEl = null) {\n    this.container_ = /** @type {!Element} */ (this.root_.querySelector(strings.CONTAINER_SELECTOR));\n    this.content_ = this.root_.querySelector(strings.CONTENT_SELECTOR);\n    this.buttons_ = [].slice.call(this.root_.querySelectorAll(strings.BUTTON_SELECTOR));\n    this.defaultButton_ = this.root_.querySelector(strings.DEFAULT_BUTTON_SELECTOR);\n    this.buttonRipples_ = [];\n    this.focusTrapFactory_ = focusTrapFactory;\n    this.initialFocusEl_ = initialFocusEl;\n\n    for (let i = 0, buttonEl; buttonEl = this.buttons_[i]; i++) {\n      this.buttonRipples_.push(new MDCRipple(buttonEl));\n    }\n  }\n\n  initialSyncWithDOM() {\n    this.focusTrap_ = util.createFocusTrapInstance(this.container_, this.focusTrapFactory_, this.initialFocusEl_);\n\n    this.handleInteraction_ = this.foundation_.handleInteraction.bind(this.foundation_);\n    this.handleDocumentKeydown_ = this.foundation_.handleDocumentKeydown.bind(this.foundation_);\n    this.layout_ = this.layout.bind(this);\n\n    const LAYOUT_EVENTS = ['resize', 'orientationchange'];\n    this.handleOpening_ = () => {\n      LAYOUT_EVENTS.forEach((type) => window.addEventListener(type, this.layout_));\n      document.addEventListener('keydown', this.handleDocumentKeydown_);\n    };\n    this.handleClosing_ = () => {\n      LAYOUT_EVENTS.forEach((type) => window.removeEventListener(type, this.layout_));\n      document.removeEventListener('keydown', this.handleDocumentKeydown_);\n    };\n\n    this.listen('click', this.handleInteraction_);\n    this.listen('keydown', this.handleInteraction_);\n    this.listen(strings.OPENING_EVENT, this.handleOpening_);\n    this.listen(strings.CLOSING_EVENT, this.handleClosing_);\n  }\n\n  destroy() {\n    this.unlisten('click', this.handleInteraction_);\n    this.unlisten('keydown', this.handleInteraction_);\n    this.unlisten(strings.OPENING_EVENT, this.handleOpening_);\n    this.unlisten(strings.CLOSING_EVENT, this.handleClosing_);\n    this.handleClosing_();\n\n    this.buttonRipples_.forEach((ripple) => ripple.destroy());\n    super.destroy();\n  }\n\n  layout() {\n    this.foundation_.layout();\n  }\n\n  open() {\n    this.foundation_.open();\n  }\n\n  /**\n   * @param {string=} action\n   */\n  close(action = '') {\n    this.foundation_.close(action);\n  }\n\n  getDefaultFoundation() {\n    return new MDCDialogFoundation({\n      addClass: (className) => this.root_.classList.add(className),\n      removeClass: (className) => this.root_.classList.remove(className),\n      hasClass: (className) => this.root_.classList.contains(className),\n      addBodyClass: (className) => document.body.classList.add(className),\n      removeBodyClass: (className) => document.body.classList.remove(className),\n      eventTargetMatches: (target, selector) => matches(target, selector),\n      trapFocus: () => this.focusTrap_.activate(),\n      releaseFocus: () => this.focusTrap_.deactivate(),\n      isContentScrollable: () => !!this.content_ && util.isScrollable(/** @type {!Element} */ (this.content_)),\n      areButtonsStacked: () => util.areTopsMisaligned(this.buttons_),\n      getActionFromEvent: (event) => {\n        const element = closest(event.target, `[${strings.ACTION_ATTRIBUTE}]`);\n        return element && element.getAttribute(strings.ACTION_ATTRIBUTE);\n      },\n      clickDefaultButton: () => {\n        if (this.defaultButton_) {\n          this.defaultButton_.click();\n        }\n      },\n      reverseButtons: () => {\n        this.buttons_.reverse();\n        this.buttons_.forEach((button) => button.parentElement.appendChild(button));\n      },\n      notifyOpening: () => this.emit(strings.OPENING_EVENT, {}),\n      notifyOpened: () => this.emit(strings.OPENED_EVENT, {}),\n      notifyClosing: (action) => this.emit(strings.CLOSING_EVENT, action ? {action} : {}),\n      notifyClosed: (action) => this.emit(strings.CLOSED_EVENT, action ? {action} : {}),\n    });\n  }\n}\n\nexport {MDCDialog, MDCDialogFoundation, util};\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCFoundation from '@material/base/foundation';\nimport MDCDialogAdapter from './adapter';\nimport {cssClasses, numbers, strings} from './constants';\n\nclass MDCDialogFoundation extends MDCFoundation {\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  static get strings() {\n    return strings;\n  }\n\n  static get numbers() {\n    return numbers;\n  }\n\n  static get defaultAdapter() {\n    return /** @type {!MDCDialogAdapter} */ ({\n      addClass: (/* className: string */) => {},\n      removeClass: (/* className: string */) => {},\n      hasClass: (/* className: string */) => {},\n      addBodyClass: (/* className: string */) => {},\n      removeBodyClass: (/* className: string */) => {},\n      eventTargetMatches: (/* target: !EventTarget, selector: string */) => {},\n      trapFocus: () => {},\n      releaseFocus: () => {},\n      isContentScrollable: () => {},\n      areButtonsStacked: () => {},\n      getActionFromEvent: (/* event: !Event */) => {},\n      clickDefaultButton: () => {},\n      reverseButtons: () => {},\n      notifyOpening: () => {},\n      notifyOpened: () => {},\n      notifyClosing: (/* action: ?string */) => {},\n      notifyClosed: (/* action: ?string */) => {},\n    });\n  }\n\n  /**\n   * @param {!MDCDialogAdapter=} adapter\n   */\n  constructor(adapter) {\n    super(Object.assign(MDCDialogFoundation.defaultAdapter, adapter));\n\n    /** @private {boolean} */\n    this.isOpen_ = false;\n\n    /** @private {number} */\n    this.animationFrame_ = 0;\n\n    /** @private {number} */\n    this.animationTimer_ = 0;\n\n    /** @private {number} */\n    this.layoutFrame_ = 0;\n\n    /** @private {string} */\n    this.escapeKeyAction_ = strings.CLOSE_ACTION;\n\n    /** @private {string} */\n    this.scrimClickAction_ = strings.CLOSE_ACTION;\n\n    /** @private {boolean} */\n    this.autoStackButtons_ = true;\n\n    /** @private {boolean} */\n    this.areButtonsStacked_ = false;\n  };\n\n  init() {\n    if (this.adapter_.hasClass(cssClasses.STACKED)) {\n      this.setAutoStackButtons(false);\n    }\n  };\n\n  destroy() {\n    if (this.isOpen_) {\n      this.close(strings.DESTROY_ACTION);\n    }\n\n    if (this.animationTimer_) {\n      clearTimeout(this.animationTimer_);\n      this.handleAnimationTimerEnd_();\n    }\n\n    if (this.layoutFrame_) {\n      cancelAnimationFrame(this.layoutFrame_);\n      this.layoutFrame_ = 0;\n    }\n  }\n\n  open() {\n    this.isOpen_ = true;\n    this.adapter_.notifyOpening();\n    this.adapter_.addClass(cssClasses.OPENING);\n\n    // Wait a frame once display is no longer \"none\", to establish basis for animation\n    this.runNextAnimationFrame_(() => {\n      this.adapter_.addClass(cssClasses.OPEN);\n      this.adapter_.addBodyClass(cssClasses.SCROLL_LOCK);\n\n      this.layout();\n\n      this.animationTimer_ = setTimeout(() => {\n        this.handleAnimationTimerEnd_();\n        this.adapter_.trapFocus();\n        this.adapter_.notifyOpened();\n      }, numbers.DIALOG_ANIMATION_OPEN_TIME_MS);\n    });\n  }\n\n  /**\n   * @param {string=} action\n   */\n  close(action = '') {\n    if (!this.isOpen_) {\n      // Avoid redundant close calls (and events), e.g. from keydown on elements that inherently emit click\n      return;\n    }\n\n    this.isOpen_ = false;\n    this.adapter_.notifyClosing(action);\n    this.adapter_.addClass(cssClasses.CLOSING);\n    this.adapter_.removeClass(cssClasses.OPEN);\n    this.adapter_.removeBodyClass(cssClasses.SCROLL_LOCK);\n\n    cancelAnimationFrame(this.animationFrame_);\n    this.animationFrame_ = 0;\n\n    clearTimeout(this.animationTimer_);\n    this.animationTimer_ = setTimeout(() => {\n      this.adapter_.releaseFocus();\n      this.handleAnimationTimerEnd_();\n      this.adapter_.notifyClosed(action);\n    }, numbers.DIALOG_ANIMATION_CLOSE_TIME_MS);\n  }\n\n  isOpen() {\n    return this.isOpen_;\n  }\n\n  /** @return {string} */\n  getEscapeKeyAction() {\n    return this.escapeKeyAction_;\n  }\n\n  /** @param {string} action */\n  setEscapeKeyAction(action) {\n    this.escapeKeyAction_ = action;\n  }\n\n  /** @return {string} */\n  getScrimClickAction() {\n    return this.scrimClickAction_;\n  }\n\n  /** @param {string} action */\n  setScrimClickAction(action) {\n    this.scrimClickAction_ = action;\n  }\n\n  /** @return {boolean} */\n  getAutoStackButtons() {\n    return this.autoStackButtons_;\n  }\n\n  /** @param {boolean} autoStack */\n  setAutoStackButtons(autoStack) {\n    this.autoStackButtons_ = autoStack;\n  }\n\n  layout() {\n    if (this.layoutFrame_) {\n      cancelAnimationFrame(this.layoutFrame_);\n    }\n    this.layoutFrame_ = requestAnimationFrame(() => {\n      this.layoutInternal_();\n      this.layoutFrame_ = 0;\n    });\n  }\n\n  layoutInternal_() {\n    if (this.autoStackButtons_) {\n      this.detectStackedButtons_();\n    }\n    this.detectScrollableContent_();\n  }\n\n  /** @private */\n  detectStackedButtons_() {\n    // Remove the class first to let us measure the buttons' natural positions.\n    this.adapter_.removeClass(cssClasses.STACKED);\n\n    const areButtonsStacked = this.adapter_.areButtonsStacked();\n\n    if (areButtonsStacked) {\n      this.adapter_.addClass(cssClasses.STACKED);\n    }\n\n    if (areButtonsStacked !== this.areButtonsStacked_) {\n      this.adapter_.reverseButtons();\n      this.areButtonsStacked_ = areButtonsStacked;\n    }\n  }\n\n  /** @private */\n  detectScrollableContent_() {\n    // Remove the class first to let us measure the natural height of the content.\n    this.adapter_.removeClass(cssClasses.SCROLLABLE);\n    if (this.adapter_.isContentScrollable()) {\n      this.adapter_.addClass(cssClasses.SCROLLABLE);\n    }\n  }\n\n  /**\n   * @param {!Event} evt\n   * @private\n   */\n  handleInteraction(evt) {\n    const isClick = evt.type === 'click';\n    const isEnter = evt.key === 'Enter' || evt.keyCode === 13;\n\n    // Check for scrim click first since it doesn't require querying ancestors\n    if (isClick && this.adapter_.eventTargetMatches(evt.target, strings.SCRIM_SELECTOR) &&\n      this.scrimClickAction_ !== '') {\n      this.close(this.scrimClickAction_);\n    } else if (isClick || evt.key === 'Space' || evt.keyCode === 32 || isEnter) {\n      const action = this.adapter_.getActionFromEvent(evt);\n      if (action) {\n        this.close(action);\n      } else if (isEnter && !this.adapter_.eventTargetMatches(evt.target, strings.SUPPRESS_DEFAULT_PRESS_SELECTOR)) {\n        this.adapter_.clickDefaultButton();\n      }\n    }\n  }\n\n  /**\n   * @param {!KeyboardEvent} evt\n   * @private\n   */\n  handleDocumentKeydown(evt) {\n    if ((evt.key === 'Escape' || evt.keyCode === 27) && this.escapeKeyAction_ !== '') {\n      this.close(this.escapeKeyAction_);\n    }\n  }\n\n  /** @private */\n  handleAnimationTimerEnd_() {\n    this.animationTimer_ = 0;\n    this.adapter_.removeClass(cssClasses.OPENING);\n    this.adapter_.removeClass(cssClasses.CLOSING);\n  }\n\n  /**\n   * Runs the given logic on the next animation frame, using setTimeout to factor in Firefox reflow behavior.\n   * @param {Function} callback\n   * @private\n   */\n  runNextAnimationFrame_(callback) {\n    cancelAnimationFrame(this.animationFrame_);\n    this.animationFrame_ = requestAnimationFrame(() => {\n      this.animationFrame_ = 0;\n      clearTimeout(this.animationTimer_);\n      this.animationTimer_ = setTimeout(callback, 0);\n    });\n  }\n}\n\nexport default MDCDialogFoundation;\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDC Dialog. Provides an interface for managing:\n * - CSS classes\n * - DOM\n * - Event handlers\n *\n * Additionally, provides type information for the adapter to the Closure\n * compiler.\n *\n * Implement this adapter for your framework of choice to delegate updates to\n * the component in your framework of choice. See architecture documentation\n * for more details.\n * https://github.com/material-components/material-components-web/blob/master/docs/code/architecture.md\n *\n * @record\n */\nclass MDCDialogAdapter {\n  /** @param {string} className */\n  addClass(className) {}\n\n  /** @param {string} className */\n  removeClass(className) {}\n\n  /**\n   * @param {string} className\n   * @return {boolean}\n   */\n  hasClass(className) {}\n\n  /** @param {string} className */\n  addBodyClass(className) {}\n\n  /** @param {string} className */\n  removeBodyClass(className) {}\n\n  /**\n   * @param {!EventTarget} target\n   * @param {string} selector\n   * @return {boolean}\n   */\n  eventTargetMatches(target, selector) {}\n\n  trapFocus() {}\n  releaseFocus() {}\n\n  /** @return {boolean} */\n  isContentScrollable() {}\n\n  /** @return {boolean} */\n  areButtonsStacked() {}\n\n  /**\n   * @param {!Event} event\n   * @return {?string}\n   */\n  getActionFromEvent(event) {}\n\n  clickDefaultButton() {}\n  reverseButtons() {}\n\n  notifyOpening() {}\n  notifyOpened() {}\n\n  /**\n   * @param {string} action\n   */\n  notifyClosing(action) {}\n\n  /**\n   * @param {string} action\n   */\n  notifyClosed(action) {}\n}\n\nexport default MDCDialogAdapter;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCComponent from '@material/base/component';\nimport MDCRippleAdapter from './adapter';\nimport MDCRippleFoundation from './foundation';\nimport * as util from './util';\n\n/**\n * @extends MDCComponent<!MDCRippleFoundation>\n */\nclass MDCRipple extends MDCComponent {\n  /** @param {...?} args */\n  constructor(...args) {\n    super(...args);\n\n    /** @type {boolean} */\n    this.disabled = false;\n\n    /** @private {boolean} */\n    this.unbounded_;\n  }\n\n  /**\n   * @param {!Element} root\n   * @param {{isUnbounded: (boolean|undefined)}=} options\n   * @return {!MDCRipple}\n   */\n  static attachTo(root, {isUnbounded = undefined} = {}) {\n    const ripple = new MDCRipple(root);\n    // Only override unbounded behavior if option is explicitly specified\n    if (isUnbounded !== undefined) {\n      ripple.unbounded = /** @type {boolean} */ (isUnbounded);\n    }\n    return ripple;\n  }\n\n  /**\n   * @param {!RippleCapableSurface} instance\n   * @return {!MDCRippleAdapter}\n   */\n  static createAdapter(instance) {\n    const MATCHES = util.getMatchesProperty(HTMLElement.prototype);\n\n    return {\n      browserSupportsCssVars: () => util.supportsCssVariables(window),\n      isUnbounded: () => instance.unbounded,\n      isSurfaceActive: () => instance.root_[MATCHES](':active'),\n      isSurfaceDisabled: () => instance.disabled,\n      addClass: (className) => instance.root_.classList.add(className),\n      removeClass: (className) => instance.root_.classList.remove(className),\n      containsEventTarget: (target) => instance.root_.contains(target),\n      registerInteractionHandler: (evtType, handler) =>\n        instance.root_.addEventListener(evtType, handler, util.applyPassive()),\n      deregisterInteractionHandler: (evtType, handler) =>\n        instance.root_.removeEventListener(evtType, handler, util.applyPassive()),\n      registerDocumentInteractionHandler: (evtType, handler) =>\n        document.documentElement.addEventListener(evtType, handler, util.applyPassive()),\n      deregisterDocumentInteractionHandler: (evtType, handler) =>\n        document.documentElement.removeEventListener(evtType, handler, util.applyPassive()),\n      registerResizeHandler: (handler) => window.addEventListener('resize', handler),\n      deregisterResizeHandler: (handler) => window.removeEventListener('resize', handler),\n      updateCssVariable: (varName, value) => instance.root_.style.setProperty(varName, value),\n      computeBoundingRect: () => instance.root_.getBoundingClientRect(),\n      getWindowPageOffset: () => ({x: window.pageXOffset, y: window.pageYOffset}),\n    };\n  }\n\n  /** @return {boolean} */\n  get unbounded() {\n    return this.unbounded_;\n  }\n\n  /** @param {boolean} unbounded */\n  set unbounded(unbounded) {\n    this.unbounded_ = Boolean(unbounded);\n    this.setUnbounded_();\n  }\n\n  /**\n   * Closure Compiler throws an access control error when directly accessing a\n   * protected or private property inside a getter/setter, like unbounded above.\n   * By accessing the protected property inside a method, we solve that problem.\n   * That's why this function exists.\n   * @private\n   */\n  setUnbounded_() {\n    this.foundation_.setUnbounded(this.unbounded_);\n  }\n\n  activate() {\n    this.foundation_.activate();\n  }\n\n  deactivate() {\n    this.foundation_.deactivate();\n  }\n\n  layout() {\n    this.foundation_.layout();\n  }\n\n  /**\n   * @return {!MDCRippleFoundation}\n   * @override\n   */\n  getDefaultFoundation() {\n    return new MDCRippleFoundation(MDCRipple.createAdapter(this));\n  }\n\n  /** @override */\n  initialSyncWithDOM() {\n    this.unbounded = 'mdcRippleIsUnbounded' in this.root_.dataset;\n  }\n}\n\n/**\n * See Material Design spec for more details on when to use ripples.\n * https://material.io/guidelines/motion/choreography.html#choreography-creation\n * @record\n */\nclass RippleCapableSurface {}\n\n/** @protected {!Element} */\nRippleCapableSurface.prototype.root_;\n\n/**\n * Whether or not the ripple bleeds out of the bounds of the element.\n * @type {boolean|undefined}\n */\nRippleCapableSurface.prototype.unbounded;\n\n/**\n * Whether or not the ripple is attached to a disabled component.\n * @type {boolean|undefined}\n */\nRippleCapableSurface.prototype.disabled;\n\nexport {MDCRipple, MDCRippleFoundation, RippleCapableSurface, util};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCFoundation from '@material/base/foundation';\nimport MDCRippleAdapter from './adapter';\nimport {cssClasses, strings, numbers} from './constants';\nimport {getNormalizedEventCoords} from './util';\n\n/**\n * @typedef {{\n *   isActivated: (boolean|undefined),\n *   hasDeactivationUXRun: (boolean|undefined),\n *   wasActivatedByPointer: (boolean|undefined),\n *   wasElementMadeActive: (boolean|undefined),\n *   activationEvent: (!Event|undefined),\n *   isProgrammatic: (boolean|undefined)\n * }}\n */\nlet ActivationStateType;\n\n/**\n * @typedef {{\n *   activate: (string|undefined),\n *   deactivate: (string|undefined),\n *   focus: (string|undefined),\n *   blur: (string|undefined)\n * }}\n */\nlet ListenerInfoType;\n\n/**\n * @typedef {{\n *   activate: function(!Event),\n *   deactivate: function(!Event=),\n *   focus: function(),\n *   blur: function()\n * }}\n */\nlet ListenersType;\n\n/**\n * @typedef {{\n *   x: number,\n *   y: number\n * }}\n */\nlet PointType;\n\n// Activation events registered on the root element of each instance for activation\nconst ACTIVATION_EVENT_TYPES = ['touchstart', 'pointerdown', 'mousedown', 'keydown'];\n\n// Deactivation events registered on documentElement when a pointer-related down event occurs\nconst POINTER_DEACTIVATION_EVENT_TYPES = ['touchend', 'pointerup', 'mouseup', 'contextmenu'];\n\n// Tracks activations that have occurred on the current frame, to avoid simultaneous nested activations\n/** @type {!Array<!EventTarget>} */\nlet activatedTargets = [];\n\n/**\n * @extends {MDCFoundation<!MDCRippleAdapter>}\n */\nclass MDCRippleFoundation extends MDCFoundation {\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  static get strings() {\n    return strings;\n  }\n\n  static get numbers() {\n    return numbers;\n  }\n\n  static get defaultAdapter() {\n    return {\n      browserSupportsCssVars: () => /* boolean - cached */ {},\n      isUnbounded: () => /* boolean */ {},\n      isSurfaceActive: () => /* boolean */ {},\n      isSurfaceDisabled: () => /* boolean */ {},\n      addClass: (/* className: string */) => {},\n      removeClass: (/* className: string */) => {},\n      containsEventTarget: (/* target: !EventTarget */) => {},\n      registerInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      deregisterInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      registerDocumentInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      deregisterDocumentInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      registerResizeHandler: (/* handler: EventListener */) => {},\n      deregisterResizeHandler: (/* handler: EventListener */) => {},\n      updateCssVariable: (/* varName: string, value: string */) => {},\n      computeBoundingRect: () => /* ClientRect */ {},\n      getWindowPageOffset: () => /* {x: number, y: number} */ {},\n    };\n  }\n\n  constructor(adapter) {\n    super(Object.assign(MDCRippleFoundation.defaultAdapter, adapter));\n\n    /** @private {number} */\n    this.layoutFrame_ = 0;\n\n    /** @private {!ClientRect} */\n    this.frame_ = /** @type {!ClientRect} */ ({width: 0, height: 0});\n\n    /** @private {!ActivationStateType} */\n    this.activationState_ = this.defaultActivationState_();\n\n    /** @private {number} */\n    this.initialSize_ = 0;\n\n    /** @private {number} */\n    this.maxRadius_ = 0;\n\n    /** @private {function(!Event)} */\n    this.activateHandler_ = (e) => this.activate_(e);\n\n    /** @private {function(!Event=)} */\n    this.deactivateHandler_ = () => this.deactivate_();\n\n    /** @private {function(!Event=)} */\n    this.focusHandler_ = () => this.handleFocus();\n\n    /** @private {function(!Event=)} */\n    this.blurHandler_ = () => this.handleBlur();\n\n    /** @private {!Function} */\n    this.resizeHandler_ = () => this.layout();\n\n    /** @private {{left: number, top:number}} */\n    this.unboundedCoords_ = {\n      left: 0,\n      top: 0,\n    };\n\n    /** @private {number} */\n    this.fgScale_ = 0;\n\n    /** @private {number} */\n    this.activationTimer_ = 0;\n\n    /** @private {number} */\n    this.fgDeactivationRemovalTimer_ = 0;\n\n    /** @private {boolean} */\n    this.activationAnimationHasEnded_ = false;\n\n    /** @private {!Function} */\n    this.activationTimerCallback_ = () => {\n      this.activationAnimationHasEnded_ = true;\n      this.runDeactivationUXLogicIfReady_();\n    };\n\n    /** @private {!Event|undefined} */\n    this.previousActivationEvent_;\n  }\n\n  /**\n   * We compute this property so that we are not querying information about the client\n   * until the point in time where the foundation requests it. This prevents scenarios where\n   * client-side feature-detection may happen too early, such as when components are rendered on the server\n   * and then initialized at mount time on the client.\n   * @return {boolean}\n   * @private\n   */\n  supportsPressRipple_() {\n    return this.adapter_.browserSupportsCssVars();\n  }\n\n  /**\n   * @return {!ActivationStateType}\n   */\n  defaultActivationState_() {\n    return {\n      isActivated: false,\n      hasDeactivationUXRun: false,\n      wasActivatedByPointer: false,\n      wasElementMadeActive: false,\n      activationEvent: undefined,\n      isProgrammatic: false,\n    };\n  }\n\n  /** @override */\n  init() {\n    const supportsPressRipple = this.supportsPressRipple_();\n\n    this.registerRootHandlers_(supportsPressRipple);\n\n    if (supportsPressRipple) {\n      const {ROOT, UNBOUNDED} = MDCRippleFoundation.cssClasses;\n      requestAnimationFrame(() => {\n        this.adapter_.addClass(ROOT);\n        if (this.adapter_.isUnbounded()) {\n          this.adapter_.addClass(UNBOUNDED);\n          // Unbounded ripples need layout logic applied immediately to set coordinates for both shade and ripple\n          this.layoutInternal_();\n        }\n      });\n    }\n  }\n\n  /** @override */\n  destroy() {\n    if (this.supportsPressRipple_()) {\n      if (this.activationTimer_) {\n        clearTimeout(this.activationTimer_);\n        this.activationTimer_ = 0;\n        this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_ACTIVATION);\n      }\n\n      if (this.fgDeactivationRemovalTimer_) {\n        clearTimeout(this.fgDeactivationRemovalTimer_);\n        this.fgDeactivationRemovalTimer_ = 0;\n        this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_DEACTIVATION);\n      }\n\n      const {ROOT, UNBOUNDED} = MDCRippleFoundation.cssClasses;\n      requestAnimationFrame(() => {\n        this.adapter_.removeClass(ROOT);\n        this.adapter_.removeClass(UNBOUNDED);\n        this.removeCssVars_();\n      });\n    }\n\n    this.deregisterRootHandlers_();\n    this.deregisterDeactivationHandlers_();\n  }\n\n  /**\n   * @param {boolean} supportsPressRipple Passed from init to save a redundant function call\n   * @private\n   */\n  registerRootHandlers_(supportsPressRipple) {\n    if (supportsPressRipple) {\n      ACTIVATION_EVENT_TYPES.forEach((type) => {\n        this.adapter_.registerInteractionHandler(type, this.activateHandler_);\n      });\n      if (this.adapter_.isUnbounded()) {\n        this.adapter_.registerResizeHandler(this.resizeHandler_);\n      }\n    }\n\n    this.adapter_.registerInteractionHandler('focus', this.focusHandler_);\n    this.adapter_.registerInteractionHandler('blur', this.blurHandler_);\n  }\n\n  /**\n   * @param {!Event} e\n   * @private\n   */\n  registerDeactivationHandlers_(e) {\n    if (e.type === 'keydown') {\n      this.adapter_.registerInteractionHandler('keyup', this.deactivateHandler_);\n    } else {\n      POINTER_DEACTIVATION_EVENT_TYPES.forEach((type) => {\n        this.adapter_.registerDocumentInteractionHandler(type, this.deactivateHandler_);\n      });\n    }\n  }\n\n  /** @private */\n  deregisterRootHandlers_() {\n    ACTIVATION_EVENT_TYPES.forEach((type) => {\n      this.adapter_.deregisterInteractionHandler(type, this.activateHandler_);\n    });\n    this.adapter_.deregisterInteractionHandler('focus', this.focusHandler_);\n    this.adapter_.deregisterInteractionHandler('blur', this.blurHandler_);\n\n    if (this.adapter_.isUnbounded()) {\n      this.adapter_.deregisterResizeHandler(this.resizeHandler_);\n    }\n  }\n\n  /** @private */\n  deregisterDeactivationHandlers_() {\n    this.adapter_.deregisterInteractionHandler('keyup', this.deactivateHandler_);\n    POINTER_DEACTIVATION_EVENT_TYPES.forEach((type) => {\n      this.adapter_.deregisterDocumentInteractionHandler(type, this.deactivateHandler_);\n    });\n  }\n\n  /** @private */\n  removeCssVars_() {\n    const {strings} = MDCRippleFoundation;\n    Object.keys(strings).forEach((k) => {\n      if (k.indexOf('VAR_') === 0) {\n        this.adapter_.updateCssVariable(strings[k], null);\n      }\n    });\n  }\n\n  /**\n   * @param {!Event=} e\n   * @private\n   */\n  activate_(e) {\n    if (this.adapter_.isSurfaceDisabled()) {\n      return;\n    }\n\n    const activationState = this.activationState_;\n    if (activationState.isActivated) {\n      return;\n    }\n\n    // Avoid reacting to follow-on events fired by touch device after an already-processed user interaction\n    const previousActivationEvent = this.previousActivationEvent_;\n    const isSameInteraction = previousActivationEvent && e !== undefined && previousActivationEvent.type !== e.type;\n    if (isSameInteraction) {\n      return;\n    }\n\n    activationState.isActivated = true;\n    activationState.isProgrammatic = e === undefined;\n    activationState.activationEvent = e;\n    activationState.wasActivatedByPointer = activationState.isProgrammatic ? false : e !== undefined && (\n      e.type === 'mousedown' || e.type === 'touchstart' || e.type === 'pointerdown'\n    );\n\n    const hasActivatedChild = e !== undefined && activatedTargets.length > 0 && activatedTargets.some(\n      (target) => this.adapter_.containsEventTarget(target));\n    if (hasActivatedChild) {\n      // Immediately reset activation state, while preserving logic that prevents touch follow-on events\n      this.resetActivationState_();\n      return;\n    }\n\n    if (e !== undefined) {\n      activatedTargets.push(/** @type {!EventTarget} */ (e.target));\n      this.registerDeactivationHandlers_(e);\n    }\n\n    activationState.wasElementMadeActive = this.checkElementMadeActive_(e);\n    if (activationState.wasElementMadeActive) {\n      this.animateActivation_();\n    }\n\n    requestAnimationFrame(() => {\n      // Reset array on next frame after the current event has had a chance to bubble to prevent ancestor ripples\n      activatedTargets = [];\n\n      if (!activationState.wasElementMadeActive && e !== undefined && (e.key === ' ' || e.keyCode === 32)) {\n        // If space was pressed, try again within an rAF call to detect :active, because different UAs report\n        // active states inconsistently when they're called within event handling code:\n        // - https://bugs.chromium.org/p/chromium/issues/detail?id=635971\n        // - https://bugzilla.mozilla.org/show_bug.cgi?id=1293741\n        // We try first outside rAF to support Edge, which does not exhibit this problem, but will crash if a CSS\n        // variable is set within a rAF callback for a submit button interaction (#2241).\n        activationState.wasElementMadeActive = this.checkElementMadeActive_(e);\n        if (activationState.wasElementMadeActive) {\n          this.animateActivation_();\n        }\n      }\n\n      if (!activationState.wasElementMadeActive) {\n        // Reset activation state immediately if element was not made active.\n        this.activationState_ = this.defaultActivationState_();\n      }\n    });\n  }\n\n  /**\n   * @param {!Event=} e\n   * @private\n   */\n  checkElementMadeActive_(e) {\n    return (e !== undefined && e.type === 'keydown') ? this.adapter_.isSurfaceActive() : true;\n  }\n\n  /**\n   * @param {!Event=} event Optional event containing position information.\n   */\n  activate(event) {\n    this.activate_(event);\n  }\n\n  /** @private */\n  animateActivation_() {\n    const {VAR_FG_TRANSLATE_START, VAR_FG_TRANSLATE_END} = MDCRippleFoundation.strings;\n    const {FG_DEACTIVATION, FG_ACTIVATION} = MDCRippleFoundation.cssClasses;\n    const {DEACTIVATION_TIMEOUT_MS} = MDCRippleFoundation.numbers;\n\n    this.layoutInternal_();\n\n    let translateStart = '';\n    let translateEnd = '';\n\n    if (!this.adapter_.isUnbounded()) {\n      const {startPoint, endPoint} = this.getFgTranslationCoordinates_();\n      translateStart = `${startPoint.x}px, ${startPoint.y}px`;\n      translateEnd = `${endPoint.x}px, ${endPoint.y}px`;\n    }\n\n    this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_START, translateStart);\n    this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_END, translateEnd);\n    // Cancel any ongoing activation/deactivation animations\n    clearTimeout(this.activationTimer_);\n    clearTimeout(this.fgDeactivationRemovalTimer_);\n    this.rmBoundedActivationClasses_();\n    this.adapter_.removeClass(FG_DEACTIVATION);\n\n    // Force layout in order to re-trigger the animation.\n    this.adapter_.computeBoundingRect();\n    this.adapter_.addClass(FG_ACTIVATION);\n    this.activationTimer_ = setTimeout(() => this.activationTimerCallback_(), DEACTIVATION_TIMEOUT_MS);\n  }\n\n  /**\n   * @private\n   * @return {{startPoint: PointType, endPoint: PointType}}\n   */\n  getFgTranslationCoordinates_() {\n    const {activationEvent, wasActivatedByPointer} = this.activationState_;\n\n    let startPoint;\n    if (wasActivatedByPointer) {\n      startPoint = getNormalizedEventCoords(\n        /** @type {!Event} */ (activationEvent),\n        this.adapter_.getWindowPageOffset(), this.adapter_.computeBoundingRect()\n      );\n    } else {\n      startPoint = {\n        x: this.frame_.width / 2,\n        y: this.frame_.height / 2,\n      };\n    }\n    // Center the element around the start point.\n    startPoint = {\n      x: startPoint.x - (this.initialSize_ / 2),\n      y: startPoint.y - (this.initialSize_ / 2),\n    };\n\n    const endPoint = {\n      x: (this.frame_.width / 2) - (this.initialSize_ / 2),\n      y: (this.frame_.height / 2) - (this.initialSize_ / 2),\n    };\n\n    return {startPoint, endPoint};\n  }\n\n  /** @private */\n  runDeactivationUXLogicIfReady_() {\n    // This method is called both when a pointing device is released, and when the activation animation ends.\n    // The deactivation animation should only run after both of those occur.\n    const {FG_DEACTIVATION} = MDCRippleFoundation.cssClasses;\n    const {hasDeactivationUXRun, isActivated} = this.activationState_;\n    const activationHasEnded = hasDeactivationUXRun || !isActivated;\n\n    if (activationHasEnded && this.activationAnimationHasEnded_) {\n      this.rmBoundedActivationClasses_();\n      this.adapter_.addClass(FG_DEACTIVATION);\n      this.fgDeactivationRemovalTimer_ = setTimeout(() => {\n        this.adapter_.removeClass(FG_DEACTIVATION);\n      }, numbers.FG_DEACTIVATION_MS);\n    }\n  }\n\n  /** @private */\n  rmBoundedActivationClasses_() {\n    const {FG_ACTIVATION} = MDCRippleFoundation.cssClasses;\n    this.adapter_.removeClass(FG_ACTIVATION);\n    this.activationAnimationHasEnded_ = false;\n    this.adapter_.computeBoundingRect();\n  }\n\n  resetActivationState_() {\n    this.previousActivationEvent_ = this.activationState_.activationEvent;\n    this.activationState_ = this.defaultActivationState_();\n    // Touch devices may fire additional events for the same interaction within a short time.\n    // Store the previous event until it's safe to assume that subsequent events are for new interactions.\n    setTimeout(() => this.previousActivationEvent_ = undefined, MDCRippleFoundation.numbers.TAP_DELAY_MS);\n  }\n\n  /**\n   * @private\n   */\n  deactivate_() {\n    const activationState = this.activationState_;\n    // This can happen in scenarios such as when you have a keyup event that blurs the element.\n    if (!activationState.isActivated) {\n      return;\n    }\n\n    const state = /** @type {!ActivationStateType} */ (Object.assign({}, activationState));\n\n    if (activationState.isProgrammatic) {\n      requestAnimationFrame(() => this.animateDeactivation_(state));\n      this.resetActivationState_();\n    } else {\n      this.deregisterDeactivationHandlers_();\n      requestAnimationFrame(() => {\n        this.activationState_.hasDeactivationUXRun = true;\n        this.animateDeactivation_(state);\n        this.resetActivationState_();\n      });\n    }\n  }\n\n  deactivate() {\n    this.deactivate_();\n  }\n\n  /**\n   * @param {!ActivationStateType} options\n   * @private\n   */\n  animateDeactivation_({wasActivatedByPointer, wasElementMadeActive}) {\n    if (wasActivatedByPointer || wasElementMadeActive) {\n      this.runDeactivationUXLogicIfReady_();\n    }\n  }\n\n  layout() {\n    if (this.layoutFrame_) {\n      cancelAnimationFrame(this.layoutFrame_);\n    }\n    this.layoutFrame_ = requestAnimationFrame(() => {\n      this.layoutInternal_();\n      this.layoutFrame_ = 0;\n    });\n  }\n\n  /** @private */\n  layoutInternal_() {\n    this.frame_ = this.adapter_.computeBoundingRect();\n    const maxDim = Math.max(this.frame_.height, this.frame_.width);\n\n    // Surface diameter is treated differently for unbounded vs. bounded ripples.\n    // Unbounded ripple diameter is calculated smaller since the surface is expected to already be padded appropriately\n    // to extend the hitbox, and the ripple is expected to meet the edges of the padded hitbox (which is typically\n    // square). Bounded ripples, on the other hand, are fully expected to expand beyond the surface's longest diameter\n    // (calculated based on the diagonal plus a constant padding), and are clipped at the surface's border via\n    // `overflow: hidden`.\n    const getBoundedRadius = () => {\n      const hypotenuse = Math.sqrt(Math.pow(this.frame_.width, 2) + Math.pow(this.frame_.height, 2));\n      return hypotenuse + MDCRippleFoundation.numbers.PADDING;\n    };\n\n    this.maxRadius_ = this.adapter_.isUnbounded() ? maxDim : getBoundedRadius();\n\n    // Ripple is sized as a fraction of the largest dimension of the surface, then scales up using a CSS scale transform\n    this.initialSize_ = Math.floor(maxDim * MDCRippleFoundation.numbers.INITIAL_ORIGIN_SCALE);\n    this.fgScale_ = this.maxRadius_ / this.initialSize_;\n\n    this.updateLayoutCssVars_();\n  }\n\n  /** @private */\n  updateLayoutCssVars_() {\n    const {\n      VAR_FG_SIZE, VAR_LEFT, VAR_TOP, VAR_FG_SCALE,\n    } = MDCRippleFoundation.strings;\n\n    this.adapter_.updateCssVariable(VAR_FG_SIZE, `${this.initialSize_}px`);\n    this.adapter_.updateCssVariable(VAR_FG_SCALE, this.fgScale_);\n\n    if (this.adapter_.isUnbounded()) {\n      this.unboundedCoords_ = {\n        left: Math.round((this.frame_.width / 2) - (this.initialSize_ / 2)),\n        top: Math.round((this.frame_.height / 2) - (this.initialSize_ / 2)),\n      };\n\n      this.adapter_.updateCssVariable(VAR_LEFT, `${this.unboundedCoords_.left}px`);\n      this.adapter_.updateCssVariable(VAR_TOP, `${this.unboundedCoords_.top}px`);\n    }\n  }\n\n  /** @param {boolean} unbounded */\n  setUnbounded(unbounded) {\n    const {UNBOUNDED} = MDCRippleFoundation.cssClasses;\n    if (unbounded) {\n      this.adapter_.addClass(UNBOUNDED);\n    } else {\n      this.adapter_.removeClass(UNBOUNDED);\n    }\n  }\n\n  handleFocus() {\n    requestAnimationFrame(() =>\n      this.adapter_.addClass(MDCRippleFoundation.cssClasses.BG_FOCUSED));\n  }\n\n  handleBlur() {\n    requestAnimationFrame(() =>\n      this.adapter_.removeClass(MDCRippleFoundation.cssClasses.BG_FOCUSED));\n  }\n}\n\nexport default MDCRippleFoundation;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * Stores result from supportsCssVariables to avoid redundant processing to detect CSS custom variable support.\n * @private {boolean|undefined}\n */\nlet supportsCssVariables_;\n\n/**\n * Stores result from applyPassive to avoid redundant processing to detect passive event listener support.\n * @private {boolean|undefined}\n */\nlet supportsPassive_;\n\n/**\n * @param {!Window} windowObj\n * @return {boolean}\n */\nfunction detectEdgePseudoVarBug(windowObj) {\n  // Detect versions of Edge with buggy var() support\n  // See: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11495448/\n  const document = windowObj.document;\n  const node = document.createElement('div');\n  node.className = 'mdc-ripple-surface--test-edge-var-bug';\n  document.body.appendChild(node);\n\n  // The bug exists if ::before style ends up propagating to the parent element.\n  // Additionally, getComputedStyle returns null in iframes with display: \"none\" in Firefox,\n  // but Firefox is known to support CSS custom properties correctly.\n  // See: https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n  const computedStyle = windowObj.getComputedStyle(node);\n  const hasPseudoVarBug = computedStyle !== null && computedStyle.borderTopStyle === 'solid';\n  node.remove();\n  return hasPseudoVarBug;\n}\n\n/**\n * @param {!Window} windowObj\n * @param {boolean=} forceRefresh\n * @return {boolean|undefined}\n */\n\nfunction supportsCssVariables(windowObj, forceRefresh = false) {\n  let supportsCssVariables = supportsCssVariables_;\n  if (typeof supportsCssVariables_ === 'boolean' && !forceRefresh) {\n    return supportsCssVariables;\n  }\n\n  const supportsFunctionPresent = windowObj.CSS && typeof windowObj.CSS.supports === 'function';\n  if (!supportsFunctionPresent) {\n    return;\n  }\n\n  const explicitlySupportsCssVars = windowObj.CSS.supports('--css-vars', 'yes');\n  // See: https://bugs.webkit.org/show_bug.cgi?id=154669\n  // See: README section on Safari\n  const weAreFeatureDetectingSafari10plus = (\n    windowObj.CSS.supports('(--css-vars: yes)') &&\n    windowObj.CSS.supports('color', '#00000000')\n  );\n\n  if (explicitlySupportsCssVars || weAreFeatureDetectingSafari10plus) {\n    supportsCssVariables = !detectEdgePseudoVarBug(windowObj);\n  } else {\n    supportsCssVariables = false;\n  }\n\n  if (!forceRefresh) {\n    supportsCssVariables_ = supportsCssVariables;\n  }\n  return supportsCssVariables;\n}\n\n//\n/**\n * Determine whether the current browser supports passive event listeners, and if so, use them.\n * @param {!Window=} globalObj\n * @param {boolean=} forceRefresh\n * @return {boolean|!EventListenerOptions}\n */\nfunction applyPassive(globalObj = window, forceRefresh = false) {\n  if (supportsPassive_ === undefined || forceRefresh) {\n    let isSupported = false;\n    try {\n      globalObj.document.addEventListener('test', null, {get passive() {\n        isSupported = true;\n        return isSupported;\n      }});\n    } catch (e) { }\n\n    supportsPassive_ = isSupported;\n  }\n\n  return supportsPassive_\n    ? /** @type {!EventListenerOptions} */ ({passive: true})\n    : false;\n}\n\n/**\n * @param {!Object} HTMLElementPrototype\n * @return {string}\n */\nfunction getMatchesProperty(HTMLElementPrototype) {\n  /**\n   * Order is important because we return the first existing method we find.\n   * Do not change the order of the items in the below array.\n   */\n  const matchesMethods = ['matches', 'webkitMatchesSelector', 'msMatchesSelector'];\n  let method = 'matches';\n  for (let i = 0; i < matchesMethods.length; i++) {\n    const matchesMethod = matchesMethods[i];\n    if (matchesMethod in HTMLElementPrototype) {\n      method = matchesMethod;\n      break;\n    }\n  }\n\n  return method;\n}\n\n/**\n * @param {!Event} ev\n * @param {{x: number, y: number}} pageOffset\n * @param {!ClientRect} clientRect\n * @return {{x: number, y: number}}\n */\nfunction getNormalizedEventCoords(ev, pageOffset, clientRect) {\n  const {x, y} = pageOffset;\n  const documentX = x + clientRect.left;\n  const documentY = y + clientRect.top;\n\n  let normalizedX;\n  let normalizedY;\n  // Determine touch point relative to the ripple container.\n  if (ev.type === 'touchstart') {\n    ev = /** @type {!TouchEvent} */ (ev);\n    normalizedX = ev.changedTouches[0].pageX - documentX;\n    normalizedY = ev.changedTouches[0].pageY - documentY;\n  } else {\n    ev = /** @type {!MouseEvent} */ (ev);\n    normalizedX = ev.pageX - documentX;\n    normalizedY = ev.pageY - documentY;\n  }\n\n  return {x: normalizedX, y: normalizedY};\n}\n\nexport {supportsCssVariables, applyPassive, getMatchesProperty, getNormalizedEventCoords};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nconst cssClasses = {\n  // Ripple is a special case where the \"root\" component is really a \"mixin\" of sorts,\n  // given that it's an 'upgrade' to an existing component. That being said it is the root\n  // CSS class that all other CSS classes derive from.\n  ROOT: 'mdc-ripple-upgraded',\n  UNBOUNDED: 'mdc-ripple-upgraded--unbounded',\n  BG_FOCUSED: 'mdc-ripple-upgraded--background-focused',\n  FG_ACTIVATION: 'mdc-ripple-upgraded--foreground-activation',\n  FG_DEACTIVATION: 'mdc-ripple-upgraded--foreground-deactivation',\n};\n\nconst strings = {\n  VAR_LEFT: '--mdc-ripple-left',\n  VAR_TOP: '--mdc-ripple-top',\n  VAR_FG_SIZE: '--mdc-ripple-fg-size',\n  VAR_FG_SCALE: '--mdc-ripple-fg-scale',\n  VAR_FG_TRANSLATE_START: '--mdc-ripple-fg-translate-start',\n  VAR_FG_TRANSLATE_END: '--mdc-ripple-fg-translate-end',\n};\n\nconst numbers = {\n  PADDING: 10,\n  INITIAL_ORIGIN_SCALE: 0.6,\n  DEACTIVATION_TIMEOUT_MS: 225, // Corresponds to $mdc-ripple-translate-duration (i.e. activation animation duration)\n  FG_DEACTIVATION_MS: 150, // Corresponds to $mdc-ripple-fade-out-duration (i.e. deactivation animation duration)\n  TAP_DELAY_MS: 300, // Delay between touch and simulated mouse events on touch devices\n};\n\nexport {cssClasses, strings, numbers};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDC Ripple. Provides an interface for managing\n * - classes\n * - dom\n * - CSS variables\n * - position\n * - dimensions\n * - scroll position\n * - event handlers\n * - unbounded, active and disabled states\n *\n * Additionally, provides type information for the adapter to the Closure\n * compiler.\n *\n * Implement this adapter for your framework of choice to delegate updates to\n * the component in your framework of choice. See architecture documentation\n * for more details.\n * https://github.com/material-components/material-components-web/blob/master/docs/code/architecture.md\n *\n * @record\n */\nclass MDCRippleAdapter {\n  /** @return {boolean} */\n  browserSupportsCssVars() {}\n\n  /** @return {boolean} */\n  isUnbounded() {}\n\n  /** @return {boolean} */\n  isSurfaceActive() {}\n\n  /** @return {boolean} */\n  isSurfaceDisabled() {}\n\n  /** @param {string} className */\n  addClass(className) {}\n\n  /** @param {string} className */\n  removeClass(className) {}\n\n  /** @param {!EventTarget} target */\n  containsEventTarget(target) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  registerInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  deregisterInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  registerDocumentInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  deregisterDocumentInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {!Function} handler\n   */\n  registerResizeHandler(handler) {}\n\n  /**\n   * @param {!Function} handler\n   */\n  deregisterResizeHandler(handler) {}\n\n  /**\n   * @param {string} varName\n   * @param {?number|string} value\n   */\n  updateCssVariable(varName, value) {}\n\n  /** @return {!ClientRect} */\n  computeBoundingRect() {}\n\n  /** @return {{x: number, y: number}} */\n  getWindowPageOffset() {}\n}\n\nexport default MDCRippleAdapter;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCFoundation from './foundation';\n\n/**\n * @template F\n */\nclass MDCComponent {\n  /**\n   * @param {!Element} root\n   * @return {!MDCComponent}\n   */\n  static attachTo(root) {\n    // Subclasses which extend MDCBase should provide an attachTo() method that takes a root element and\n    // returns an instantiated component with its root set to that element. Also note that in the cases of\n    // subclasses, an explicit foundation class will not have to be passed in; it will simply be initialized\n    // from getDefaultFoundation().\n    return new MDCComponent(root, new MDCFoundation());\n  }\n\n  /**\n   * @param {!Element} root\n   * @param {F=} foundation\n   * @param {...?} args\n   */\n  constructor(root, foundation = undefined, ...args) {\n    /** @protected {!Element} */\n    this.root_ = root;\n    this.initialize(...args);\n    // Note that we initialize foundation here and not within the constructor's default param so that\n    // this.root_ is defined and can be used within the foundation class.\n    /** @protected {!F} */\n    this.foundation_ = foundation === undefined ? this.getDefaultFoundation() : foundation;\n    this.foundation_.init();\n    this.initialSyncWithDOM();\n  }\n\n  initialize(/* ...args */) {\n    // Subclasses can override this to do any additional setup work that would be considered part of a\n    // \"constructor\". Essentially, it is a hook into the parent constructor before the foundation is\n    // initialized. Any additional arguments besides root and foundation will be passed in here.\n  }\n\n  /**\n   * @return {!F} foundation\n   */\n  getDefaultFoundation() {\n    // Subclasses must override this method to return a properly configured foundation class for the\n    // component.\n    throw new Error('Subclasses must override getDefaultFoundation to return a properly configured ' +\n      'foundation class');\n  }\n\n  initialSyncWithDOM() {\n    // Subclasses should override this method if they need to perform work to synchronize with a host DOM\n    // object. An example of this would be a form control wrapper that needs to synchronize its internal state\n    // to some property or attribute of the host DOM. Please note: this is *not* the place to perform DOM\n    // reads/writes that would cause layout / paint, as this is called synchronously from within the constructor.\n  }\n\n  destroy() {\n    // Subclasses may implement this method to release any resources / deregister any listeners they have\n    // attached. An example of this might be deregistering a resize event from the window object.\n    this.foundation_.destroy();\n  }\n\n  /**\n   * Wrapper method to add an event listener to the component's root element. This is most useful when\n   * listening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  listen(evtType, handler) {\n    this.root_.addEventListener(evtType, handler);\n  }\n\n  /**\n   * Wrapper method to remove an event listener to the component's root element. This is most useful when\n   * unlistening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  unlisten(evtType, handler) {\n    this.root_.removeEventListener(evtType, handler);\n  }\n\n  /**\n   * Fires a cross-browser-compatible custom event from the component root of the given type,\n   * with the given data.\n   * @param {string} evtType\n   * @param {!Object} evtData\n   * @param {boolean=} shouldBubble\n   */\n  emit(evtType, evtData, shouldBubble = false) {\n    let evt;\n    if (typeof CustomEvent === 'function') {\n      evt = new CustomEvent(evtType, {\n        detail: evtData,\n        bubbles: shouldBubble,\n      });\n    } else {\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(evtType, shouldBubble, false, evtData);\n    }\n\n    this.root_.dispatchEvent(evt);\n  }\n}\n\nexport default MDCComponent;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * @template A\n */\nclass MDCFoundation {\n  /** @return enum{cssClasses} */\n  static get cssClasses() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports every\n    // CSS class the foundation class needs as a property. e.g. {ACTIVE: 'mdc-component--active'}\n    return {};\n  }\n\n  /** @return enum{strings} */\n  static get strings() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // semantic strings as constants. e.g. {ARIA_ROLE: 'tablist'}\n    return {};\n  }\n\n  /** @return enum{numbers} */\n  static get numbers() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // of its semantic numbers as constants. e.g. {ANIMATION_DELAY_MS: 350}\n    return {};\n  }\n\n  /** @return {!Object} */\n  static get defaultAdapter() {\n    // Classes extending MDCFoundation may choose to implement this getter in order to provide a convenient\n    // way of viewing the necessary methods of an adapter. In the future, this could also be used for adapter\n    // validation.\n    return {};\n  }\n\n  /**\n   * @param {A=} adapter\n   */\n  constructor(adapter = {}) {\n    /** @protected {!A} */\n    this.adapter_ = adapter;\n  }\n\n  init() {\n    // Subclasses should override this method to perform initialization routines (registering events, etc.)\n  }\n\n  destroy() {\n    // Subclasses should override this method to perform de-initialization routines (de-registering events, etc.)\n  }\n}\n\nexport default MDCFoundation;\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * @fileoverview A \"ponyfill\" is a polyfill that doesn't modify the global prototype chain.\n * This makes ponyfills safer than traditional polyfills, especially for libraries like MDC.\n */\n\n/**\n * @param {!Element} element\n * @param {string} selector\n * @return {?Element}\n */\nfunction closest(element, selector) {\n  if (element.closest) {\n    return element.closest(selector);\n  }\n\n  let el = element;\n  while (el) {\n    if (matches(el, selector)) {\n      return el;\n    }\n    el = el.parentElement;\n  }\n  return null;\n}\n\n/**\n * @param {!Element} element\n * @param {string} selector\n * @return {boolean}\n */\nfunction matches(element, selector) {\n  const nativeMatches = element.matches\n    || element.webkitMatchesSelector\n    || element.msMatchesSelector;\n  return nativeMatches.call(element, selector);\n}\n\nexport {closest, matches};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nconst cssClasses = {\n  OPEN: 'mdc-dialog--open',\n  OPENING: 'mdc-dialog--opening',\n  CLOSING: 'mdc-dialog--closing',\n  SCROLLABLE: 'mdc-dialog--scrollable',\n  STACKED: 'mdc-dialog--stacked',\n  SCROLL_LOCK: 'mdc-dialog-scroll-lock',\n};\n\nconst strings = {\n  SCRIM_SELECTOR: '.mdc-dialog__scrim',\n  CONTAINER_SELECTOR: '.mdc-dialog__container',\n  SURFACE_SELECTOR: '.mdc-dialog__surface',\n  CONTENT_SELECTOR: '.mdc-dialog__content',\n  BUTTON_SELECTOR: '.mdc-dialog__button',\n  DEFAULT_BUTTON_SELECTOR: '.mdc-dialog__button--default',\n  SUPPRESS_DEFAULT_PRESS_SELECTOR: [\n    'textarea',\n    '.mdc-menu .mdc-list-item',\n  ].join(', '),\n\n  OPENING_EVENT: 'MDCDialog:opening',\n  OPENED_EVENT: 'MDCDialog:opened',\n  CLOSING_EVENT: 'MDCDialog:closing',\n  CLOSED_EVENT: 'MDCDialog:closed',\n\n  ACTION_ATTRIBUTE: 'data-mdc-dialog-action',\n\n  CLOSE_ACTION: 'close',\n  DESTROY_ACTION: 'destroy',\n};\n\nconst numbers = {\n  DIALOG_ANIMATION_OPEN_TIME_MS: 150,\n  DIALOG_ANIMATION_CLOSE_TIME_MS: 75,\n};\n\nexport {cssClasses, strings, numbers};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport createFocusTrap from 'focus-trap';\n\n/**\n * @param {!Element} surfaceEl\n * @param {?Element=} initialFocusEl\n * @param {function(!Element, !FocusTrapCreateOptions): !FocusTrapInstance} focusTrapFactory\n * @return {!FocusTrapInstance}\n */\nfunction createFocusTrapInstance(surfaceEl, focusTrapFactory = createFocusTrap, initialFocusEl = null) {\n  return focusTrapFactory(surfaceEl, {\n    initialFocus: initialFocusEl,\n    escapeDeactivates: false, // Dialog foundation handles escape key\n    clickOutsideDeactivates: true, // Allow handling of scrim clicks\n  });\n}\n\n/**\n * @param {!Element} el\n * @return {boolean}\n */\nfunction isScrollable(el) {\n  return el.scrollHeight > el.offsetHeight;\n}\n\n/**\n * @param {!Array<!Element>|!NodeList} els\n * @return {boolean}\n */\nfunction areTopsMisaligned(els) {\n  const tops = new Set();\n  [].forEach.call(els, (el) => tops.add(el.offsetTop));\n  return tops.size > 1;\n}\n\nexport {createFocusTrapInstance, isScrollable, areTopsMisaligned};\n","import { Observable, Subject } from 'rxjs';\r\nimport { OverlayRef } from '@angular-mdc/web/overlay';\r\n\r\nimport { MdcDialogPortal } from './dialog-portal';\r\n\r\n/** Unique id for the created dialog. */\r\nlet uniqueId = 0;\r\n\r\n/**  Reference to a dialog dispatched from the MdcDialog service. */\r\nexport class MdcDialogRef<T, R = any> {\r\n  /** The instance of the component in the dialog. */\r\n  componentInstance!: T;\r\n\r\n  /** Subject for notifying the user that the dialog has finished opening. */\r\n  private readonly _afterOpened = new Subject<void>();\r\n\r\n  /** Subject for notifying the user that the dialog has started closing. */\r\n  private readonly _beforeClosed = new Subject<R | undefined>();\r\n\r\n  /** Subject for notifying the user that the dialog has finished closing. */\r\n  private readonly _afterClosed = new Subject<R | undefined>();\r\n\r\n  /** Result to be passed to afterClosed. */\r\n  private _result: R | undefined;\r\n\r\n  constructor(\r\n    private _overlayRef: OverlayRef,\r\n    public _portalInstance: MdcDialogPortal,\r\n    readonly id: string = `mdc-dialog-${uniqueId++}`) {\r\n\r\n    // Pass the id along to the portal.\r\n    _portalInstance._id = id;\r\n\r\n    _overlayRef.detachments().subscribe(() => {\r\n      this._beforeClosed.next(this._result);\r\n      this._beforeClosed.complete();\r\n      this._afterClosed.next(this._result);\r\n      this._afterClosed.complete();\r\n      this.componentInstance = null!;\r\n      this._overlayRef.dispose();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Close the dialog.\r\n   * @param dialogResult Optional result to return to the dialog opener.\r\n   */\r\n  close(dialogResult?: R): void {\r\n    this._result = dialogResult;\r\n    this._overlayRef.dispose();\r\n  }\r\n\r\n  /** Marks the dialog as opened. */\r\n  opened(): void {\r\n    if (!this._afterOpened.closed) {\r\n      this._afterOpened.next();\r\n      this._afterOpened.complete();\r\n    }\r\n  }\r\n\r\n  /** Gets an observable that is notified when the dialog is finished opening. */\r\n  afterOpened(): Observable<void> {\r\n    return this._afterOpened.asObservable();\r\n  }\r\n\r\n  /** Gets an observable that is notified when the dialog has started closing. */\r\n  beforeClosed(): Observable<R | undefined> {\r\n    return this._beforeClosed.asObservable();\r\n  }\r\n\r\n  /** Gets an observable that is notified when the dialog is finished closing. */\r\n  afterClosed(): Observable<R | undefined> {\r\n    return this._afterClosed.asObservable();\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  Directive,\r\n  ElementRef,\r\n  Input,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { MdcButton } from '@angular-mdc/web/button';\r\nimport { toBoolean } from '@angular-mdc/web/common';\r\nimport { MdcRipple } from '@angular-mdc/web/ripple';\r\n\r\n@Directive({ selector: '[mdcDialogAction]' })\r\nexport class MdcDialogAction {\r\n  @Input('mdcDialogAction')\r\n  get action(): string { return this._action; }\r\n  set action(action: string) {\r\n    // If the directive is set without a name (updated programatically), then this setter will\r\n    // trigger with an empty string and should not overwrite the programatically set value.\r\n    if (!action) { return; }\r\n\r\n    this._action = action;\r\n    this.elementRef.nativeElement.setAttribute('data-mdc-dialog-action', this._action);\r\n  }\r\n  private _action: string = '';\r\n\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: 'mdc-dialog-scrim',\r\n  host: { 'class': 'mdc-dialog__scrim' }\r\n})\r\nexport class MdcDialogScrim {\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: '[mdcDialogContainer], mdc-dialog-container',\r\n  host: { 'class': 'mdc-dialog__container' }\r\n})\r\nexport class MdcDialogContainer {\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: '[mdcDialogSurface], mdc-dialog-surface',\r\n  host: { 'class': 'mdc-dialog__surface' }\r\n})\r\nexport class MdcDialogSurface {\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: '[mdcDialogTitle], mdc-dialog-title',\r\n  host: { 'class': 'mdc-dialog__title' }\r\n})\r\nexport class MdcDialogTitle {\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: '[mdcDialogContent], mdc-dialog-content',\r\n  host: { 'class': 'mdc-dialog__content' }\r\n})\r\nexport class MdcDialogContent {\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'mdc-dialog-actions, [mdcDialogActions]',\r\n  template: '<ng-content></ng-content>',\r\n  exportAs: 'mdcDialogActions',\r\n  host: {\r\n    'class': 'mdc-dialog__actions',\r\n    '[class.mdc-dialog--stacked]': 'stacked'\r\n  },\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class MdcDialogActions {\r\n  @Input()\r\n  get stacked(): boolean { return this._stacked; }\r\n  set stacked(value: boolean) {\r\n    this._stacked = toBoolean(value);\r\n  }\r\n  private _stacked: boolean = false;\r\n\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: '[mdcDialogButton]',\r\n  exportAs: 'mdcDialogButton',\r\n  host: {\r\n    'class': 'mdc-dialog__button',\r\n    '[class.mdc-button]': 'true',\r\n    '[class.mdc-dialog__button--default]': 'default'\r\n  },\r\n  template: '<ng-content></ng-content>',\r\n  providers: [MdcRipple],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class MdcDialogButton extends MdcButton {\r\n  @Input()\r\n  get default(): boolean { return this._default; }\r\n  set default(value: boolean) {\r\n    this._default = toBoolean(value);\r\n  }\r\n  private _default: boolean = false;\r\n}\r\n","var tabbable = require('tabbable');\nvar xtend = require('xtend');\n\nvar activeFocusTraps = (function() {\n  var trapQueue = [];\n  return {\n    activateTrap: function(trap) {\n      if (trapQueue.length > 0) {\n        var activeTrap = trapQueue[trapQueue.length - 1];\n        if (activeTrap !== trap) {\n          activeTrap.pause();\n        }\n      }\n\n      var trapIndex = trapQueue.indexOf(trap);\n      if (trapIndex === -1) {\n        trapQueue.push(trap);\n      } else {\n        // move this existing trap to the front of the queue\n        trapQueue.splice(trapIndex, 1);\n        trapQueue.push(trap);\n      }\n    },\n\n    deactivateTrap: function(trap) {\n      var trapIndex = trapQueue.indexOf(trap);\n      if (trapIndex !== -1) {\n        trapQueue.splice(trapIndex, 1);\n      }\n\n      if (trapQueue.length > 0) {\n        trapQueue[trapQueue.length - 1].unpause();\n      }\n    }\n  };\n})();\n\nfunction focusTrap(element, userOptions) {\n  var doc = document;\n  var container =\n    typeof element === 'string' ? doc.querySelector(element) : element;\n\n  var config = xtend(\n    {\n      returnFocusOnDeactivate: true,\n      escapeDeactivates: true\n    },\n    userOptions\n  );\n\n  var state = {\n    firstTabbableNode: null,\n    lastTabbableNode: null,\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false\n  };\n\n  var trap = {\n    activate: activate,\n    deactivate: deactivate,\n    pause: pause,\n    unpause: unpause\n  };\n\n  return trap;\n\n  function activate(activateOptions) {\n    if (state.active) return;\n\n    updateTabbableNodes();\n\n    state.active = true;\n    state.paused = false;\n    state.nodeFocusedBeforeActivation = doc.activeElement;\n\n    var onActivate =\n      activateOptions && activateOptions.onActivate\n        ? activateOptions.onActivate\n        : config.onActivate;\n    if (onActivate) {\n      onActivate();\n    }\n\n    addListeners();\n    return trap;\n  }\n\n  function deactivate(deactivateOptions) {\n    if (!state.active) return;\n\n    removeListeners();\n    state.active = false;\n    state.paused = false;\n\n    activeFocusTraps.deactivateTrap(trap);\n\n    var onDeactivate =\n      deactivateOptions && deactivateOptions.onDeactivate !== undefined\n        ? deactivateOptions.onDeactivate\n        : config.onDeactivate;\n    if (onDeactivate) {\n      onDeactivate();\n    }\n\n    var returnFocus =\n      deactivateOptions && deactivateOptions.returnFocus !== undefined\n        ? deactivateOptions.returnFocus\n        : config.returnFocusOnDeactivate;\n    if (returnFocus) {\n      delay(function() {\n        tryFocus(state.nodeFocusedBeforeActivation);\n      });\n    }\n\n    return trap;\n  }\n\n  function pause() {\n    if (state.paused || !state.active) return;\n    state.paused = true;\n    removeListeners();\n  }\n\n  function unpause() {\n    if (!state.paused || !state.active) return;\n    state.paused = false;\n    addListeners();\n  }\n\n  function addListeners() {\n    if (!state.active) return;\n\n    // There can be only one listening focus trap at a time\n    activeFocusTraps.activateTrap(trap);\n\n    updateTabbableNodes();\n\n    // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n    delay(function() {\n      tryFocus(getInitialFocusNode());\n    });\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, true);\n    doc.addEventListener('touchstart', checkPointerDown, true);\n    doc.addEventListener('click', checkClick, true);\n    doc.addEventListener('keydown', checkKey, true);\n\n    return trap;\n  }\n\n  function removeListeners() {\n    if (!state.active) return;\n\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n\n    return trap;\n  }\n\n  function getNodeForOption(optionName) {\n    var optionValue = config[optionName];\n    var node = optionValue;\n    if (!optionValue) {\n      return null;\n    }\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue);\n      if (!node) {\n        throw new Error('`' + optionName + '` refers to no known node');\n      }\n    }\n    if (typeof optionValue === 'function') {\n      node = optionValue();\n      if (!node) {\n        throw new Error('`' + optionName + '` did not return a node');\n      }\n    }\n    return node;\n  }\n\n  function getInitialFocusNode() {\n    var node;\n    if (getNodeForOption('initialFocus') !== null) {\n      node = getNodeForOption('initialFocus');\n    } else if (container.contains(doc.activeElement)) {\n      node = doc.activeElement;\n    } else {\n      node = state.firstTabbableNode || getNodeForOption('fallbackFocus');\n    }\n\n    if (!node) {\n      throw new Error(\n        \"You can't have a focus-trap without at least one focusable element\"\n      );\n    }\n\n    return node;\n  }\n\n  // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n  function checkPointerDown(e) {\n    if (container.contains(e.target)) return;\n    if (config.clickOutsideDeactivates) {\n      deactivate({\n        returnFocus: !tabbable.isFocusable(e.target)\n      });\n    } else {\n      e.preventDefault();\n    }\n  }\n\n  // In case focus escapes the trap for some strange reason, pull it back in.\n  function checkFocusIn(e) {\n    // In Firefox when you Tab out of an iframe the Document is briefly focused.\n    if (container.contains(e.target) || e.target instanceof Document) {\n      return;\n    }\n    e.stopImmediatePropagation();\n    tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n  }\n\n  function checkKey(e) {\n    if (config.escapeDeactivates !== false && isEscapeEvent(e)) {\n      e.preventDefault();\n      deactivate();\n      return;\n    }\n    if (isTabEvent(e)) {\n      checkTab(e);\n      return;\n    }\n  }\n\n  // Hijack Tab events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n  function checkTab(e) {\n    updateTabbableNodes();\n    if (e.shiftKey && e.target === state.firstTabbableNode) {\n      e.preventDefault();\n      tryFocus(state.lastTabbableNode);\n      return;\n    }\n    if (!e.shiftKey && e.target === state.lastTabbableNode) {\n      e.preventDefault();\n      tryFocus(state.firstTabbableNode);\n      return;\n    }\n  }\n\n  function checkClick(e) {\n    if (config.clickOutsideDeactivates) return;\n    if (container.contains(e.target)) return;\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  }\n\n  function updateTabbableNodes() {\n    var tabbableNodes = tabbable(container);\n    state.firstTabbableNode = tabbableNodes[0] || getInitialFocusNode();\n    state.lastTabbableNode =\n      tabbableNodes[tabbableNodes.length - 1] || getInitialFocusNode();\n  }\n\n  function tryFocus(node) {\n    if (node === doc.activeElement) return;\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n\n    node.focus();\n    state.mostRecentlyFocusedNode = node;\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  }\n}\n\nfunction isSelectableInput(node) {\n  return (\n    node.tagName &&\n    node.tagName.toLowerCase() === 'input' &&\n    typeof node.select === 'function'\n  );\n}\n\nfunction isEscapeEvent(e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n}\n\nfunction isTabEvent(e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n}\n\nfunction delay(fn) {\n  return setTimeout(fn, 0);\n}\n\nmodule.exports = focusTrap;\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","var candidateSelectors = [\n  'input',\n  'select',\n  'textarea',\n  'a[href]',\n  'button',\n  '[tabindex]',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]:not([contenteditable=\"false\"])',\n];\nvar candidateSelector = candidateSelectors.join(',');\n\nvar matches = typeof Element === 'undefined'\n  ? function () {}\n  : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\nfunction tabbable(el, options) {\n  options = options || {};\n\n  var elementDocument = el.ownerDocument || el;\n  var regularTabbables = [];\n  var orderedTabbables = [];\n\n  var untouchabilityChecker = new UntouchabilityChecker(elementDocument);\n  var candidates = el.querySelectorAll(candidateSelector);\n\n  if (options.includeContainer) {\n    if (matches.call(el, candidateSelector)) {\n      candidates = Array.prototype.slice.apply(candidates);\n      candidates.unshift(el);\n    }\n  }\n\n  var i, candidate, candidateTabindex;\n  for (i = 0; i < candidates.length; i++) {\n    candidate = candidates[i];\n\n    if (!isNodeMatchingSelectorTabbable(candidate, untouchabilityChecker)) continue;\n\n    candidateTabindex = getTabindex(candidate);\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate,\n      });\n    }\n  }\n\n  var tabbableNodes = orderedTabbables\n    .sort(sortOrderedTabbables)\n    .map(function(a) { return a.node })\n    .concat(regularTabbables);\n\n  return tabbableNodes;\n}\n\ntabbable.isTabbable = isTabbable;\ntabbable.isFocusable = isFocusable;\n\nfunction isNodeMatchingSelectorTabbable(node, untouchabilityChecker) {\n  if (\n    !isNodeMatchingSelectorFocusable(node, untouchabilityChecker)\n    || isNonTabbableRadio(node)\n    || getTabindex(node) < 0\n  ) {\n    return false;\n  }\n  return true;\n}\n\nfunction isTabbable(node, untouchabilityChecker) {\n  if (!node) throw new Error('No node provided');\n  if (matches.call(node, candidateSelector) === false) return false;\n  return isNodeMatchingSelectorTabbable(node, untouchabilityChecker);\n}\n\nfunction isNodeMatchingSelectorFocusable(node, untouchabilityChecker) {\n  untouchabilityChecker = untouchabilityChecker || new UntouchabilityChecker(node.ownerDocument || node);\n  if (\n    node.disabled\n    || isHiddenInput(node)\n    || untouchabilityChecker.isUntouchable(node)\n  ) {\n    return false;\n  }\n  return true;\n}\n\nvar focusableCandidateSelector = candidateSelectors.concat('iframe').join(',');\nfunction isFocusable(node, untouchabilityChecker) {\n  if (!node) throw new Error('No node provided');\n  if (matches.call(node, focusableCandidateSelector) === false) return false;\n  return isNodeMatchingSelectorFocusable(node, untouchabilityChecker);\n}\n\nfunction getTabindex(node) {\n  var tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n  if (!isNaN(tabindexAttr)) return tabindexAttr;\n  // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n  if (isContentEditable(node)) return 0;\n  return node.tabIndex;\n}\n\nfunction sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n}\n\n// Array.prototype.find not available in IE.\nfunction find(list, predicate) {\n  for (var i = 0, length = list.length; i < length; i++) {\n    if (predicate(list[i])) return list[i];\n  }\n}\n\nfunction isContentEditable(node) {\n  return node.contentEditable === 'true';\n}\n\nfunction isInput(node) {\n  return node.tagName === 'INPUT';\n}\n\nfunction isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n}\n\nfunction isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n}\n\nfunction isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n}\n\nfunction getCheckedRadio(nodes) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked) {\n      return nodes[i];\n    }\n  }\n}\n\nfunction isTabbableRadio(node) {\n  if (!node.name) return true;\n  // This won't account for the edge case where you have radio groups with the same\n  // in separate forms on the same page.\n  var radioSet = node.ownerDocument.querySelectorAll('input[type=\"radio\"][name=\"' + node.name + '\"]');\n  var checked = getCheckedRadio(radioSet);\n  return !checked || checked === node;\n}\n\n// An element is \"untouchable\" if *it or one of its ancestors* has\n// `visibility: hidden` or `display: none`.\nfunction UntouchabilityChecker(elementDocument) {\n  this.doc = elementDocument;\n  // Node cache must be refreshed on every check, in case\n  // the content of the element has changed. The cache contains tuples\n  // mapping nodes to their boolean result.\n  this.cache = [];\n}\n\n// getComputedStyle accurately reflects `visibility: hidden` of ancestors\n// but not `display: none`, so we need to recursively check parents.\nUntouchabilityChecker.prototype.hasDisplayNone = function hasDisplayNone(node, nodeComputedStyle) {\n  if (node.nodeType !== Node.ELEMENT_NODE) return false;\n\n    // Search for a cached result.\n    var cached = find(this.cache, function(item) {\n      return item === node;\n    });\n    if (cached) return cached[1];\n\n    nodeComputedStyle = nodeComputedStyle || this.doc.defaultView.getComputedStyle(node);\n\n    var result = false;\n\n    if (nodeComputedStyle.display === 'none') {\n      result = true;\n    } else if (node.parentNode) {\n      result = this.hasDisplayNone(node.parentNode);\n    }\n\n    this.cache.push([node, result]);\n\n    return result;\n}\n\nUntouchabilityChecker.prototype.isUntouchable = function isUntouchable(node) {\n  if (node === this.doc.documentElement) return false;\n  var computedStyle = this.doc.defaultView.getComputedStyle(node);\n  if (this.hasDisplayNone(node, computedStyle)) return true;\n  return computedStyle.visibility === 'hidden';\n}\n\nmodule.exports = tabbable;\n"],"names":["tslib_1.__assign","tslib_1.__extends","createFocusTrap","matches","MDCComponent","MDCDialog","root","foundation_","setAutoStackButtons","autoStack","getAutoStackButtons","setScrimClickAction","action","getScrimClickAction","setEscapeKeyAction","getEscapeKeyAction","isOpen","emit","strings","CLOSED_EVENT","notifyClosed","CLOSING_EVENT","notifyClosing","OPENED_EVENT","notifyOpened","OPENING_EVENT","notifyOpening","button","parentElement","appendChild","buttons_","forEach","reverse","reverseButtons","defaultButton_","click","clickDefaultButton","element","getAttribute","ACTION_ATTRIBUTE","closest","event","target","getActionFromEvent","util","areButtonsStacked","content_","isContentScrollable","focusTrap_","deactivate","releaseFocus","activate","trapFocus","selector","eventTargetMatches","document","body","classList","remove","className","removeBodyClass","add","addBodyClass","root_","contains","hasClass","removeClass","addClass","MDCDialogFoundation","close","open","layout","ripple","destroy","buttonRipples_","handleClosing_","unlisten","handleOpening_","handleInteraction_","listen","removeEventListener","handleDocumentKeydown_","window","type","layout_","LAYOUT_EVENTS","addEventListener","bind","handleDocumentKeydown","handleInteraction","container_","focusTrapFactory_","initialFocusEl_","push","MDCRipple","buttonEl","i","initialFocusEl","focusTrapFactory","querySelector","DEFAULT_BUTTON_SELECTOR","slice","call","querySelectorAll","BUTTON_SELECTOR","CONTENT_SELECTOR","CONTAINER_SELECTOR","args","MDCFoundation","animationTimer_","setTimeout","callback","clearTimeout","animationFrame_","requestAnimationFrame","cancelAnimationFrame","adapter_","cssClasses","CLOSING","OPENING","escapeKeyAction_","evt","key","keyCode","isEnter","SUPPRESS_DEFAULT_PRESS_SELECTOR","isClick","scrimClickAction_","SCRIM_SELECTOR","SCROLLABLE","areButtonsStacked_","STACKED","detectScrollableContent_","detectStackedButtons_","autoStackButtons_","layoutFrame_","layoutInternal_","isOpen_","numbers","DIALOG_ANIMATION_CLOSE_TIME_MS","handleAnimationTimerEnd_","SCROLL_LOCK","OPEN","DIALOG_ANIMATION_OPEN_TIME_MS","runNextAnimationFrame_","DESTROY_ACTION","CLOSE_ACTION","Object","assign","defaultAdapter","adapter","MDCDialogAdapter","RippleCapableSurface","prototype","disabled","unbounded","y","pageYOffset","x","pageXOffset","getWindowPageOffset","instance","getBoundingClientRect","computeBoundingRect","style","setProperty","varName","value","updateCssVariable","handler","deregisterResizeHandler","registerResizeHandler","documentElement","evtType","deregisterDocumentInteractionHandler","registerDocumentInteractionHandler","deregisterInteractionHandler","registerInteractionHandler","containsEventTarget","isSurfaceDisabled","MATCHES","isSurfaceActive","isUnbounded","browserSupportsCssVars","HTMLElement","undefined","setUnbounded_","unbounded_","Boolean","dataset","MDCRippleFoundation","createAdapter","setUnbounded","BG_FOCUSED","UNBOUNDED","VAR_TOP","unboundedCoords_","top","VAR_LEFT","left","Math","round","frame_","height","initialSize_","width","VAR_FG_SCALE","fgScale_","VAR_FG_SIZE","updateLayoutCssVars_","maxRadius_","floor","maxDim","INITIAL_ORIGIN_SCALE","getBoundedRadius","hypotenuse","PADDING","sqrt","pow","max","runDeactivationUXLogicIfReady_","wasActivatedByPointer","wasElementMadeActive","deactivate_","resetActivationState_","animateDeactivation_","state","activationState_","hasDeactivationUXRun","deregisterDeactivationHandlers_","activationState","isProgrammatic","isActivated","TAP_DELAY_MS","previousActivationEvent_","defaultActivationState_","activationEvent","activationAnimationHasEnded_","FG_ACTIVATION","FG_DEACTIVATION_MS","FG_DEACTIVATION","fgDeactivationRemovalTimer_","rmBoundedActivationClasses_","activationHasEnded","endPoint","startPoint","getNormalizedEventCoords","DEACTIVATION_TIMEOUT_MS","activationTimerCallback_","activationTimer_","VAR_FG_TRANSLATE_END","translateEnd","VAR_FG_TRANSLATE_START","translateStart","getFgTranslationCoordinates_","activate_","e","animateActivation_","checkElementMadeActive_","activatedTargets","registerDeactivationHandlers_","hasActivatedChild","length","some","isSameInteraction","previousActivationEvent","k","indexOf","keys","deactivateHandler_","POINTER_DEACTIVATION_EVENT_TYPES","resizeHandler_","blurHandler_","focusHandler_","activateHandler_","ACTIVATION_EVENT_TYPES","supportsPressRipple","deregisterRootHandlers_","removeCssVars_","ROOT","supportsPressRipple_","registerRootHandlers_","handleBlur","handleFocus","normalizedY","normalizedX","ev","pageY","documentY","pageX","documentX","changedTouches","clientRect","pageOffset","method","matchesMethod","HTMLElementPrototype","matchesMethods","getMatchesProperty","passive","supportsPassive_","isSupported","globalObj","forceRefresh","applyPassive","supportsCssVariables","supportsCssVariables_","detectEdgePseudoVarBug","windowObj","explicitlySupportsCssVars","weAreFeatureDetectingSafari10plus","CSS","supports","supportsFunctionPresent","hasPseudoVarBug","node","computedStyle","borderTopStyle","getComputedStyle","createElement","MDCRippleAdapter","dispatchEvent","initCustomEvent","shouldBubble","evtData","createEvent","bubbles","detail","CustomEvent","Error","initialSyncWithDOM","init","foundation","getDefaultFoundation","initialize","nativeMatches","webkitMatchesSelector","msMatchesSelector","el","join","SURFACE_SELECTOR","tops","size","offsetTop","els","Set","areTopsMisaligned","scrollHeight","offsetHeight","isScrollable","clickOutsideDeactivates","escapeDeactivates","initialFocus","surfaceEl","createFocusTrapInstance","focusTrap","fn","delay","isTabEvent","isEscapeEvent","tagName","toLowerCase","select","isSelectableInput","mostRecentlyFocusedNode","focus","tryFocus","getInitialFocusNode","doc","activeElement","lastTabbableNode","tabbableNodes","firstTabbableNode","tabbable","container","updateTabbableNodes","stopImmediatePropagation","preventDefault","config","checkClick","shiftKey","checkTab","checkKey","Document","checkFocusIn","returnFocus","isFocusable","checkPointerDown","getNodeForOption","optionName","optionValue","trap","active","removeListeners","activeFocusTraps","activateTrap","addListeners","paused","unpause","pause","nodeFocusedBeforeActivation","deactivateOptions","returnFocusOnDeactivate","onDeactivate","deactivateTrap","onActivate","activateOptions","userOptions","xtend","trapQueue","splice","trapIndex","activeTrap","source","hasOwnProperty","arguments","extend","visibility","hasDisplayNone","defaultView","UntouchabilityChecker","isUntouchable","result","cache","parentNode","nodeComputedStyle","display","cached","item","find","nodeType","Node","ELEMENT_NODE","elementDocument","checked","getCheckedRadio","radioSet","ownerDocument","name","isTabbableRadio","nodes","isRadio","isNonTabbableRadio","isInput","isHiddenInput","contentEditable","isContentEditable","predicate","list","a","tabIndex","b","documentOrder","sortOrderedTabbables","isNaN","tabindexAttr","parseInt","getTabindex","isNodeMatchingSelectorFocusable","untouchabilityChecker","focusableCandidateSelector","candidateSelectors","concat","isNodeMatchingSelectorTabbable","candidateSelector","isTabbable","regularTabbables","orderedTabbables","sort","map","candidate","candidateTabindex","candidates","unshift","Array","apply","options","includeContainer","Element"],"mappings":";;;;;;;;;;;;;;;;;AsBAA,IAAI6c,kBAAkB,GAAG,CACvB,OADuB,EAEvB,QAFuB,EAGvB,UAHuB,EAIvB,SAJuB,EAKvB,QALuB,EAMvB,YANuB,EAOvB,iBAPuB,EAQvB,iBARuB,EASvB,kDATuB,CAAzB;AAWA,IAAIG,iBAAiB,GAAGH,kBAAkB,CAAC1H,IAAnB,CAAwB,GAAxB,CAAxB;AAEA,IAAIhV,OAAO,GAAG,OAAO2d,OAAP,KAAmB,WAAnB,GACV,YAAY,EADF,GAEVA,OAAO,CAACrU,SAAR,CAAkBtJ,OAAlB,IAA6B2d,OAAO,CAACrU,SAAR,CAAkBwL,iBAA/C,IAAoE6I,OAAO,CAACrU,SAAR,CAAkBuL,qBAF1F;;AAIA,SAASqC,QAAT,CAAkBnC,EAAlB,EAAsB0I,OAAtB,EAA+B;EAC7BA,OAAO,GAAGA,OAAO,IAAI,EAArB;MAEI3C,eAAe,GAAG/F,EAAE,CAACmG,aAAH,IAAoBnG,EAA1C;MACIgI,gBAAgB,GAAG,EAAvB;MACIC,gBAAgB,GAAG,EAAvB;MAEIR,qBAAqB,GAAG,IAAIvC,qBAAJ,CAA0Ba,eAA1B,CAA5B;MACIuC,UAAU,GAAGtI,EAAE,CAAC3O,gBAAH,CAAoByW,iBAApB,CAAjB;;MAEIY,OAAO,CAACC,gBAAZ,EAA8B;QACxB1d,OAAO,CAACmG,IAAR,CAAa4O,EAAb,EAAiB8H,iBAAjB,CAAJ,EAAyC;MACvCQ,UAAU,GAAGE,KAAK,CAACjU,SAAN,CAAgBpD,KAAhB,CAAsBsX,KAAtB,CAA4BH,UAA5B,CAAb;MACAA,UAAU,CAACC,OAAX,CAAmBvI,EAAnB;;;;MAIAlP,CAAJ,EAAOsX,SAAP,EAAkBC,iBAAlB;;OACKvX,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGwX,UAAU,CAAClN,MAA3B,EAAmCtK,CAAC,EAApC,EAAwC;IACtCsX,SAAS,GAAGE,UAAU,CAACxX,CAAD,CAAtB;QAEI,CAAC+W,8BAA8B,CAACO,SAAD,EAAYX,qBAAZ,CAAnC,EAAuE;IAEvEY,iBAAiB,GAAGd,WAAW,CAACa,SAAD,CAA/B;;QACIC,iBAAiB,KAAK,CAA1B,EAA6B;MAC3BL,gBAAgB,CAACrX,IAAjB,CAAsByX,SAAtB;KADF,MAEO;MACLH,gBAAgB,CAACtX,IAAjB,CAAsB;QACpBuW,aAAa,EAAEpW,CADK;QAEpBkW,QAAQ,EAAEqB,iBAFU;QAGpB5J,IAAI,EAAE2J;OAHR;;;;MAQAnG,aAAa,GAAGgG,gBAAgB,CACjCC,IADiB,CACZf,oBADY,EAEjBgB,GAFiB,CAEb,UAASpB,CAAT,EAAY;WAASA,CAAC,CAACtI,IAAT;GAFD,EAGjBmJ,MAHiB,CAGVI,gBAHU,CAApB;SAKO/F,aAAP;;;AAGFE,QAAQ,CAAC4F,UAAT,GAAsBA,UAAtB;AACA5F,QAAQ,CAACa,WAAT,GAAuBA,WAAvB;;AAEA,SAAS6E,8BAAT,CAAwCpJ,IAAxC,EAA8CgJ,qBAA9C,EAAqE;MAEjE,CAACD,+BAA+B,CAAC/I,IAAD,EAAOgJ,qBAAP,CAAhC,IACGjB,kBAAkB,CAAC/H,IAAD,CADrB,IAEG8I,WAAW,CAAC9I,IAAD,CAAX,GAAoB,CAHzB,EAIE;WACO,KAAP;;;SAEK,IAAP;;;AAGF,SAASsJ,UAAT,CAAoBtJ,IAApB,EAA0BgJ,qBAA1B,EAAiD;MAC3C,CAAChJ,IAAL,EAAW,MAAM,IAAIc,KAAJ,CAAU,kBAAV,CAAN;MACPtU,OAAO,CAACmG,IAAR,CAAaqN,IAAb,EAAmBqJ,iBAAnB,MAA0C,KAA9C,EAAqD,OAAO,KAAP;SAC9CD,8BAA8B,CAACpJ,IAAD,EAAOgJ,qBAAP,CAArC;;;AAGF,SAASD,+BAAT,CAAyC/I,IAAzC,EAA+CgJ,qBAA/C,EAAsE;EACpEA,qBAAqB,GAAGA,qBAAqB,IAAI,IAAIvC,qBAAJ,CAA0BzG,IAAI,CAAC0H,aAAL,IAAsB1H,IAAhD,CAAjD;;MAEEA,IAAI,CAACjK,QAAL,IACGkS,aAAa,CAACjI,IAAD,CADhB,IAEGgJ,qBAAqB,CAACtC,aAAtB,CAAoC1G,IAApC,CAHL,EAIE;WACO,KAAP;;;SAEK,IAAP;;;AAGF,IAAIiJ,0BAA0B,GAAGC,kBAAkB,CAACC,MAAnB,CAA0B,QAA1B,EAAoC3H,IAApC,CAAyC,GAAzC,CAAjC;;AACA,SAAS+C,WAAT,CAAqBvE,IAArB,EAA2BgJ,qBAA3B,EAAkD;MAC5C,CAAChJ,IAAL,EAAW,MAAM,IAAIc,KAAJ,CAAU,kBAAV,CAAN;MACPtU,OAAO,CAACmG,IAAR,CAAaqN,IAAb,EAAmBiJ,0BAAnB,MAAmD,KAAvD,EAA8D,OAAO,KAAP;SACvDF,+BAA+B,CAAC/I,IAAD,EAAOgJ,qBAAP,CAAtC;;;AAGF,SAASF,WAAT,CAAqB9I,IAArB,EAA2B;MACrB4I,YAAY,GAAGC,QAAQ,CAAC7I,IAAI,CAACrR,YAAL,CAAkB,UAAlB,CAAD,EAAgC,EAAhC,CAA3B;MACI,CAACga,KAAK,CAACC,YAAD,CAAV,EAA0B,OAAOA,YAAP,CAFD;;;MAKrBT,iBAAiB,CAACnI,IAAD,CAArB,EAA6B,OAAO,CAAP;SACtBA,IAAI,CAACuI,QAAZ;;;AAGF,SAASG,oBAAT,CAA8BJ,CAA9B,EAAiCE,CAAjC,EAAoC;SAC3BF,CAAC,CAACC,QAAF,KAAeC,CAAC,CAACD,QAAjB,GAA4BD,CAAC,CAACG,aAAF,GAAkBD,CAAC,CAACC,aAAhD,GAAgEH,CAAC,CAACC,QAAF,GAAaC,CAAC,CAACD,QAAtF;;;;AAIF,SAASrB,IAAT,CAAcmB,IAAd,EAAoBD,SAApB,EAA+B;OACxB,IAAI/V,CAAC,GAAG,CAAR,EAAWsK,MAAM,GAAG0L,IAAI,CAAC1L,MAA9B,EAAsCtK,CAAC,GAAGsK,MAA1C,EAAkDtK,CAAC,EAAnD,EAAuD;QACjD+V,SAAS,CAACC,IAAI,CAAChW,CAAD,CAAL,CAAb,EAAwB,OAAOgW,IAAI,CAAChW,CAAD,CAAX;;;;AAI5B,SAAS8V,iBAAT,CAA2BnI,IAA3B,EAAiC;SACxBA,IAAI,CAACkI,eAAL,KAAyB,MAAhC;;;AAGF,SAASF,OAAT,CAAiBhI,IAAjB,EAAuB;SACdA,IAAI,CAAC6C,OAAL,KAAiB,OAAxB;;;AAGF,SAASoF,aAAT,CAAuBjI,IAAvB,EAA6B;SACpBgI,OAAO,CAAChI,IAAD,CAAP,IAAiBA,IAAI,CAACxO,IAAL,KAAc,QAAtC;;;AAGF,SAASsW,OAAT,CAAiB9H,IAAjB,EAAuB;SACdgI,OAAO,CAAChI,IAAD,CAAP,IAAiBA,IAAI,CAACxO,IAAL,KAAc,OAAtC;;;AAGF,SAASuW,kBAAT,CAA4B/H,IAA5B,EAAkC;SACzB8H,OAAO,CAAC9H,IAAD,CAAP,IAAiB,CAAC4H,eAAe,CAAC5H,IAAD,CAAxC;;;AAGF,SAASwH,eAAT,CAAyBK,KAAzB,EAAgC;OACzB,IAAIxV,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwV,KAAK,CAAClL,MAA1B,EAAkCtK,CAAC,EAAnC,EAAuC;QACjCwV,KAAK,CAACxV,CAAD,CAAL,CAASkV,OAAb,EAAsB;aACbM,KAAK,CAACxV,CAAD,CAAZ;;;;;AAKN,SAASuV,eAAT,CAAyB5H,IAAzB,EAA+B;MACzB,CAACA,IAAI,CAAC2H,IAAV,EAAgB,OAAO,IAAP,CADa;;;MAIzBF,QAAQ,GAAGzH,IAAI,CAAC0H,aAAL,CAAmB9U,gBAAnB,CAAoC,+BAA+BoN,IAAI,CAAC2H,IAApC,GAA2C,IAA/E,CAAf;MACIJ,OAAO,GAAGC,eAAe,CAACC,QAAD,CAA7B;SACO,CAACF,OAAD,IAAYA,OAAO,KAAKvH,IAA/B;;;;;AAKF,SAASyG,qBAAT,CAA+Ba,eAA/B,EAAgD;OACzCjE,GAAL,GAAWiE,eAAX,CAD8C;;;;OAKzCV,KAAL,GAAa,EAAb;;;;;AAKFH,qBAAqB,CAAC3Q,SAAtB,CAAgCyQ,cAAhC,GAAiD,SAASA,cAAT,CAAwBvG,IAAxB,EAA8B8G,iBAA9B,EAAiD;MAC5F9G,IAAI,CAACmH,QAAL,KAAkBC,IAAI,CAACC,YAA3B,EAAyC,OAAO,KAAP,CADuD;;MAI1FL,MAAM,GAAGE,IAAI,CAAC,KAAKN,KAAN,EAAa,UAASK,IAAT,EAAe;WACpCA,IAAI,KAAKjH,IAAhB;GADe,CAAjB;MAGIgH,MAAJ,EAAY,OAAOA,MAAM,CAAC,CAAD,CAAb;EAEZF,iBAAiB,GAAGA,iBAAiB,IAAI,KAAKzD,GAAL,CAASmD,WAAT,CAAqBrG,gBAArB,CAAsCH,IAAtC,CAAzC;MAEI2G,MAAM,GAAG,KAAb;;MAEIG,iBAAiB,CAACC,OAAlB,KAA8B,MAAlC,EAA0C;IACxCJ,MAAM,GAAG,IAAT;GADF,MAEO,IAAI3G,IAAI,CAAC6G,UAAT,EAAqB;IAC1BF,MAAM,GAAG,KAAKJ,cAAL,CAAoBvG,IAAI,CAAC6G,UAAzB,CAAT;;;OAGGD,KAAL,CAAW1U,IAAX,CAAgB,CAAC8N,IAAD,EAAO2G,MAAP,CAAhB;SAEOA,MAAP;CArBJ;;AAwBAF,qBAAqB,CAAC3Q,SAAtB,CAAgC4Q,aAAhC,GAAgD,SAASA,aAAT,CAAuB1G,IAAvB,EAA6B;MACvEA,IAAI,KAAK,KAAKqD,GAAL,CAASpM,eAAtB,EAAuC,OAAO,KAAP;MACnCgJ,aAAa,GAAG,KAAKoD,GAAL,CAASmD,WAAT,CAAqBrG,gBAArB,CAAsCH,IAAtC,CAApB;MACI,KAAKuG,cAAL,CAAoBvG,IAApB,EAA0BC,aAA1B,CAAJ,EAA8C,OAAO,IAAP;SACvCA,aAAa,CAACqG,UAAd,KAA6B,QAApC;CAJF;;AAOA,cAAc,GAAG5C,QAAjB;;ADvMA,aAAc,GAAG2C,MAAjB;AAEA,IAAIF,cAAc,GAAG3Q,MAAM,CAACM,SAAP,CAAiBqQ,cAAtC;;AAEA,SAASE,MAAT,GAAkB;MACVtX,MAAM,GAAG,EAAb;;OAEK,IAAIsD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+T,SAAS,CAACzJ,MAA9B,EAAsCtK,CAAC,EAAvC,EAA2C;QACnC6T,MAAM,GAAGE,SAAS,CAAC/T,CAAD,CAAtB;;SAEK,IAAI0B,GAAT,IAAgBmS,MAAhB,EAAwB;UAChBC,cAAc,CAACxT,IAAf,CAAoBuT,MAApB,EAA4BnS,GAA5B,CAAJ,EAAsC;QAClChF,MAAM,CAACgF,GAAD,CAAN,GAAcmS,MAAM,CAACnS,GAAD,CAApB;;;;;SAKLhF,MAAP;;;ADdJ,IAAIgW,gBAAgB,GAAI,YAAW;MAC7Be,SAAS,GAAG,EAAhB;SACO;IACLd,YAAY,EAAE,sBAASJ,IAAT,EAAe;UACvBkB,SAAS,CAACnJ,MAAV,GAAmB,CAAvB,EAA0B;YACpBsJ,UAAU,GAAGH,SAAS,CAACA,SAAS,CAACnJ,MAAV,GAAmB,CAApB,CAA1B;;YACIsJ,UAAU,KAAKrB,IAAnB,EAAyB;UACvBqB,UAAU,CAACb,KAAX;;;;UAIAY,SAAS,GAAGF,SAAS,CAAC9I,OAAV,CAAkB4H,IAAlB,CAAhB;;UACIoB,SAAS,KAAK,CAAC,CAAnB,EAAsB;QACpBF,SAAS,CAAC5T,IAAV,CAAe0S,IAAf;OADF,MAEO;;QAELkB,SAAS,CAACC,MAAV,CAAiBC,SAAjB,EAA4B,CAA5B;QACAF,SAAS,CAAC5T,IAAV,CAAe0S,IAAf;;KAfC;IAmBLa,cAAc,EAAE,wBAASb,IAAT,EAAe;UACzBoB,SAAS,GAAGF,SAAS,CAAC9I,OAAV,CAAkB4H,IAAlB,CAAhB;;UACIoB,SAAS,KAAK,CAAC,CAAnB,EAAsB;QACpBF,SAAS,CAACC,MAAV,CAAiBC,SAAjB,EAA4B,CAA5B;;;UAGEF,SAAS,CAACnJ,MAAV,GAAmB,CAAvB,EAA0B;QACxBmJ,SAAS,CAACA,SAAS,CAACnJ,MAAV,GAAmB,CAApB,CAAT,CAAgCwI,OAAhC;;;GA1BN;CAFqB,EAAvB;;AAkCA,SAAS3C,SAAT,CAAmB9T,OAAnB,EAA4BkX,WAA5B,EAAyC;MACnCvC,GAAG,GAAGzT,QAAV;MACI+T,SAAS,GACX,OAAOjV,OAAP,KAAmB,QAAnB,GAA8B2U,GAAG,CAAC7Q,aAAJ,CAAkB9D,OAAlB,CAA9B,GAA2DA,OAD7D;MAGIqV,MAAM,GAAG8B,SAAK,CAChB;IACEN,uBAAuB,EAAE,IAD3B;IAEEnD,iBAAiB,EAAE;GAHL,EAKhBwD,WALgB,CAAlB;MAQIrL,KAAK,GAAG;IACVkJ,iBAAiB,EAAE,IADT;IAEVF,gBAAgB,EAAE,IAFR;IAGV8B,2BAA2B,EAAE,IAHnB;IAIVpC,uBAAuB,EAAE,IAJf;IAKV4B,MAAM,EAAE,KALE;IAMVK,MAAM,EAAE;GANV;MASIN,IAAI,GAAG;IACTpV,QAAQ,EAAEA,QADD;IAETF,UAAU,EAAEA,UAFH;IAGT8V,KAAK,EAAEA,KAHE;IAITD,OAAO,EAAEA;GAJX;SAOOP,IAAP;;WAESpV,QAAT,CAAkBmW,eAAlB,EAAmC;QAC7BpL,KAAK,CAACsK,MAAV,EAAkB;IAElBjB,mBAAmB;IAEnBrJ,KAAK,CAACsK,MAAN,GAAe,IAAf;IACAtK,KAAK,CAAC2K,MAAN,GAAe,KAAf;IACA3K,KAAK,CAAC8K,2BAAN,GAAoChC,GAAG,CAACC,aAAxC;QAEIoC,UAAU,GACZC,eAAe,IAAIA,eAAe,CAACD,UAAnC,GACIC,eAAe,CAACD,UADpB,GAEI3B,MAAM,CAAC2B,UAHb;;QAIIA,UAAJ,EAAgB;MACdA,UAAU;;;IAGZT,YAAY;WACLL,IAAP;;;WAGOtV,UAAT,CAAoBgW,iBAApB,EAAuC;QACjC,CAAC/K,KAAK,CAACsK,MAAX,EAAmB;IAEnBC,eAAe;IACfvK,KAAK,CAACsK,MAAN,GAAe,KAAf;IACAtK,KAAK,CAAC2K,MAAN,GAAe,KAAf;IAEAH,gBAAgB,CAACU,cAAjB,CAAgCb,IAAhC;QAEIY,YAAY,GACdF,iBAAiB,IAAIA,iBAAiB,CAACE,YAAlB,KAAmC1N,SAAxD,GACIwN,iBAAiB,CAACE,YADtB,GAEIzB,MAAM,CAACyB,YAHb;;QAIIA,YAAJ,EAAkB;MAChBA,YAAY;;;QAGVlB,WAAW,GACbgB,iBAAiB,IAAIA,iBAAiB,CAAChB,WAAlB,KAAkCxM,SAAvD,GACIwN,iBAAiB,CAAChB,WADtB,GAEIP,MAAM,CAACwB,uBAHb;;QAIIjB,WAAJ,EAAiB;MACf5B,KAAK,CAAC,YAAW;QACfS,QAAQ,CAAC5I,KAAK,CAAC8K,2BAAP,CAAR;OADG,CAAL;;;WAKKT,IAAP;;;WAGOQ,KAAT,GAAiB;QACX7K,KAAK,CAAC2K,MAAN,IAAgB,CAAC3K,KAAK,CAACsK,MAA3B,EAAmC;IACnCtK,KAAK,CAAC2K,MAAN,GAAe,IAAf;IACAJ,eAAe;;;WAGRK,OAAT,GAAmB;QACb,CAAC5K,KAAK,CAAC2K,MAAP,IAAiB,CAAC3K,KAAK,CAACsK,MAA5B,EAAoC;IACpCtK,KAAK,CAAC2K,MAAN,GAAe,KAAf;IACAD,YAAY;;;WAGLA,YAAT,GAAwB;QAClB,CAAC1K,KAAK,CAACsK,MAAX,EAAmB,OADG;;IAItBE,gBAAgB,CAACC,YAAjB,CAA8BJ,IAA9B;IAEAhB,mBAAmB,GANG;;;IAUtBlB,KAAK,CAAC,YAAW;MACfS,QAAQ,CAACC,mBAAmB,EAApB,CAAR;KADG,CAAL;IAGAC,GAAG,CAAC1R,gBAAJ,CAAqB,SAArB,EAAgC0S,YAAhC,EAA8C,IAA9C;IACAhB,GAAG,CAAC1R,gBAAJ,CAAqB,WAArB,EAAkC6S,gBAAlC,EAAoD,IAApD;IACAnB,GAAG,CAAC1R,gBAAJ,CAAqB,YAArB,EAAmC6S,gBAAnC,EAAqD,IAArD;IACAnB,GAAG,CAAC1R,gBAAJ,CAAqB,OAArB,EAA8BqS,UAA9B,EAA0C,IAA1C;IACAX,GAAG,CAAC1R,gBAAJ,CAAqB,SAArB,EAAgCwS,QAAhC,EAA0C,IAA1C;WAEOS,IAAP;;;WAGOE,eAAT,GAA2B;QACrB,CAACvK,KAAK,CAACsK,MAAX,EAAmB;IAEnBxB,GAAG,CAAChS,mBAAJ,CAAwB,SAAxB,EAAmCgT,YAAnC,EAAiD,IAAjD;IACAhB,GAAG,CAAChS,mBAAJ,CAAwB,WAAxB,EAAqCmT,gBAArC,EAAuD,IAAvD;IACAnB,GAAG,CAAChS,mBAAJ,CAAwB,YAAxB,EAAsCmT,gBAAtC,EAAwD,IAAxD;IACAnB,GAAG,CAAChS,mBAAJ,CAAwB,OAAxB,EAAiC2S,UAAjC,EAA6C,IAA7C;IACAX,GAAG,CAAChS,mBAAJ,CAAwB,SAAxB,EAAmC8S,QAAnC,EAA6C,IAA7C;WAEOS,IAAP;;;WAGOH,gBAAT,CAA0BC,UAA1B,EAAsC;QAChCC,WAAW,GAAGZ,MAAM,CAACW,UAAD,CAAxB;QACI1E,IAAI,GAAG2E,WAAX;;QACI,CAACA,WAAL,EAAkB;aACT,IAAP;;;QAEE,OAAOA,WAAP,KAAuB,QAA3B,EAAqC;MACnC3E,IAAI,GAAGqD,GAAG,CAAC7Q,aAAJ,CAAkBmS,WAAlB,CAAP;;UACI,CAAC3E,IAAL,EAAW;cACH,IAAIc,KAAJ,CAAU,MAAM4D,UAAN,GAAmB,2BAA7B,CAAN;;;;QAGA,OAAOC,WAAP,KAAuB,UAA3B,EAAuC;MACrC3E,IAAI,GAAG2E,WAAW,EAAlB;;UACI,CAAC3E,IAAL,EAAW;cACH,IAAIc,KAAJ,CAAU,MAAM4D,UAAN,GAAmB,yBAA7B,CAAN;;;;WAGG1E,IAAP;;;WAGOoD,mBAAT,GAA+B;QACzBpD,IAAJ;;QACIyE,gBAAgB,CAAC,cAAD,CAAhB,KAAqC,IAAzC,EAA+C;MAC7CzE,IAAI,GAAGyE,gBAAgB,CAAC,cAAD,CAAvB;KADF,MAEO,IAAId,SAAS,CAACtT,QAAV,CAAmBgT,GAAG,CAACC,aAAvB,CAAJ,EAA2C;MAChDtD,IAAI,GAAGqD,GAAG,CAACC,aAAX;KADK,MAEA;MACLtD,IAAI,GAAGzF,KAAK,CAACkJ,iBAAN,IAA2BgB,gBAAgB,CAAC,eAAD,CAAlD;;;QAGE,CAACzE,IAAL,EAAW;YACH,IAAIc,KAAJ,CACJ,oEADI,CAAN;;;WAKKd,IAAP;GArKqC;;;;WA0K9BwE,gBAAT,CAA0BnI,CAA1B,EAA6B;QACvBsH,SAAS,CAACtT,QAAV,CAAmBgM,CAAC,CAACtN,MAArB,CAAJ,EAAkC;;QAC9BgV,MAAM,CAAC5B,uBAAX,EAAoC;MAClC7S,UAAU,CAAC;QACTgV,WAAW,EAAE,CAACZ,UAAQ,CAACa,WAAT,CAAqBlI,CAAC,CAACtN,MAAvB;OADN,CAAV;KADF,MAIO;MACLsN,CAAC,CAACyH,cAAF;;GAjLmC;;;WAsL9BO,YAAT,CAAsBhI,CAAtB,EAAyB;;QAEnBsH,SAAS,CAACtT,QAAV,CAAmBgM,CAAC,CAACtN,MAArB,KAAgCsN,CAAC,CAACtN,MAAF,YAAoBqV,QAAxD,EAAkE;;;;IAGlE/H,CAAC,CAACwH,wBAAF;IACAV,QAAQ,CAAC5I,KAAK,CAAC0I,uBAAN,IAAiCG,mBAAmB,EAArD,CAAR;;;WAGOe,QAAT,CAAkB9H,CAAlB,EAAqB;QACf0H,MAAM,CAAC3B,iBAAP,KAA6B,KAA7B,IAAsCQ,aAAa,CAACvG,CAAD,CAAvD,EAA4D;MAC1DA,CAAC,CAACyH,cAAF;MACAxU,UAAU;;;;QAGRqT,UAAU,CAACtG,CAAD,CAAd,EAAmB;MACjB6H,QAAQ,CAAC7H,CAAD,CAAR;;;GAtMmC;;;;;;WA+M9B6H,QAAT,CAAkB7H,CAAlB,EAAqB;IACnBuH,mBAAmB;;QACfvH,CAAC,CAAC4H,QAAF,IAAc5H,CAAC,CAACtN,MAAF,KAAawL,KAAK,CAACkJ,iBAArC,EAAwD;MACtDpH,CAAC,CAACyH,cAAF;MACAX,QAAQ,CAAC5I,KAAK,CAACgJ,gBAAP,CAAR;;;;QAGE,CAAClH,CAAC,CAAC4H,QAAH,IAAe5H,CAAC,CAACtN,MAAF,KAAawL,KAAK,CAACgJ,gBAAtC,EAAwD;MACtDlH,CAAC,CAACyH,cAAF;MACAX,QAAQ,CAAC5I,KAAK,CAACkJ,iBAAP,CAAR;;;;;WAKKO,UAAT,CAAoB3H,CAApB,EAAuB;QACjB0H,MAAM,CAAC5B,uBAAX,EAAoC;QAChCwB,SAAS,CAACtT,QAAV,CAAmBgM,CAAC,CAACtN,MAArB,CAAJ,EAAkC;IAClCsN,CAAC,CAACyH,cAAF;IACAzH,CAAC,CAACwH,wBAAF;;;WAGOD,mBAAT,GAA+B;QACzBJ,aAAa,GAAGE,UAAQ,CAACC,SAAD,CAA5B;IACApJ,KAAK,CAACkJ,iBAAN,GAA0BD,aAAa,CAAC,CAAD,CAAb,IAAoBJ,mBAAmB,EAAjE;IACA7I,KAAK,CAACgJ,gBAAN,GACEC,aAAa,CAACA,aAAa,CAAC7G,MAAd,GAAuB,CAAxB,CAAb,IAA2CyG,mBAAmB,EADhE;;;WAIOD,QAAT,CAAkBnD,IAAlB,EAAwB;QAClBA,IAAI,KAAKqD,GAAG,CAACC,aAAjB,EAAgC;;QAC5B,CAACtD,IAAD,IAAS,CAACA,IAAI,CAACkD,KAAnB,EAA0B;MACxBC,QAAQ,CAACC,mBAAmB,EAApB,CAAR;;;;IAIFpD,IAAI,CAACkD,KAAL;IACA3I,KAAK,CAAC0I,uBAAN,GAAgCjD,IAAhC;;QACIgD,iBAAiB,CAAChD,IAAD,CAArB,EAA6B;MAC3BA,IAAI,CAAC+C,MAAL;;;;;AAKN,SAASC,iBAAT,CAA2BhD,IAA3B,EAAiC;SAE7BA,IAAI,CAAC6C,OAAL,IACA7C,IAAI,CAAC6C,OAAL,CAAaC,WAAb,OAA+B,OAD/B,IAEA,OAAO9C,IAAI,CAAC+C,MAAZ,KAAuB,UAHzB;;;AAOF,SAASH,aAAT,CAAuBvG,CAAvB,EAA0B;SACjBA,CAAC,CAACtI,GAAF,KAAU,QAAV,IAAsBsI,CAAC,CAACtI,GAAF,KAAU,KAAhC,IAAyCsI,CAAC,CAACrI,OAAF,KAAc,EAA9D;;;AAGF,SAAS2O,UAAT,CAAoBtG,CAApB,EAAuB;SACdA,CAAC,CAACtI,GAAF,KAAU,KAAV,IAAmBsI,CAAC,CAACrI,OAAF,KAAc,CAAxC;;;AAGF,SAAS0O,KAAT,CAAeD,EAAf,EAAmB;SACVtP,UAAU,CAACsP,EAAD,EAAK,CAAL,CAAjB;;;AAGF,eAAc,GAAGD,SAAjB;;;;;;ADtSA,IAAA,eAAA,kBAAA,YAAA;IAcE,SAAF,eAAA,CAAqB,UAAmC,EAAxD;QAAqB,IAArB,CAAA,UAA+B,GAAV,UAAU,CAAyB;QAF9C,IAAV,CAAA,OAAiB,GAAW,EAAE,CAAC;KAE8B;IAZ3D,MAAF,CAAA,cAAA,CACM,eADN,CAAA,SAAA,EAAA,QACY,EADZ;;;;QAAE,YAAF,EACyB,OAAO,IAAI,CAAC,OAAO,CAAC,EAAE;;;;;QAC7C,UAAW,MAAc,EAA3B;;;YAGI,IAAI,CAAC,MAAM,EAAE;gBAAE,OAAO;aAAE;YAExB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;YACtB,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,YAAY,CAAC,wBAAwB,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;SACpF;;;KARH,CAAA,CAA+C;;QAH/C,EAAA,IAAA,EAAC,SAAS,EAAV,IAAA,EAAA,CAAW,EAAE,QAAQ,EAAE,mBAAmB,EAAE,EAA5C,EAAA;;;;QATA,EAAA,IAAA,EAAE,UAAU,EAAZ;;;QAWA,MAAA,EAAA,CAAA,EAAA,IAAA,EAAG,KAAK,EAAR,IAAA,EAAA,CAAS,iBAAiB,EAA1B,EAAA,CAAA;;IAaA,OAAA,eAAC,CAAD;CAAC,EAAD,CAAA,CAAC;AAdD,AAgBA,IAAA,cAAA,kBAAA,YAAA;IAKE,SAAF,cAAA,CAAqB,UAAmC,EAAxD;QAAqB,IAArB,CAAA,UAA+B,GAAV,UAAU,CAAyB;KAAK;;QAL7D,EAAA,IAAA,EAAC,SAAS,EAAV,IAAA,EAAA,CAAW;oBACT,QAAQ,EAAE,kBAAkB;oBAC5B,IAAI,EAAE,EAAE,OAAO,EAAE,mBAAmB,EAAE;iBACvC,EAAD,EAAA;;;;QA7BA,EAAA,IAAA,EAAE,UAAU,EAAZ;;IAgCA,OAAA,cAAC,CAAD;CAAC,EAAD,CAAA,CAAC;AAFD,AAIA,IAAA,kBAAA,kBAAA,YAAA;IAKE,SAAF,kBAAA,CAAqB,UAAmC,EAAxD;QAAqB,IAArB,CAAA,UAA+B,GAAV,UAAU,CAAyB;KAAK;;QAL7D,EAAA,IAAA,EAAC,SAAS,EAAV,IAAA,EAAA,CAAW;oBACT,QAAQ,EAAE,4CAA4C;oBACtD,IAAI,EAAE,EAAE,OAAO,EAAE,uBAAuB,EAAE;iBAC3C,EAAD,EAAA;;;;QArCA,EAAA,IAAA,EAAE,UAAU,EAAZ;;IAwCA,OAAA,kBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;AAFD,AAIA,IAAA,gBAAA,kBAAA,YAAA;IAKE,SAAF,gBAAA,CAAqB,UAAmC,EAAxD;QAAqB,IAArB,CAAA,UAA+B,GAAV,UAAU,CAAyB;KAAK;;QAL7D,EAAA,IAAA,EAAC,SAAS,EAAV,IAAA,EAAA,CAAW;oBACT,QAAQ,EAAE,wCAAwC;oBAClD,IAAI,EAAE,EAAE,OAAO,EAAE,qBAAqB,EAAE;iBACzC,EAAD,EAAA;;;;QA7CA,EAAA,IAAA,EAAE,UAAU,EAAZ;;IAgDA,OAAA,gBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;AAFD,AAIA,IAAA,cAAA,kBAAA,YAAA;IAKE,SAAF,cAAA,CAAqB,UAAmC,EAAxD;QAAqB,IAArB,CAAA,UAA+B,GAAV,UAAU,CAAyB;KAAK;;QAL7D,EAAA,IAAA,EAAC,SAAS,EAAV,IAAA,EAAA,CAAW;oBACT,QAAQ,EAAE,oCAAoC;oBAC9C,IAAI,EAAE,EAAE,OAAO,EAAE,mBAAmB,EAAE;iBACvC,EAAD,EAAA;;;;QArDA,EAAA,IAAA,EAAE,UAAU,EAAZ;;IAwDA,OAAA,cAAC,CAAD;CAAC,EAAD,CAAA,CAAC;AAFD,AAIA,IAAA,gBAAA,kBAAA,YAAA;IAKE,SAAF,gBAAA,CAAqB,UAAmC,EAAxD;QAAqB,IAArB,CAAA,UAA+B,GAAV,UAAU,CAAyB;KAAK;;QAL7D,EAAA,IAAA,EAAC,SAAS,EAAV,IAAA,EAAA,CAAW;oBACT,QAAQ,EAAE,wCAAwC;oBAClD,IAAI,EAAE,EAAE,OAAO,EAAE,qBAAqB,EAAE;iBACzC,EAAD,EAAA;;;;QA7DA,EAAA,IAAA,EAAE,UAAU,EAAZ;;IAgEA,OAAA,gBAAC,CAAD;CAAC,EAAD,CAAA,CAAC;AAFD,AAIA,IAAA,gBAAA,kBAAA,YAAA;IAoBE,SAAF,gBAAA,CAAqB,UAAmC,EAAxD;QAAqB,IAArB,CAAA,UAA+B,GAAV,UAAU,CAAyB;QAF9C,IAAV,CAAA,QAAkB,GAAY,KAAK,CAAC;KAEyB;IAP3D,MAAF,CAAA,cAAA,CACM,gBADN,CAAA,SAAA,EAAA,SACa,EADb;;;;QAAE,YAAF,EAC2B,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAE;;;;;QAChD,UAAY,KAAc,EAA5B;YACI,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC;SAClC;;;KAHH,CAAA,CAAkD;;QAdlD,EAAA,IAAA,EAAC,SAAS,EAAV,IAAA,EAAA,CAAW,CAAX,QAAA,EAAA,wCAAA;oBACE,QAAQ,EAAE,2BAAZ;oBACE,QAAQ,EAAE,kBAAZ;oBACE,IAAF,EAAA;wBACA,OAAA,EAAA,qBAAA;wBACM,6BAAN,EAAA,SAAA;qBACA;oBACA,aAAA,EAAA,iBAAA,CAAiC,IAAjC;oBACA,eAAA,EAAA,uBAAA,CAAA,MAAA;iBACA,EAAA,EAAA;KACA,CAAA;;;;;IA5EA,gBAAA,CAAA,cAAA,GAAA;;;IA+EA,OAAA,gBAAA,CAAA;;AAQA,AADA,IAAc,eAAd,kBAAA,UAAA,MAAA,EAAA;;IAGA,SAAA,eAAA,GAAA;QAcA,IAAA,KAAA,GAAA,MAAA,KAAA,IAAA,IAAA,MAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA,IAAA,IAAA,CAAA;QAdA,KAAA,CAAA,QAAA,GAAA,KAAA,CAAA;QAAA,OAAA,KAAA,CAAA;KAoBA;;QACA,GAAA;;;;;;;;;;SAJA;QACA,UAAA,EAAA,IAAA;QACE,YAAF,EAAA,IAAA;;;QAHA,EAAA,IAAA,EAAA,SAAA,EAAA,IAAA,EAAA,CAAA,CAAA,QAAA,EAAA,mBAAA;;oBAhBA,IAAA,EAAA;wBACA,OAAA,EAAA,oBAAA;wBACA,oBAAA,EAAA,MAAA;wBACA,qCAAA,EAAA,SAAA;qBACA;oBACA,QAAA,EAAA,2BAAA;oBACA,SAAA,EAAA,CAAA,SAAA,CAAA;oBACA,aAAA,EAAA,iBAAA,CAAA,IAAA;oBACA,eAAA,EAAA,uBAAA,CAAA,MAAA;iBACA,EAAA,EAAA;KACA,CAAA;IACA,eAAA,CAAE,cAAF,GAAA;QACA,OAAA,EAAA,CAAA,EAAE,IAAF,EAAA,KAAA,EAAA,CAAA;KACA,CAAA;;;;;;;;AD1GA;;;;AAMA,IAAI,QAAQ,GAAG,CAAC,CAAhB;;;;;AAGA,AAAA,IAAA;;;;;IAgBE,SAAF,YAAA,CACY,WAAuB,EACxB,eAAgC,EAC9B,EAAuC,EAHpD;QAGa,IAAb,EAAA,KAAA,KAAA,CAAA,EAAa,EAAA,EAAb,GAAA,aAAA,GAAwC,QAAQ,EAAI,CAApD,EAAA;QAHE,IAAF,KAAA,GAAA,IAAA,CAgBG;QAfS,IAAZ,CAAA,WAAuB,GAAX,WAAW,CAAY;QACxB,IAAX,CAAA,eAA0B,GAAf,eAAe,CAAiB;QAC9B,IAAb,CAAA,EAAe,GAAF,EAAE,CAAqC;;;;QAdjC,IAAnB,CAAA,YAA+B,GAAG,IAAI,OAAO,EAAQ,CAAC;;;;QAGnC,IAAnB,CAAA,aAAgC,GAAG,IAAI,OAAO,EAAiB,CAAC;;;;QAG7C,IAAnB,CAAA,YAA+B,GAAG,IAAI,OAAO,EAAiB,CAAC;;QAW3D,eAAe,CAAC,GAAG,GAAG,EAAE,CAAC;QAEzB,WAAW,CAAC,WAAW,EAAE,CAAC,SAAS;;;QAAC,YAAxC;YACM,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;YACtC,KAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;YAC9B,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;YACrC,KAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;YAC7B,KAAI,CAAC,iBAAiB,sBAAG,IAAI,EAAC,CAAC;YAC/B,KAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;SAC5B,EAAC,CAAC;KACJ;;;;;;;;;;IAMD,YAAF,CAAA,SAAA,CAAA,KAAO;;;;;IAAL,UAAM,YAAgB,EAAxB;QACI,IAAI,CAAC,OAAO,GAAG,YAAY,CAAC;QAC5B,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;KAC5B,CAAH;;;;;;IAGE,YAAF,CAAA,SAAA,CAAA,MAAQ;;;;IAAN,YAAF;QACI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE;YAC7B,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;YACzB,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;SAC9B;KACF,CAAH;;;;;;IAGE,YAAF,CAAA,SAAA,CAAA,WAAa;;;;IAAX,YAAF;QACI,OAAO,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;KACzC,CAAH;;;;;;IAGE,YAAF,CAAA,SAAA,CAAA,YAAc;;;;IAAZ,YAAF;QACI,OAAO,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC;KAC1C,CAAH;;;;;;IAGE,YAAF,CAAA,SAAA,CAAA,WAAa;;;;IAAX,YAAF;QACI,OAAO,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;KACzC,CAAH;IACA,OAAA,YAAC,CAAD;CAAC,EAAD,CAAA;;AD1EA;;;;;;;;;;;;;;;;;;;;;;AAuBA,AAEA;;;;;;;AAMA,SAASD,uBAAT,CAAiCD,SAAjC,EAAuG;MAA3D/P,gBAA2D,uEAAxChG,WAAwC;MAAvB+F,cAAuB,uEAAN,IAAM;SAC9FC,gBAAgB,CAAC+P,SAAD,EAAY;IACjCD,YAAY,EAAE/P,cADmB;IAEjC8P,iBAAiB,EAAE,KAFc;;IAGjCD,uBAAuB,EAAE,IAHQ;;GAAZ,CAAvB;;;;;;;;AAWF,SAASD,YAAT,CAAsBX,EAAtB,EAA0B;SACjBA,EAAE,CAACS,YAAH,GAAkBT,EAAE,CAACU,YAA5B;;;;;;;;AAOF,SAASF,iBAAT,CAA2BF,GAA3B,EAAgC;MACxBH,IAAI,GAAG,IAAII,GAAJ,EAAb;KACG1T,OAAH,CAAWuE,IAAX,CAAgBkP,GAAhB,EAAqB,UAACN,EAAD;WAAQG,IAAI,CAACxR,GAAL,CAASqR,EAAE,CAACK,SAAZ,CAAR;GAArB;SACOF,IAAI,CAACC,IAAL,GAAY,CAAnB;;;ADtDF;;;;;;;;;;;;;;;;;;;;;;AAuBA,IAAMjO,UAAU,GAAG;EACjByB,IAAI,EAAE,kBADW;EAEjBvB,OAAO,EAAE,qBAFQ;EAGjBD,OAAO,EAAE,qBAHQ;EAIjBW,UAAU,EAAE,wBAJK;EAKjBE,OAAO,EAAE,qBALQ;EAMjBU,WAAW,EAAE;CANf;AASA,IAAM3H,OAAO,GAAG;EACd8G,cAAc,EAAE,oBADF;EAEdtB,kBAAkB,EAAE,wBAFN;EAGd0O,gBAAgB,EAAE,sBAHJ;EAId3O,gBAAgB,EAAE,sBAJJ;EAKdD,eAAe,EAAE,qBALH;EAMdJ,uBAAuB,EAAE,8BANX;EAOdyB,+BAA+B,EAAE,CAC/B,UAD+B,EAE/B,0BAF+B,EAG/BsN,IAH+B,CAG1B,IAH0B,CAPnB;EAYd1T,aAAa,EAAE,mBAZD;EAadF,YAAY,EAAE,kBAbA;EAcdF,aAAa,EAAE,mBAdD;EAedF,YAAY,EAAE,kBAfA;EAiBdoB,gBAAgB,EAAE,wBAjBJ;EAmBd2G,YAAY,EAAE,OAnBA;EAoBdD,cAAc,EAAE;CApBlB;AAuBA,IAAMP,OAAO,GAAG;EACdK,6BAA6B,EAAE,GADjB;EAEdJ,8BAA8B,EAAE;CAFlC;;ADvDA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,SAASnG,OAAT,CAAiBH,OAAjB,EAA0BgB,QAA1B,EAAoC;MAC9BhB,OAAO,CAACG,OAAZ,EAAqB;WACZH,OAAO,CAACG,OAAR,CAAgBa,QAAhB,CAAP;;;MAGE6R,EAAE,GAAG7S,OAAT;;SACO6S,EAAP,EAAW;QACL/U,SAAO,CAAC+U,EAAD,EAAK7R,QAAL,CAAX,EAA2B;aAClB6R,EAAP;;;IAEFA,EAAE,GAAGA,EAAE,CAACtT,aAAR;;;SAEK,IAAP;;;;;;;;;AAQF,SAASzB,SAAT,CAAiBkC,OAAjB,EAA0BgB,QAA1B,EAAoC;MAC5B0R,aAAa,GAAG1S,OAAO,CAAClC,OAAR,IACjBkC,OAAO,CAAC2S,qBADS,IAEjB3S,OAAO,CAAC4S,iBAFb;SAGOF,aAAa,CAACzO,IAAd,CAAmBjE,OAAnB,EAA4BgB,QAA5B,CAAP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ADzDF;;;;;;;;;;;;;;;;;;;;;;;;;;IA0BMuD;;;;;;;wBAEoB;;;aAGf,EAAP;;;;;;wBAImB;;;aAGZ,EAAP;;;;;;wBAImB;;;aAGZ,EAAP;;;;;;wBAI0B;;;;aAInB,EAAP;;;;;;;;2BAMwB;QAAd0C,OAAc,uEAAJ,EAAI;;;;;SAEnBlC,QAAL,GAAgBkC,OAAhB;;;;;2BAGK;;;;8BAIG;;;;;;;AD3CZ;;;;IAGMlJ;;;;;;;;;;6BAKYE,MAAM;;;;;aAKb,IAAIF,YAAJ,CAAiBE,IAAjB,EAAuB,IAAIsG,aAAJ,EAAvB,CAAP;;;;;;;;;;wBAQUtG,IAAZ,EAAmD;QAAjCsU,UAAiC,uEAApBnJ,SAAoB;;;;;SAE5C1H,KAAL,GAAazD,IAAb;;sCAF2CqG,IAAM;MAANA,IAAM;;;SAG5CmO,UAAL,aAAmBnO,IAAnB,EAHiD;;;;;SAO5CpG,WAAL,GAAmBqU,UAAU,KAAKnJ,SAAf,GAA2B,KAAKoJ,oBAAL,EAA3B,GAAyDD,UAA5E;SACKrU,WAAL,CAAiBoU,IAAjB;SACKD,kBAAL;;;;;;;;;;;;;;;;;2CAYqB;;;YAGf,IAAID,KAAJ,CAAU,mFACd,kBADI,CAAN;;;;yCAImB;;;;;;;8BAOX;;;WAGHlU,WAAL,CAAiBkE,OAAjB;;;;;;;;;;;2BASKoG,SAASJ,SAAS;WAClB1G,KAAL,CAAWuB,gBAAX,CAA4BuF,OAA5B,EAAqCJ,OAArC;;;;;;;;;;;6BASOI,SAASJ,SAAS;WACpB1G,KAAL,CAAWiB,mBAAX,CAA+B6F,OAA/B,EAAwCJ,OAAxC;;;;;;;;;;;;yBAUGI,SAASuJ,SAA+B;UAAtBD,YAAsB,uEAAP,KAAO;UACvC1M,GAAJ;;UACI,OAAO+M,WAAP,KAAuB,UAA3B,EAAuC;QACrC/M,GAAG,GAAG,IAAI+M,WAAJ,CAAgB3J,OAAhB,EAAyB;UAC7B0J,MAAM,EAAEH,OADqB;UAE7BE,OAAO,EAAEH;SAFL,CAAN;OADF,MAKO;QACL1M,GAAG,GAAGlE,QAAQ,CAAC8Q,WAAT,CAAqB,aAArB,CAAN;QACA5M,GAAG,CAACyM,eAAJ,CAAoBrJ,OAApB,EAA6BsJ,YAA7B,EAA2C,KAA3C,EAAkDC,OAAlD;;;WAGGrQ,KAAL,CAAWkQ,aAAX,CAAyBxM,GAAzB;;;;;;;AD9HJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA8CMuM;;;;;;;;;;;6CAEqB;;;;;kCAGX;;;;;sCAGI;;;;;wCAGE;;;;;6BAGXrQ,WAAW;;;;;gCAGRA,WAAW;;;;;wCAGHjB,QAAQ;;;;;;;;+CAMDmI,SAASJ,SAAS;;;;;;;;iDAMhBI,SAASJ,SAAS;;;;;;;;uDAMZI,SAASJ,SAAS;;;;;;;;yDAMhBI,SAASJ,SAAS;;;;;;;0CAKjCA,SAAS;;;;;;;4CAKPA,SAAS;;;;;;;;sCAMfH,SAASC,OAAO;;;;;0CAGZ;;;;;0CAGA;;;;;;ADhHxB;;;;;;;;;;;;;;;;;;;;;;AAuBA,IAAMlD,YAAU,GAAG;;;;EAIjBkK,IAAI,EAAE,qBAJW;EAKjBrF,SAAS,EAAE,gCALM;EAMjBD,UAAU,EAAE,yCANK;EAOjB6C,aAAa,EAAE,4CAPE;EAQjBE,eAAe,EAAE;CARnB;AAWA,IAAM9N,SAAO,GAAG;EACdoL,QAAQ,EAAE,mBADI;EAEdH,OAAO,EAAE,kBAFK;EAGda,WAAW,EAAE,sBAHC;EAIdF,YAAY,EAAE,uBAJA;EAKd8C,sBAAsB,EAAE,iCALV;EAMdF,oBAAoB,EAAE;CANxB;AASA,IAAMhH,SAAO,GAAG;EACd8E,OAAO,EAAE,EADK;EAEdH,oBAAoB,EAAE,GAFR;EAGdkC,uBAAuB,EAAE,GAHX;;EAIdR,kBAAkB,EAAE,GAJN;;EAKdN,YAAY,EAAE,GALA;;CAAhB;;AD3CA;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,IAAIyE,qBAAJ;;;;;;AAMA,IAAIN,gBAAJ;;;;;;AAMA,SAASO,sBAAT,CAAgCC,SAAhC,EAA2C;;;MAGnC7P,QAAQ,GAAG6P,SAAS,CAAC7P,QAA3B;MACMoQ,IAAI,GAAGpQ,QAAQ,CAACwQ,aAAT,CAAuB,KAAvB,CAAb;EACAJ,IAAI,CAAChQ,SAAL,GAAiB,uCAAjB;EACAJ,QAAQ,CAACC,IAAT,CAAc3B,WAAd,CAA0B8R,IAA1B,EANyC;;;;;MAYnCC,aAAa,GAAGR,SAAS,CAACU,gBAAV,CAA2BH,IAA3B,CAAtB;MACMD,eAAe,GAAGE,aAAa,KAAK,IAAlB,IAA0BA,aAAa,CAACC,cAAd,KAAiC,OAAnF;EACAF,IAAI,CAACjQ,MAAL;SACOgQ,eAAP;;;;;;;;;AASF,SAAST,oBAAT,CAA8BG,SAA9B,EAA+D;MAAtBL,YAAsB,uEAAP,KAAO;MACzDE,oBAAoB,GAAGC,qBAA3B;;MACI,OAAOA,qBAAP,KAAiC,SAAjC,IAA8C,CAACH,YAAnD,EAAiE;WACxDE,oBAAP;;;MAGIQ,uBAAuB,GAAGL,SAAS,CAACG,GAAV,IAAiB,OAAOH,SAAS,CAACG,GAAV,CAAcC,QAArB,KAAkC,UAAnF;;MACI,CAACC,uBAAL,EAA8B;;;;MAIxBJ,yBAAyB,GAAGD,SAAS,CAACG,GAAV,CAAcC,QAAd,CAAuB,YAAvB,EAAqC,KAArC,CAAlC,CAX6D;;;MAcvDF,iCAAiC,GACrCF,SAAS,CAACG,GAAV,CAAcC,QAAd,CAAuB,mBAAvB,KACAJ,SAAS,CAACG,GAAV,CAAcC,QAAd,CAAuB,OAAvB,EAAgC,WAAhC,CAFF;;MAKIH,yBAAyB,IAAIC,iCAAjC,EAAoE;IAClEL,oBAAoB,GAAG,CAACE,sBAAsB,CAACC,SAAD,CAA9C;GADF,MAEO;IACLH,oBAAoB,GAAG,KAAvB;;;MAGE,CAACF,YAAL,EAAmB;IACjBG,qBAAqB,GAAGD,oBAAxB;;;SAEKA,oBAAP;;;;;;;;;;;AAUF,SAASD,YAAT,GAAgE;MAA1CF,SAA0C,uEAA9B5N,MAA8B;MAAtB6N,YAAsB,uEAAP,KAAO;;MAC1DH,gBAAgB,KAAKnH,SAArB,IAAkCsH,YAAtC,EAAoD;QAC9CF,WAAW,GAAG,KAAlB;;QACI;MACFC,SAAS,CAACvP,QAAV,CAAmB+B,gBAAnB,CAAoC,MAApC,EAA4C,IAA5C,EAAkD;YAAKqN,OAAJ,GAAc;UAC/DE,WAAW,GAAG,IAAd;iBACOA,WAAP;;;OAFF;KADF,CAKE,OAAO7C,CAAP,EAAU;;IAEZ4C,gBAAgB,GAAGC,WAAnB;;;SAGKD,gBAAgB;;;IACoBD,OAAO,EAAE;GAD7B,GAEnB,KAFJ;;;;;;;;AASF,SAASD,kBAAT,CAA4BF,oBAA5B,EAAkD;;;;;MAK1CC,cAAc,GAAG,CAAC,SAAD,EAAY,uBAAZ,EAAqC,mBAArC,CAAvB;MACIH,MAAM,GAAG,SAAb;;OACK,IAAItM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyM,cAAc,CAACnC,MAAnC,EAA2CtK,CAAC,EAA5C,EAAgD;QACxCuM,aAAa,GAAGE,cAAc,CAACzM,CAAD,CAApC;;QACIuM,aAAa,IAAIC,oBAArB,EAA2C;MACzCF,MAAM,GAAGC,aAAT;;;;;SAKGD,MAAP;;;;;;;;;;AASF,SAAShD,wBAAT,CAAkCwC,EAAlC,EAAsCO,UAAtC,EAAkDD,UAAlD,EAA8D;MACrDtI,CADqD,GAC7CuI,UAD6C,CACrDvI,CADqD;MAClDF,CADkD,GAC7CyI,UAD6C,CAClDzI,CADkD;MAEtDsI,SAAS,GAAGpI,CAAC,GAAGsI,UAAU,CAAC7F,IAAjC;MACMyF,SAAS,GAAGpI,CAAC,GAAGwI,UAAU,CAAC/F,GAAjC;MAEIwF,WAAJ;MACID,WAAJ,CAN4D;;MAQxDE,EAAE,CAAC3M,IAAH,KAAY,YAAhB,EAA8B;IAC5B2M,EAAE;;IAA+BA,EAAjC;IACAD,WAAW,GAAGC,EAAE,CAACK,cAAH,CAAkB,CAAlB,EAAqBF,KAArB,GAA6BC,SAA3C;IACAN,WAAW,GAAGE,EAAE,CAACK,cAAH,CAAkB,CAAlB,EAAqBJ,KAArB,GAA6BC,SAA3C;GAHF,MAIO;IACLF,EAAE;;IAA+BA,EAAjC;IACAD,WAAW,GAAGC,EAAE,CAACG,KAAH,GAAWC,SAAzB;IACAN,WAAW,GAAGE,EAAE,CAACC,KAAH,GAAWC,SAAzB;;;SAGK;IAAClI,CAAC,EAAE+H,WAAJ;IAAiBjI,CAAC,EAAEgI;GAA3B;;;ADhGF,IAAMT,sBAAsB,GAAG,CAAC,YAAD,EAAe,aAAf,EAA8B,WAA9B,EAA2C,SAA3C,CAA/B;;AAGA,IAAML,gCAAgC,GAAG,CAAC,UAAD,EAAa,WAAb,EAA0B,SAA1B,EAAqC,aAArC,CAAzC;;;;AAIA,IAAIX,gBAAgB,GAAG,EAAvB;;;;;IAKMrE;;;;;;;wBACoB;aACfzE,YAAP;;;;wBAGmB;aACZnG,SAAP;;;;wBAGmB;aACZwH,SAAP;;;;wBAG0B;aACnB;QACL6C,sBAAsB,EAAE;;UADnB;QAELD,WAAW,EAAE;;UAFR;QAGLD,eAAe,EAAE;;UAHZ;QAILF,iBAAiB,EAAE;;UAJd;QAKLhH,QAAQ,EAAE;;UALL;QAMLD,WAAW,EAAE;;UANR;QAOLgH,mBAAmB,EAAE;;UAPhB;QAQLD,0BAA0B,EAAE;;UARvB;QASLD,4BAA4B,EAAE;;UATzB;QAULD,kCAAkC,EAAE;;UAV/B;QAWLD,oCAAoC,EAAE;;UAXjC;QAYLH,qBAAqB,EAAE;;UAZlB;QAaLD,uBAAuB,EAAE;;UAbpB;QAcLF,iBAAiB,EAAE;;UAdd;QAeLL,mBAAmB,EAAE;;UAfhB;QAgBLH,mBAAmB,EAAE;;;OAhBvB;;;;+BAoBUV,OAAZ,EAAqB;;;;;6FACbH,MAAM,CAACC,MAAP,CAAc0C,mBAAmB,CAACzC,cAAlC,EAAkDC,OAAlD,CAAN;;;UAGKf,YAAL,GAAoB,CAApB;;;UAGKmE,MAAL;;;MAA2CG,KAAK,EAAE,CAAR;MAAWF,MAAM,EAAE;KAA7D;;;UAGKwB,gBAAL,GAAwB,MAAKQ,uBAAL,EAAxB;;;UAGK/B,YAAL,GAAoB,CAApB;;;UAGKM,UAAL,GAAkB,CAAlB;;;UAGKgE,gBAAL,GAAwB,UAAClB,CAAD;aAAO,MAAKD,SAAL,CAAeC,CAAf,CAAP;KAAxB;;;;UAGKa,kBAAL,GAA0B;aAAM,MAAK9C,WAAL,EAAN;KAA1B;;;;UAGKkD,aAAL,GAAqB;aAAM,MAAKU,WAAL,EAAN;KAArB;;;;UAGKX,YAAL,GAAoB;aAAM,MAAKU,UAAL,EAAN;KAApB;;;;UAGKX,cAAL,GAAsB;aAAM,MAAKxM,MAAL,EAAN;KAAtB;;;;UAGK6H,gBAAL,GAAwB;MACtBG,IAAI,EAAE,CADgB;MAEtBF,GAAG,EAAE;KAFP;;;UAMKU,QAAL,GAAgB,CAAhB;;;UAGK0C,gBAAL,GAAwB,CAAxB;;;UAGKR,2BAAL,GAAmC,CAAnC;;;UAGKJ,4BAAL,GAAoC,KAApC;;;UAGKW,wBAAL,GAAgC,YAAM;YAC/BX,4BAAL,GAAoC,IAApC;;YACKjB,8BAAL;KAFF;;;;UAMKc,wBAAL;;;;;;;;;;;;;;;2CAWqB;aACd,KAAKtH,QAAL,CAAcmE,sBAAd,EAAP;;;;;;;;8CAMwB;aACjB;QACLiD,WAAW,EAAE,KADR;QAELJ,oBAAoB,EAAE,KAFjB;QAGLP,qBAAqB,EAAE,KAHlB;QAILC,oBAAoB,EAAE,KAJjB;QAKLc,eAAe,EAAEnD,SALZ;QAML8C,cAAc,EAAE;OANlB;;;;;;2BAWK;;;UACC6C,mBAAmB,GAAG,KAAKI,oBAAL,EAA5B;WAEKC,qBAAL,CAA2BL,mBAA3B;;UAEIA,mBAAJ,EAAyB;oCACGtF,mBAAmB,CAACzE,UADvB;YAChBkK,IADgB,yBAChBA,IADgB;YACVrF,SADU,yBACVA,SADU;QAEvBhF,qBAAqB,CAAC,YAAM;UAC1B,MAAI,CAACE,QAAL,CAAcjD,QAAd,CAAuBoN,IAAvB;;cACI,MAAI,CAACnK,QAAL,CAAckE,WAAd,EAAJ,EAAiC;YAC/B,MAAI,CAAClE,QAAL,CAAcjD,QAAd,CAAuB+H,SAAvB,EAD+B;;;YAG/B,MAAI,CAAC1D,eAAL;;SALiB,CAArB;;;;;;;8BAYM;;;UACJ,KAAKgJ,oBAAL,EAAJ,EAAiC;YAC3B,KAAK/B,gBAAT,EAA2B;UACzBzI,YAAY,CAAC,KAAKyI,gBAAN,CAAZ;eACKA,gBAAL,GAAwB,CAAxB;eACKrI,QAAL,CAAclD,WAAd,CAA0B4H,mBAAmB,CAACzE,UAApB,CAA+ByH,aAAzD;;;YAGE,KAAKG,2BAAT,EAAsC;UACpCjI,YAAY,CAAC,KAAKiI,2BAAN,CAAZ;eACKA,2BAAL,GAAmC,CAAnC;eACK7H,QAAL,CAAclD,WAAd,CAA0B4H,mBAAmB,CAACzE,UAApB,CAA+B2H,eAAzD;;;qCAGwBlD,mBAAmB,CAACzE,UAbf;YAaxBkK,IAbwB,0BAaxBA,IAbwB;YAalBrF,SAbkB,0BAalBA,SAbkB;QAc/BhF,qBAAqB,CAAC,YAAM;UAC1B,MAAI,CAACE,QAAL,CAAclD,WAAd,CAA0BqN,IAA1B;;UACA,MAAI,CAACnK,QAAL,CAAclD,WAAd,CAA0BgI,SAA1B;;UACA,MAAI,CAACoF,cAAL;SAHmB,CAArB;;;WAOGD,uBAAL;WACKhD,+BAAL;;;;;;;;;0CAOoB+C,qBAAqB;;;UACrCA,mBAAJ,EAAyB;QACvBD,sBAAsB,CAACpP,OAAvB,CAA+B,UAACoD,IAAD,EAAU;UACvC,MAAI,CAACiC,QAAL,CAAc6D,0BAAd,CAAyC9F,IAAzC,EAA+C,MAAI,CAAC+L,gBAApD;SADF;;YAGI,KAAK9J,QAAL,CAAckE,WAAd,EAAJ,EAAiC;eAC1BlE,QAAL,CAAcuD,qBAAd,CAAoC,KAAKoG,cAAzC;;;;WAIC3J,QAAL,CAAc6D,0BAAd,CAAyC,OAAzC,EAAkD,KAAKgG,aAAvD;WACK7J,QAAL,CAAc6D,0BAAd,CAAyC,MAAzC,EAAiD,KAAK+F,YAAtD;;;;;;;;;kDAO4BhB,GAAG;;;UAC3BA,CAAC,CAAC7K,IAAF,KAAW,SAAf,EAA0B;aACnBiC,QAAL,CAAc6D,0BAAd,CAAyC,OAAzC,EAAkD,KAAK4F,kBAAvD;OADF,MAEO;QACLC,gCAAgC,CAAC/O,OAAjC,CAAyC,UAACoD,IAAD,EAAU;UACjD,MAAI,CAACiC,QAAL,CAAc2D,kCAAd,CAAiD5F,IAAjD,EAAuD,MAAI,CAAC0L,kBAA5D;SADF;;;;;;;8CAOsB;;;MACxBM,sBAAsB,CAACpP,OAAvB,CAA+B,UAACoD,IAAD,EAAU;QACvC,MAAI,CAACiC,QAAL,CAAc4D,4BAAd,CAA2C7F,IAA3C,EAAiD,MAAI,CAAC+L,gBAAtD;OADF;WAGK9J,QAAL,CAAc4D,4BAAd,CAA2C,OAA3C,EAAoD,KAAKiG,aAAzD;WACK7J,QAAL,CAAc4D,4BAAd,CAA2C,MAA3C,EAAmD,KAAKgG,YAAxD;;UAEI,KAAK5J,QAAL,CAAckE,WAAd,EAAJ,EAAiC;aAC1BlE,QAAL,CAAcsD,uBAAd,CAAsC,KAAKqG,cAA3C;;;;;;;sDAK8B;;;WAC3B3J,QAAL,CAAc4D,4BAAd,CAA2C,OAA3C,EAAoD,KAAK6F,kBAAzD;MACAC,gCAAgC,CAAC/O,OAAjC,CAAyC,UAACoD,IAAD,EAAU;QACjD,MAAI,CAACiC,QAAL,CAAc0D,oCAAd,CAAmD3F,IAAnD,EAAyD,MAAI,CAAC0L,kBAA9D;OADF;;;;;;qCAMe;;;UACR3P,OADQ,GACG4K,mBADH,CACR5K,OADQ;MAEfiI,MAAM,CAACyH,IAAP,CAAY1P,OAAZ,EAAqBa,OAArB,CAA6B,UAAC2O,CAAD,EAAO;YAC9BA,CAAC,CAACC,OAAF,CAAU,MAAV,MAAsB,CAA1B,EAA6B;UAC3B,MAAI,CAACvJ,QAAL,CAAcoD,iBAAd,CAAgCtJ,OAAO,CAACwP,CAAD,CAAvC,EAA4C,IAA5C;;OAFJ;;;;;;;;;8BAWQV,GAAG;;;UACP,KAAK5I,QAAL,CAAc+D,iBAAd,EAAJ,EAAuC;;;;UAIjCmD,eAAe,GAAG,KAAKH,gBAA7B;;UACIG,eAAe,CAACE,WAApB,EAAiC;;OANtB;;;UAWLiC,uBAAuB,GAAG,KAAK/B,wBAArC;UACM8B,iBAAiB,GAAGC,uBAAuB,IAAIT,CAAC,KAAKvE,SAAjC,IAA8CgF,uBAAuB,CAACtL,IAAxB,KAAiC6K,CAAC,CAAC7K,IAA3G;;UACIqL,iBAAJ,EAAuB;;;;MAIvBlC,eAAe,CAACE,WAAhB,GAA8B,IAA9B;MACAF,eAAe,CAACC,cAAhB,GAAiCyB,CAAC,KAAKvE,SAAvC;MACA6C,eAAe,CAACM,eAAhB,GAAkCoB,CAAlC;MACA1B,eAAe,CAACT,qBAAhB,GAAwCS,eAAe,CAACC,cAAhB,GAAiC,KAAjC,GAAyCyB,CAAC,KAAKvE,SAAN,KAC/EuE,CAAC,CAAC7K,IAAF,KAAW,WAAX,IAA0B6K,CAAC,CAAC7K,IAAF,KAAW,YAArC,IAAqD6K,CAAC,CAAC7K,IAAF,KAAW,aADe,CAAjF;UAIMkL,iBAAiB,GAAGL,CAAC,KAAKvE,SAAN,IAAmB0E,gBAAgB,CAACG,MAAjB,GAA0B,CAA7C,IAAkDH,gBAAgB,CAACI,IAAjB,CAC1E,UAAC7N,MAAD;eAAY,MAAI,CAAC0E,QAAL,CAAc8D,mBAAd,CAAkCxI,MAAlC,CAAZ;OAD0E,CAA5E;;UAEI2N,iBAAJ,EAAuB;;aAEhBrC,qBAAL;;;;UAIEgC,CAAC,KAAKvE,SAAV,EAAqB;QACnB0E,gBAAgB,CAACtK,IAAjB;;QAAmDmK,CAAC,CAACtN,MAArD;aACK0N,6BAAL,CAAmCJ,CAAnC;;;MAGF1B,eAAe,CAACR,oBAAhB,GAAuC,KAAKoC,uBAAL,CAA6BF,CAA7B,CAAvC;;UACI1B,eAAe,CAACR,oBAApB,EAA0C;aACnCmC,kBAAL;;;MAGF/I,qBAAqB,CAAC,YAAM;;QAE1BiJ,gBAAgB,GAAG,EAAnB;;YAEI,CAAC7B,eAAe,CAACR,oBAAjB,IAAyCkC,CAAC,KAAKvE,SAA/C,KAA6DuE,CAAC,CAACtI,GAAF,KAAU,GAAV,IAAiBsI,CAAC,CAACrI,OAAF,KAAc,EAA5F,CAAJ,EAAqG;;;;;;;UAOnG2G,eAAe,CAACR,oBAAhB,GAAuC,MAAI,CAACoC,uBAAL,CAA6BF,CAA7B,CAAvC;;cACI1B,eAAe,CAACR,oBAApB,EAA0C;YACxC,MAAI,CAACmC,kBAAL;;;;YAIA,CAAC3B,eAAe,CAACR,oBAArB,EAA2C;;UAEzC,MAAI,CAACK,gBAAL,GAAwB,MAAI,CAACQ,uBAAL,EAAxB;;OAnBiB,CAArB;;;;;;;;;4CA4BsBqB,GAAG;aACjBA,CAAC,KAAKvE,SAAN,IAAmBuE,CAAC,CAAC7K,IAAF,KAAW,SAA/B,GAA4C,KAAKiC,QAAL,CAAciE,eAAd,EAA5C,GAA8E,IAArF;;;;;;;;6BAMO5I,OAAO;WACTsN,SAAL,CAAetN,KAAf;;;;;;yCAImB;;;mCACoCqJ,mBAAmB,CAAC5K,OADxD;UACZ0O,sBADY,0BACZA,sBADY;UACYF,oBADZ,0BACYA,oBADZ;mCAEsB5D,mBAAmB,CAACzE,UAF1C;UAEZ2H,eAFY,0BAEZA,eAFY;UAEKF,aAFL,0BAEKA,aAFL;UAGZS,uBAHY,GAGezD,mBAAmB,CAACpD,OAHnC,CAGZ6G,uBAHY;WAKd/G,eAAL;UAEIqH,cAAc,GAAG,EAArB;UACIF,YAAY,GAAG,EAAnB;;UAEI,CAAC,KAAKvI,QAAL,CAAckE,WAAd,EAAL,EAAkC;oCACD,KAAKwE,4BAAL,EADC;YACzBT,UADyB,yBACzBA,UADyB;YACbD,QADa,yBACbA,QADa;;QAEhCS,cAAc,aAAMR,UAAU,CAACvF,CAAjB,iBAAyBuF,UAAU,CAACzF,CAApC,OAAd;QACA+F,YAAY,aAAMP,QAAQ,CAACtF,CAAf,iBAAuBsF,QAAQ,CAACxF,CAAhC,OAAZ;;;WAGGxC,QAAL,CAAcoD,iBAAd,CAAgCoF,sBAAhC,EAAwDC,cAAxD;WACKzI,QAAL,CAAcoD,iBAAd,CAAgCkF,oBAAhC,EAAsDC,YAAtD,EAjBmB;;MAmBnB3I,YAAY,CAAC,KAAKyI,gBAAN,CAAZ;MACAzI,YAAY,CAAC,KAAKiI,2BAAN,CAAZ;WACKC,2BAAL;WACK9H,QAAL,CAAclD,WAAd,CAA0B8K,eAA1B,EAtBmB;;WAyBd5H,QAAL,CAAc+C,mBAAd;WACK/C,QAAL,CAAcjD,QAAd,CAAuB2K,aAAvB;WACKW,gBAAL,GAAwB3I,UAAU,CAAC;eAAM,OAAI,CAAC0I,wBAAL,EAAN;OAAD,EAAwCD,uBAAxC,CAAlC;;;;;;;;;mDAO6B;kCACoB,KAAKpB,gBADzB;UACtBS,eADsB,yBACtBA,eADsB;UACLf,qBADK,yBACLA,qBADK;UAGzBwB,UAAJ;;UACIxB,qBAAJ,EAA2B;QACzBwB,UAAU,GAAGC,wBAAwB;;QACZV,eADY,EAEnC,KAAKxH,QAAL,CAAc4C,mBAAd,EAFmC,EAEE,KAAK5C,QAAL,CAAc+C,mBAAd,EAFF,CAArC;OADF,MAKO;QACLkF,UAAU,GAAG;UACXvF,CAAC,EAAE,KAAK4C,MAAL,CAAYG,KAAZ,GAAoB,CADZ;UAEXjD,CAAC,EAAE,KAAK8C,MAAL,CAAYC,MAAZ,GAAqB;SAF1B;OAV2B;;;MAgB7B0C,UAAU,GAAG;QACXvF,CAAC,EAAEuF,UAAU,CAACvF,CAAX,GAAgB,KAAK8C,YAAL,GAAoB,CAD5B;QAEXhD,CAAC,EAAEyF,UAAU,CAACzF,CAAX,GAAgB,KAAKgD,YAAL,GAAoB;OAFzC;UAKMwC,QAAQ,GAAG;QACftF,CAAC,EAAG,KAAK4C,MAAL,CAAYG,KAAZ,GAAoB,CAArB,GAA2B,KAAKD,YAAL,GAAoB,CADnC;QAEfhD,CAAC,EAAG,KAAK8C,MAAL,CAAYC,MAAZ,GAAqB,CAAtB,GAA4B,KAAKC,YAAL,GAAoB;OAFrD;aAKO;QAACyC,UAAU,EAAVA,UAAD;QAAaD,QAAQ,EAARA;OAApB;;;;;;qDAI+B;;;;;UAGxBJ,eAHwB,GAGLlD,mBAAmB,CAACzE,UAHf,CAGxB2H,eAHwB;mCAIa,KAAKb,gBAJlB;UAIxBC,oBAJwB,0BAIxBA,oBAJwB;UAIFI,WAJE,0BAIFA,WAJE;UAKzBW,kBAAkB,GAAGf,oBAAoB,IAAI,CAACI,WAApD;;UAEIW,kBAAkB,IAAI,KAAKN,4BAA/B,EAA6D;aACtDK,2BAAL;aACK9H,QAAL,CAAcjD,QAAd,CAAuB6K,eAAvB;aACKC,2BAAL,GAAmCnI,UAAU,CAAC,YAAM;UAClD,OAAI,CAACM,QAAL,CAAclD,WAAd,CAA0B8K,eAA1B;SAD2C,EAE1CtG,SAAO,CAACqG,kBAFkC,CAA7C;;;;;;;kDAO0B;UACrBD,aADqB,GACJhD,mBAAmB,CAACzE,UADhB,CACrByH,aADqB;WAEvB1H,QAAL,CAAclD,WAAd,CAA0B4K,aAA1B;WACKD,4BAAL,GAAoC,KAApC;WACKzH,QAAL,CAAc+C,mBAAd;;;;4CAGsB;;;WACjBuE,wBAAL,GAAgC,KAAKP,gBAAL,CAAsBS,eAAtD;WACKT,gBAAL,GAAwB,KAAKQ,uBAAL,EAAxB,CAFsB;;;MAKtB7H,UAAU,CAAC;eAAM,OAAI,CAAC4H,wBAAL,GAAgCjD,SAAtC;OAAD,EAAkDK,mBAAmB,CAACpD,OAApB,CAA4B+F,YAA9E,CAAV;;;;;;;;kCAMY;;;UACNH,eAAe,GAAG,KAAKH,gBAA7B,CADY;;UAGR,CAACG,eAAe,CAACE,WAArB,EAAkC;;;;UAI5BN,KAAK;;MAAwC/E,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBkF,eAAlB,CAAnD;;UAEIA,eAAe,CAACC,cAApB,EAAoC;QAClCrH,qBAAqB,CAAC;iBAAM,OAAI,CAAC+G,oBAAL,CAA0BC,KAA1B,CAAN;SAAD,CAArB;aACKF,qBAAL;OAFF,MAGO;aACAK,+BAAL;QACAnH,qBAAqB,CAAC,YAAM;UAC1B,OAAI,CAACiH,gBAAL,CAAsBC,oBAAtB,GAA6C,IAA7C;;UACA,OAAI,CAACH,oBAAL,CAA0BC,KAA1B;;UACA,OAAI,CAACF,qBAAL;SAHmB,CAArB;;;;;iCAQS;WACND,WAAL;;;;;;;;;+CAOkE;UAA9CF,qBAA8C,QAA9CA,qBAA8C;UAAvBC,oBAAuB,QAAvBA,oBAAuB;;UAC9DD,qBAAqB,IAAIC,oBAA7B,EAAmD;aAC5CF,8BAAL;;;;;6BAIK;;;UACH,KAAKrF,YAAT,EAAuB;QACrBpB,oBAAoB,CAAC,KAAKoB,YAAN,CAApB;;;WAEGA,YAAL,GAAoBrB,qBAAqB,CAAC,YAAM;QAC9C,OAAI,CAACsB,eAAL;;QACA,OAAI,CAACD,YAAL,GAAoB,CAApB;OAFuC,CAAzC;;;;;;sCAOgB;;;WACXmE,MAAL,GAAc,KAAKtF,QAAL,CAAc+C,mBAAd,EAAd;UACMiD,MAAM,GAAGZ,IAAI,CAACmB,GAAL,CAAS,KAAKjB,MAAL,CAAYC,MAArB,EAA6B,KAAKD,MAAL,CAAYG,KAAzC,CAAf,CAFgB;;;;;;;UAUVS,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;YACvBC,UAAU,GAAGf,IAAI,CAACiB,IAAL,CAAUjB,IAAI,CAACkB,GAAL,CAAS,OAAI,CAAChB,MAAL,CAAYG,KAArB,EAA4B,CAA5B,IAAiCL,IAAI,CAACkB,GAAL,CAAS,OAAI,CAAChB,MAAL,CAAYC,MAArB,EAA6B,CAA7B,CAA3C,CAAnB;eACOY,UAAU,GAAGzB,mBAAmB,CAACpD,OAApB,CAA4B8E,OAAhD;OAFF;;WAKKN,UAAL,GAAkB,KAAK9F,QAAL,CAAckE,WAAd,KAA8B8B,MAA9B,GAAuCE,gBAAgB,EAAzE,CAfgB;;WAkBXV,YAAL,GAAoBJ,IAAI,CAACW,KAAL,CAAWC,MAAM,GAAGtB,mBAAmB,CAACpD,OAApB,CAA4B2E,oBAAhD,CAApB;WACKN,QAAL,GAAgB,KAAKG,UAAL,GAAkB,KAAKN,YAAvC;WAEKK,oBAAL;;;;;;2CAIqB;mCAGjBnB,mBAAmB,CAAC5K,OAHH;UAEnB8L,WAFmB,0BAEnBA,WAFmB;UAENV,QAFM,0BAENA,QAFM;UAEIH,OAFJ,0BAEIA,OAFJ;UAEaW,YAFb,0BAEaA,YAFb;WAKhB1F,QAAL,CAAcoD,iBAAd,CAAgCwC,WAAhC,YAAgD,KAAKJ,YAArD;WACKxF,QAAL,CAAcoD,iBAAd,CAAgCsC,YAAhC,EAA8C,KAAKC,QAAnD;;UAEI,KAAK3F,QAAL,CAAckE,WAAd,EAAJ,EAAiC;aAC1Bc,gBAAL,GAAwB;UACtBG,IAAI,EAAEC,IAAI,CAACC,KAAL,CAAY,KAAKC,MAAL,CAAYG,KAAZ,GAAoB,CAArB,GAA2B,KAAKD,YAAL,GAAoB,CAA1D,CADgB;UAEtBP,GAAG,EAAEG,IAAI,CAACC,KAAL,CAAY,KAAKC,MAAL,CAAYC,MAAZ,GAAqB,CAAtB,GAA4B,KAAKC,YAAL,GAAoB,CAA3D;SAFP;aAKKxF,QAAL,CAAcoD,iBAAd,CAAgC8B,QAAhC,YAA6C,KAAKF,gBAAL,CAAsBG,IAAnE;aACKnF,QAAL,CAAcoD,iBAAd,CAAgC2B,OAAhC,YAA4C,KAAKC,gBAAL,CAAsBC,GAAlE;;;;;;;iCAKS1C,WAAW;UACfuC,SADe,GACFJ,mBAAmB,CAACzE,UADlB,CACf6E,SADe;;UAElBvC,SAAJ,EAAe;aACRvC,QAAL,CAAcjD,QAAd,CAAuB+H,SAAvB;OADF,MAEO;aACA9E,QAAL,CAAclD,WAAd,CAA0BgI,SAA1B;;;;;kCAIU;;;MACZhF,qBAAqB,CAAC;eACpB,OAAI,CAACE,QAAL,CAAcjD,QAAd,CAAuB2H,mBAAmB,CAACzE,UAApB,CAA+B4E,UAAtD,CADoB;OAAD,CAArB;;;;iCAIW;;;MACX/E,qBAAqB,CAAC;eACpB,OAAI,CAACE,QAAL,CAAclD,WAAd,CAA0B4H,mBAAmB,CAACzE,UAApB,CAA+B4E,UAAzD,CADoB;OAAD,CAArB;;;;;EA1gB8BrF;;ADrDlC;;;;IAGMd;;;;;;uBAEiB;;;;;;;sCAANa,IAAM;MAANA,IAAM;;;wIACVA,IAAT;;;UAGK+C,QAAL,GAAgB,KAAhB;;;UAGKiC,UAAL;;;;;;;;;;;;;;;;;;;;oCAkEc;WACTpL,WAAL,CAAiByL,YAAjB,CAA8B,KAAKL,UAAnC;;;;+BAGS;WACJpL,WAAL,CAAiB4C,QAAjB;;;;iCAGW;WACN5C,WAAL,CAAiB0C,UAAjB;;;;6BAGO;WACF1C,WAAL,CAAiBgE,MAAjB;;;;;;;;;2CAOqB;aACd,IAAIuH,mBAAJ,CAAwBhG,SAAS,CAACiG,aAAV,CAAwB,IAAxB,CAAxB,CAAP;;;;;;yCAImB;WACdpC,SAAL,GAAiB,0BAA0B,KAAK5F,KAAL,CAAW8H,OAAtD;;;;;;wBA3Cc;aACP,KAAKF,UAAZ;;;;sBAIYhC,WAAW;WAClBgC,UAAL,GAAkBC,OAAO,CAACjC,SAAD,CAAzB;WACK+B,aAAL;;;;6BAhDcpL,MAAsC;qFAAJ,EAAI;kCAA/BgL,WAA+B;UAA/BA,WAA+B,iCAAjBG,SAAiB;;UAC9CjH,MAAM,GAAG,IAAIsB,SAAJ,CAAcxF,IAAd,CAAf,CADoD;;UAGhDgL,WAAW,KAAKG,SAApB,EAA+B;QAC7BjH,MAAM,CAACmF,SAAP;;QAA2C2B,WAA3C;;;aAEK9G,MAAP;;;;;;;;;kCAOmByF,UAAU;UACvBmB,OAAO,GAAGxI,kBAAA,CAAwB4I,WAAW,CAAC/B,SAApC,CAAhB;aAEO;QACL8B,sBAAsB,EAAE;iBAAM3I,oBAAA,CAA0BsC,MAA1B,CAAN;SADnB;QAELoG,WAAW,EAAE;iBAAMrB,QAAQ,CAACN,SAAf;SAFR;QAGL0B,eAAe,EAAE;iBAAMpB,QAAQ,CAAClG,KAAT,CAAeqH,OAAf,EAAwB,SAAxB,CAAN;SAHZ;QAILD,iBAAiB,EAAE;iBAAMlB,QAAQ,CAACP,QAAf;SAJd;QAKLvF,QAAQ,EAAE,kBAACR,SAAD;iBAAesG,QAAQ,CAAClG,KAAT,CAAeN,SAAf,CAAyBI,GAAzB,CAA6BF,SAA7B,CAAf;SALL;QAMLO,WAAW,EAAE,qBAACP,SAAD;iBAAesG,QAAQ,CAAClG,KAAT,CAAeN,SAAf,CAAyBC,MAAzB,CAAgCC,SAAhC,CAAf;SANR;QAOLuH,mBAAmB,EAAE,6BAACxI,MAAD;iBAAYuH,QAAQ,CAAClG,KAAT,CAAeC,QAAf,CAAwBtB,MAAxB,CAAZ;SAPhB;QAQLuI,0BAA0B,EAAE,oCAACJ,OAAD,EAAUJ,OAAV;iBAC1BR,QAAQ,CAAClG,KAAT,CAAeuB,gBAAf,CAAgCuF,OAAhC,EAAyCJ,OAAzC,EAAkD7H,YAAA,EAAlD,CAD0B;SARvB;QAULoI,4BAA4B,EAAE,sCAACH,OAAD,EAAUJ,OAAV;iBAC5BR,QAAQ,CAAClG,KAAT,CAAeiB,mBAAf,CAAmC6F,OAAnC,EAA4CJ,OAA5C,EAAqD7H,YAAA,EAArD,CAD4B;SAVzB;QAYLmI,kCAAkC,EAAE,4CAACF,OAAD,EAAUJ,OAAV;iBAClClH,QAAQ,CAACqH,eAAT,CAAyBtF,gBAAzB,CAA0CuF,OAA1C,EAAmDJ,OAAnD,EAA4D7H,YAAA,EAA5D,CADkC;SAZ/B;QAcLkI,oCAAoC,EAAE,8CAACD,OAAD,EAAUJ,OAAV;iBACpClH,QAAQ,CAACqH,eAAT,CAAyB5F,mBAAzB,CAA6C6F,OAA7C,EAAsDJ,OAAtD,EAA+D7H,YAAA,EAA/D,CADoC;SAdjC;QAgBL+H,qBAAqB,EAAE,+BAACF,OAAD;iBAAavF,MAAM,CAACI,gBAAP,CAAwB,QAAxB,EAAkCmF,OAAlC,CAAb;SAhBlB;QAiBLC,uBAAuB,EAAE,iCAACD,OAAD;iBAAavF,MAAM,CAACF,mBAAP,CAA2B,QAA3B,EAAqCyF,OAArC,CAAb;SAjBpB;QAkBLD,iBAAiB,EAAE,2BAACF,OAAD,EAAUC,KAAV;iBAAoBN,QAAQ,CAAClG,KAAT,CAAeqG,KAAf,CAAqBC,WAArB,CAAiCC,OAAjC,EAA0CC,KAA1C,CAApB;SAlBd;QAmBLJ,mBAAmB,EAAE;iBAAMF,QAAQ,CAAClG,KAAT,CAAemG,qBAAf,EAAN;SAnBhB;QAoBLF,mBAAmB,EAAE;iBAAO;YAACF,CAAC,EAAE5E,MAAM,CAAC6E,WAAX;YAAwBH,CAAC,EAAE1E,MAAM,CAAC2E;WAAzC;;OApBvB;;;;;EAjCoBzJ;;;;;;;;IA8GlBoJ;;;;;;AAGNA,oBAAoB,CAACC,SAArB,CAA+B1F,KAA/B;;;;;;AAMAyF,oBAAoB,CAACC,SAArB,CAA+BE,SAA/B;;;;;;AAMAH,oBAAoB,CAACC,SAArB,CAA+BC,QAA/B;;AD5JA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAyCMH;;;;;;;;;;;6BAEK5F,WAAW;;;;;gCAGRA,WAAW;;;;;;;;6BAMdA,WAAW;;;;;iCAGPA,WAAW;;;;;oCAGRA,WAAW;;;;;;;;;uCAORjB,QAAQW,UAAU;;;gCAEzB;;;mCACG;;;;;0CAGO;;;;;wCAGF;;;;;;;;uCAMDZ,OAAO;;;yCAEL;;;qCACJ;;;oCAED;;;mCACD;;;;;;;kCAKD7B,QAAQ;;;;;;;iCAKTA,QAAQ;;;;;;IDrEjBwD;;;;;;;wBACoB;aACfiD,UAAP;;;;wBAGmB;aACZnG,OAAP;;;;wBAGmB;aACZwH,OAAP;;;;wBAG0B;;;;UAExBvE,QAAQ,EAAE;;YAD6B;UAEvCD,WAAW,EAAE;;YAF0B;UAGvCD,QAAQ,EAAE;;YAH6B;UAIvCH,YAAY,EAAE;;YAJyB;UAKvCF,eAAe,EAAE;;YALsB;UAMvCN,kBAAkB,EAAE;;YANmB;UAOvCF,SAAS,EAAE,qBAAM,EAPsB;UAQvCF,YAAY,EAAE,wBAAM,EARmB;UASvCH,mBAAmB,EAAE,+BAAM,EATY;UAUvCF,iBAAiB,EAAE,6BAAM,EAVc;UAWvCF,kBAAkB,EAAE;;YAXmB;UAYvCP,kBAAkB,EAAE,8BAAM,EAZa;UAavCH,cAAc,EAAE,0BAAM,EAbiB;UAcvCP,aAAa,EAAE,yBAAM,EAdkB;UAevCF,YAAY,EAAE,wBAAM,EAfmB;UAgBvCF,aAAa,EAAE;;YAhBwB;UAiBvCF,YAAY,EAAE;;;;;;;;;;;;+BAONkI,OAAZ,EAAqB;;;;;6FACbH,MAAM,CAACC,MAAP,CAAchF,mBAAmB,CAACiF,cAAlC,EAAkDC,OAAlD,CAAN;;;UAGKb,OAAL,GAAe,KAAf;;;UAGKxB,eAAL,GAAuB,CAAvB;;;UAGKJ,eAAL,GAAuB,CAAvB;;;UAGK0B,YAAL,GAAoB,CAApB;;;UAGKf,gBAAL,GAAwBtG,OAAO,CAACgI,YAAhC;;;UAGKnB,iBAAL,GAAyB7G,OAAO,CAACgI,YAAjC;;;UAGKZ,iBAAL,GAAyB,IAAzB;;;UAGKJ,kBAAL,GAA0B,KAA1B;;;;;;2BAGK;UACD,KAAKd,QAAL,CAAcnD,QAAd,CAAuBoD,UAAU,CAACc,OAAlC,CAAJ,EAAgD;aACzC3H,mBAAL,CAAyB,KAAzB;;;;;8BAIM;UACJ,KAAKiI,OAAT,EAAkB;aACXpE,KAAL,CAAWnD,OAAO,CAAC+H,cAAnB;;;UAGE,KAAKpC,eAAT,EAA0B;QACxBG,YAAY,CAAC,KAAKH,eAAN,CAAZ;aACK+B,wBAAL;;;UAGE,KAAKL,YAAT,EAAuB;QACrBpB,oBAAoB,CAAC,KAAKoB,YAAN,CAApB;aACKA,YAAL,GAAoB,CAApB;;;;;2BAIG;;;WACAE,OAAL,GAAe,IAAf;WACKrB,QAAL,CAAc1F,aAAd;WACK0F,QAAL,CAAcjD,QAAd,CAAuBkD,UAAU,CAACE,OAAlC,EAHK;;WAMAyB,sBAAL,CAA4B,YAAM;QAChC,MAAI,CAAC5B,QAAL,CAAcjD,QAAd,CAAuBkD,UAAU,CAACyB,IAAlC;;QACA,MAAI,CAAC1B,QAAL,CAActD,YAAd,CAA2BuD,UAAU,CAACwB,WAAtC;;QAEA,MAAI,CAACtE,MAAL;;QAEA,MAAI,CAACsC,eAAL,GAAuBC,UAAU,CAAC,YAAM;UACtC,MAAI,CAAC8B,wBAAL;;UACA,MAAI,CAACxB,QAAL,CAAchE,SAAd;;UACA,MAAI,CAACgE,QAAL,CAAc5F,YAAd;SAH+B,EAI9BkH,OAAO,CAACK,6BAJsB,CAAjC;OANF;;;;;;;;4BAiBiB;;;UAAbnI,MAAa,uEAAJ,EAAI;;UACb,CAAC,KAAK6H,OAAV,EAAmB;;;;;WAKdA,OAAL,GAAe,KAAf;WACKrB,QAAL,CAAc9F,aAAd,CAA4BV,MAA5B;WACKwG,QAAL,CAAcjD,QAAd,CAAuBkD,UAAU,CAACC,OAAlC;WACKF,QAAL,CAAclD,WAAd,CAA0BmD,UAAU,CAACyB,IAArC;WACK1B,QAAL,CAAcxD,eAAd,CAA8ByD,UAAU,CAACwB,WAAzC;MAEA1B,oBAAoB,CAAC,KAAKF,eAAN,CAApB;WACKA,eAAL,GAAuB,CAAvB;MAEAD,YAAY,CAAC,KAAKH,eAAN,CAAZ;WACKA,eAAL,GAAuBC,UAAU,CAAC,YAAM;QACtC,MAAI,CAACM,QAAL,CAAclE,YAAd;;QACA,MAAI,CAAC0F,wBAAL;;QACA,MAAI,CAACxB,QAAL,CAAchG,YAAd,CAA2BR,MAA3B;OAH+B,EAI9B8H,OAAO,CAACC,8BAJsB,CAAjC;;;;6BAOO;aACA,KAAKF,OAAZ;;;;;;yCAImB;aACZ,KAAKjB,gBAAZ;;;;;;uCAIiB5G,QAAQ;WACpB4G,gBAAL,GAAwB5G,MAAxB;;;;;;0CAIoB;aACb,KAAKmH,iBAAZ;;;;;;wCAIkBnH,QAAQ;WACrBmH,iBAAL,GAAyBnH,MAAzB;;;;;;0CAIoB;aACb,KAAK0H,iBAAZ;;;;;;wCAIkB7H,WAAW;WACxB6H,iBAAL,GAAyB7H,SAAzB;;;;6BAGO;;;UACH,KAAK8H,YAAT,EAAuB;QACrBpB,oBAAoB,CAAC,KAAKoB,YAAN,CAApB;;;WAEGA,YAAL,GAAoBrB,qBAAqB,CAAC,YAAM;QAC9C,MAAI,CAACsB,eAAL;;QACA,MAAI,CAACD,YAAL,GAAoB,CAApB;OAFuC,CAAzC;;;;sCAMgB;UACZ,KAAKD,iBAAT,EAA4B;aACrBD,qBAAL;;;WAEGD,wBAAL;;;;;;4CAIsB;;WAEjBhB,QAAL,CAAclD,WAAd,CAA0BmD,UAAU,CAACc,OAArC;UAEMtF,iBAAiB,GAAG,KAAKuE,QAAL,CAAcvE,iBAAd,EAA1B;;UAEIA,iBAAJ,EAAuB;aAChBuE,QAAL,CAAcjD,QAAd,CAAuBkD,UAAU,CAACc,OAAlC;;;UAGEtF,iBAAiB,KAAK,KAAKqF,kBAA/B,EAAmD;aAC5Cd,QAAL,CAAcnF,cAAd;aACKiG,kBAAL,GAA0BrF,iBAA1B;;;;;;;+CAKuB;;WAEpBuE,QAAL,CAAclD,WAAd,CAA0BmD,UAAU,CAACY,UAArC;;UACI,KAAKb,QAAL,CAAcrE,mBAAd,EAAJ,EAAyC;aAClCqE,QAAL,CAAcjD,QAAd,CAAuBkD,UAAU,CAACY,UAAlC;;;;;;;;;;sCAQcR,KAAK;UACfK,OAAO,GAAGL,GAAG,CAACtC,IAAJ,KAAa,OAA7B;UACMyC,OAAO,GAAGH,GAAG,CAACC,GAAJ,KAAY,OAAZ,IAAuBD,GAAG,CAACE,OAAJ,KAAgB,EAAvD,CAFqB;;UAKjBG,OAAO,IAAI,KAAKV,QAAL,CAAc9D,kBAAd,CAAiCmE,GAAG,CAAC/E,MAArC,EAA6CxB,OAAO,CAAC8G,cAArD,CAAX,IACF,KAAKD,iBAAL,KAA2B,EAD7B,EACiC;aAC1B1D,KAAL,CAAW,KAAK0D,iBAAhB;OAFF,MAGO,IAAID,OAAO,IAAIL,GAAG,CAACC,GAAJ,KAAY,OAAvB,IAAkCD,GAAG,CAACE,OAAJ,KAAgB,EAAlD,IAAwDC,OAA5D,EAAqE;YACpEhH,MAAM,GAAG,KAAKwG,QAAL,CAAczE,kBAAd,CAAiC8E,GAAjC,CAAf;;YACI7G,MAAJ,EAAY;eACLyD,KAAL,CAAWzD,MAAX;SADF,MAEO,IAAIgH,OAAO,IAAI,CAAC,KAAKR,QAAL,CAAc9D,kBAAd,CAAiCmE,GAAG,CAAC/E,MAArC,EAA6CxB,OAAO,CAAC2G,+BAArD,CAAhB,EAAuG;eACvGT,QAAL,CAAchF,kBAAd;;;;;;;;;;;0CASgBqF,KAAK;UACrB,CAACA,GAAG,CAACC,GAAJ,KAAY,QAAZ,IAAwBD,GAAG,CAACE,OAAJ,KAAgB,EAAzC,KAAgD,KAAKH,gBAAL,KAA0B,EAA9E,EAAkF;aAC3EnD,KAAL,CAAW,KAAKmD,gBAAhB;;;;;;;+CAKuB;WACpBX,eAAL,GAAuB,CAAvB;WACKO,QAAL,CAAclD,WAAd,CAA0BmD,UAAU,CAACE,OAArC;WACKH,QAAL,CAAclD,WAAd,CAA0BmD,UAAU,CAACC,OAArC;;;;;;;;;;2CAQqBP,UAAU;;;MAC/BI,oBAAoB,CAAC,KAAKF,eAAN,CAApB;WACKA,eAAL,GAAuBC,qBAAqB,CAAC,YAAM;QACjD,MAAI,CAACD,eAAL,GAAuB,CAAvB;QACAD,YAAY,CAAC,MAAI,CAACH,eAAN,CAAZ;QACA,MAAI,CAACA,eAAL,GAAuBC,UAAU,CAACC,QAAD,EAAW,CAAX,CAAjC;OAH0C,CAA5C;;;;;EAjQ8BH;;ADKlC,IAAM1F,SAAO,GAAGkD,mBAAmB,CAAClD,OAApC;;IAEMb;;;;;uBACiB;;;;;;;sCAANsG,IAAM;MAANA,IAAM;;;wIACVA,IAAT;;;;;;UAMKjC,cAAL;;;UAGK5C,QAAL;;;UAGKI,cAAL;;;UAGKwD,UAAL;;;UAGK5C,QAAL;;;UAGK8C,eAAL;;;UAGKD,iBAAL;;;UAGK3C,UAAL;;;UAGK8B,kBAAL;;;UAGKG,sBAAL;;;UAGKJ,cAAL;;;UAGKF,cAAL;;;UAGKS,OAAL;;;;;;iCAmCoE;UAA3Dc,gBAA2D,uEAAxChG,WAAwC;UAAvB+F,cAAuB,uEAAN,IAAM;WAC/DP,UAAL;;WAAgD3B,KAAL,CAAWoC,aAAX,CAAyBjF,SAAO,CAACwF,kBAAjC,CAA3C;WACK5D,QAAL,GAAgB,KAAKiB,KAAL,CAAWoC,aAAX,CAAyBjF,SAAO,CAACuF,gBAAjC,CAAhB;WACK3E,QAAL,GAAgB,GAAGuE,KAAH,CAASC,IAAT,CAAc,KAAKvC,KAAL,CAAWwC,gBAAX,CAA4BrF,SAAO,CAACsF,eAApC,CAAd,CAAhB;WACKtE,cAAL,GAAsB,KAAK6B,KAAL,CAAWoC,aAAX,CAAyBjF,SAAO,CAACkF,uBAAjC,CAAtB;WACK1B,cAAL,GAAsB,EAAtB;WACKiB,iBAAL,GAAyBO,gBAAzB;WACKN,eAAL,GAAuBK,cAAvB;;WAEK,IAAID,CAAC,GAAG,CAAR,EAAWD,QAAhB,EAA0BA,QAAQ,GAAG,KAAKjE,QAAL,CAAckE,CAAd,CAArC,EAAuDA,CAAC,EAAxD,EAA4D;aACrDtB,cAAL,CAAoBmB,IAApB,CAAyB,IAAIC,SAAJ,CAAcC,QAAd,CAAzB;;;;;yCAIiB;;;WACd/C,UAAL,GAAkBJ,uBAAA,CAA6B,KAAK8C,UAAlC,EAA8C,KAAKC,iBAAnD,EAAsE,KAAKC,eAA3E,CAAlB;WAEKd,kBAAL,GAA0B,KAAKvE,WAAL,CAAiBkF,iBAAjB,CAAmCF,IAAnC,CAAwC,KAAKhF,WAA7C,CAA1B;WACK0E,sBAAL,GAA8B,KAAK1E,WAAL,CAAiBiF,qBAAjB,CAAuCD,IAAvC,CAA4C,KAAKhF,WAAjD,CAA9B;WACK6E,OAAL,GAAe,KAAKb,MAAL,CAAYgB,IAAZ,CAAiB,IAAjB,CAAf;UAEMF,aAAa,GAAG,CAAC,QAAD,EAAW,mBAAX,CAAtB;;WACKR,cAAL,GAAsB,YAAM;QAC1BQ,aAAa,CAACtD,OAAd,CAAsB,UAACoD,IAAD;iBAAUD,MAAM,CAACI,gBAAP,CAAwBH,IAAxB,EAA8B,MAAI,CAACC,OAAnC,CAAV;SAAtB;QACA7B,QAAQ,CAAC+B,gBAAT,CAA0B,SAA1B,EAAqC,MAAI,CAACL,sBAA1C;OAFF;;WAIKN,cAAL,GAAsB,YAAM;QAC1BU,aAAa,CAACtD,OAAd,CAAsB,UAACoD,IAAD;iBAAUD,MAAM,CAACF,mBAAP,CAA2BG,IAA3B,EAAiC,MAAI,CAACC,OAAtC,CAAV;SAAtB;QACA7B,QAAQ,CAACyB,mBAAT,CAA6B,SAA7B,EAAwC,MAAI,CAACC,sBAA7C;OAFF;;WAKKF,MAAL,CAAY,OAAZ,EAAqB,KAAKD,kBAA1B;WACKC,MAAL,CAAY,SAAZ,EAAuB,KAAKD,kBAA5B;WACKC,MAAL,CAAY7D,SAAO,CAACO,aAApB,EAAmC,KAAKoD,cAAxC;WACKE,MAAL,CAAY7D,SAAO,CAACG,aAApB,EAAmC,KAAKsD,cAAxC;;;;8BAGQ;WACHC,QAAL,CAAc,OAAd,EAAuB,KAAKE,kBAA5B;WACKF,QAAL,CAAc,SAAd,EAAyB,KAAKE,kBAA9B;WACKF,QAAL,CAAc1D,SAAO,CAACO,aAAtB,EAAqC,KAAKoD,cAA1C;WACKD,QAAL,CAAc1D,SAAO,CAACG,aAAtB,EAAqC,KAAKsD,cAA1C;WACKA,cAAL;WAEKD,cAAL,CAAoB3C,OAApB,CAA4B,UAACyC,MAAD;eAAYA,MAAM,CAACC,OAAP,EAAZ;OAA5B;;;;;;6BAIO;WACFlE,WAAL,CAAiBgE,MAAjB;;;;2BAGK;WACAhE,WAAL,CAAiB+D,IAAjB;;;;;;;;4BAMiB;UAAb1D,MAAa,uEAAJ,EAAI;WACZL,WAAL,CAAiB8D,KAAjB,CAAuBzD,MAAvB;;;;2CAGqB;;;aACd,IAAIwD,mBAAJ,CAAwB;QAC7BD,QAAQ,EAAE,kBAACR,SAAD;iBAAe,MAAI,CAACI,KAAL,CAAWN,SAAX,CAAqBI,GAArB,CAAyBF,SAAzB,CAAf;SADmB;QAE7BO,WAAW,EAAE,qBAACP,SAAD;iBAAe,MAAI,CAACI,KAAL,CAAWN,SAAX,CAAqBC,MAArB,CAA4BC,SAA5B,CAAf;SAFgB;QAG7BM,QAAQ,EAAE,kBAACN,SAAD;iBAAe,MAAI,CAACI,KAAL,CAAWN,SAAX,CAAqBO,QAArB,CAA8BL,SAA9B,CAAf;SAHmB;QAI7BG,YAAY,EAAE,sBAACH,SAAD;iBAAeJ,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBI,GAAxB,CAA4BF,SAA5B,CAAf;SAJe;QAK7BC,eAAe,EAAE,yBAACD,SAAD;iBAAeJ,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,MAAxB,CAA+BC,SAA/B,CAAf;SALY;QAM7BL,kBAAkB,EAAE,4BAACZ,MAAD,EAASW,QAAT;iBAAsBlD,SAAO,CAACuC,MAAD,EAASW,QAAT,CAA7B;SANS;QAO7BD,SAAS,EAAE;iBAAM,MAAI,CAACJ,UAAL,CAAgBG,QAAhB,EAAN;SAPkB;QAQ7BD,YAAY,EAAE;iBAAM,MAAI,CAACF,UAAL,CAAgBC,UAAhB,EAAN;SARe;QAS7BF,mBAAmB,EAAE;iBAAM,CAAC,CAAC,MAAI,CAACD,QAAP,IAAmBF,YAAA;;UAA2C,MAAI,CAACE,QAAhD,CAAzB;SATQ;QAU7BD,iBAAiB,EAAE;iBAAMD,iBAAA,CAAuB,MAAI,CAACd,QAA5B,CAAN;SAVU;QAW7Ba,kBAAkB,EAAE,4BAACF,KAAD,EAAW;cACvBJ,OAAO,GAAGG,OAAO,CAACC,KAAK,CAACC,MAAP,aAAmBxB,SAAO,CAACqB,gBAA3B,OAAvB;iBACOF,OAAO,IAAIA,OAAO,CAACC,YAAR,CAAqBpB,SAAO,CAACqB,gBAA7B,CAAlB;SAb2B;QAe7BH,kBAAkB,EAAE,8BAAM;cACpB,MAAI,CAACF,cAAT,EAAyB;YACvB,MAAI,CAACA,cAAL,CAAoBC,KAApB;;SAjByB;QAoB7BF,cAAc,EAAE,0BAAM;UACpB,MAAI,CAACH,QAAL,CAAcE,OAAd;;UACA,MAAI,CAACF,QAAL,CAAcC,OAAd,CAAsB,UAACJ,MAAD;mBAAYA,MAAM,CAACC,aAAP,CAAqBC,WAArB,CAAiCF,MAAjC,CAAZ;WAAtB;SAtB2B;QAwB7BD,aAAa,EAAE;iBAAM,MAAI,CAACT,IAAL,CAAUC,SAAO,CAACO,aAAlB,EAAiC,EAAjC,CAAN;SAxBc;QAyB7BD,YAAY,EAAE;iBAAM,MAAI,CAACP,IAAL,CAAUC,SAAO,CAACK,YAAlB,EAAgC,EAAhC,CAAN;SAzBe;QA0B7BD,aAAa,EAAE,uBAACV,MAAD;iBAAY,MAAI,CAACK,IAAL,CAAUC,SAAO,CAACG,aAAlB,EAAiCT,MAAM,GAAG;YAACA,MAAM,EAANA;WAAJ,GAAc,EAArD,CAAZ;SA1Bc;QA2B7BQ,YAAY,EAAE,sBAACR,MAAD;iBAAY,MAAI,CAACK,IAAL,CAAUC,SAAO,CAACC,YAAlB,EAAgCP,MAAM,GAAG;YAACA,MAAM,EAANA;WAAJ,GAAc,EAApD,CAAZ;;OA3BT,CAAP;;;;wBA5FW;aACJ,KAAKL,WAAL,CAAiBS,MAAjB,EAAP;;;;wBAGoB;aACb,KAAKT,WAAL,CAAiBQ,kBAAjB,EAAP;;sBAGkBH,QAAQ;WACrBL,WAAL,CAAiBO,kBAAjB,CAAoCF,MAApC;;;;wBAGqB;aACd,KAAKL,WAAL,CAAiBM,mBAAjB,EAAP;;sBAGmBD,QAAQ;WACtBL,WAAL,CAAiBI,mBAAjB,CAAqCC,MAArC;;;;wBAGqB;aACd,KAAKL,WAAL,CAAiBG,mBAAjB,EAAP;;sBAGmBD,WAAW;WACzBF,WAAL,CAAiBC,mBAAjB,CAAqCC,SAArC;;;;6BA7BcH,MAAM;aACb,IAAID,SAAJ,CAAcC,IAAd,CAAP;;;;;EAhDoBF;;;;;;ADlCxB;AAmCA,IAAM,aAAa,GAAG,CAAC,QAAQ,EAAE,mBAAmB,CAAC,CAArD;AAEA,AAAA,IAAA,kBAAA,kBAAA,YAAA;IAiGE,SAAF,kBAAA,CACY,OAAe,EACf,SAAmB,EACnB,WAAoC,EACrC,SAA2C,EAJtD;QACY,IAAZ,CAAA,OAAmB,GAAP,OAAO,CAAQ;QACf,IAAZ,CAAA,SAAqB,GAAT,SAAS,CAAU;QACnB,IAAZ,CAAA,WAAuB,GAAX,WAAW,CAAyB;QACrC,IAAX,CAAA,SAAoB,GAAT,SAAS,CAAkC;;;;QA9E5C,IAAV,CAAA,QAAkB,GAAG,IAAI,OAAO,EAAQ,CAAC;QAE/B,IAAV,CAAA,kBAA4B,GAAqB,IAAI,CAAC;QAE5C,IAAV,CAAA,WAAqB,GAAY,IAAI,CAAC;QAQ5B,IAAV,CAAA,wBAAkC,GAAwB,IAAI,CAAC;QAoE3D,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,eAAe,CAAC,OAAO,CAAC;KACjD;IAlED,MAAF,CAAA,cAAA,CAAM,kBAAN,CAAA,SAAA,EAAA,cAAkB,EAAlB;;;;;;QAAE,YAAF;YACI,OAAO,KAAK,CAAhB,KAAA,CAAA,KAAA,CAAA,EAAoB,aAAa,CAAC,GAAG;;;;YAAC,UAAA,GAAG,EAAzC,EAA6C,OAAA,SAAS,CAAC,MAAM,EAAE,GAAG,CAAC,CAAnE,EAAmE,EAAC,CAApE,CAAsE;SACnE;;;KAAH,CAAA,CAAG;;;;;IAEO,kBAAV,CAAA,SAAA,CAAA,cAAwB;;;;IAAtB,YAAF;QAAE,IAAF,KAAA,GAAA,IAAA,CAwCG;QAvCC,OAAO;YACL,QAAQ;;;;YAAE,UAAC,SAAiB,EAAlC,EAAuC,OAAA,KAAI,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAjF,EAAiF,CAAA;YAC3E,WAAW;;;;YAAE,UAAC,SAAiB,EAArC,EAA0C,OAAA,KAAI,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAvF,EAAuF,CAAA;YACjF,QAAQ;;;;YAAE,UAAC,SAAiB,EAAlC,EAAuC,OAAA,KAAI,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAtF,EAAsF,CAAA;YAChF,YAAY;;;;YAAE,UAAC,SAAiB,EAAtC;gBACQ,IAAI,KAAI,CAAC,SAAS,CAAC,SAAS,EAAE;oBAC5B,mBAAA,QAAQ,CAAC,IAAI,GAAE,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;iBACzC;aACF,CAAA;YACD,eAAe;;;;YAAE,UAAC,SAAiB,EAAzC;gBACQ,IAAI,KAAI,CAAC,SAAS,CAAC,SAAS,EAAE;oBAC5B,mBAAA,QAAQ,CAAC,IAAI,GAAE,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;iBAC5C;aACF,CAAA;YACD,kBAAkB;;;;;YAAE,UAAC,MAAmB,EAAE,QAAgB,EAAhE,EAAqE,OAAAD,SAAO,CAAC,MAAM,EAAE,QAAQ,CAAC,CAA9F,EAA8F,CAAA;YACxF,SAAS;;;YAAE,YAAjB,EAAuB,OAAA,mBAAA,KAAI,CAAC,kBAAkB,GAAE,QAAQ,EAAE,CAA1D,EAA0D,CAAA;YACpD,YAAY;;;YAAE,YAApB,EAA0B,OAAA,mBAAA,KAAI,CAAC,kBAAkB,GAAE,UAAU,EAAE,CAA/D,EAA+D,CAAA;YACzD,mBAAmB;;;YAAE,YAA3B;gBACQ,OAAA,CAAC,CAAC,KAAI,CAAC,QAAQ,IAAI,KAAI,CAAC,WAAW,IAAI,YAAY,CAAC,KAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,aAAa,CAAC,CAAnG;aAAmG,CAAA;YAC7F,iBAAiB;;;YAAE,YAAzB,EAA+B,OAAA,iBAAiB,CAAC,KAAI,CAAC,QAAQ,CAAC,CAA/D,EAA+D,CAAA;YACzD,kBAAkB;;;;YAAE,UAAC,KAAY,EAAvC;;gBACA,IAAc,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,GAA9C,GAAkD,OAAO,CAAC,gBAAgB,GAA1E,GAA6E,CAAC,CAA9E;gBACQ,OAAO,OAAO,IAAI,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;aAClE,CAAA;YACD,kBAAkB;;;YAAE,YAA1B;;gBACA,IAAc,UAAU,GAAG,KAAI,CAAC,iBAAiB,EAAE,CAAnD;gBACQ,IAAI,UAAU,EAAE;oBACd,UAAU,CAAC,KAAK,EAAE,CAAC;iBACpB;aACF,CAAA;YACD,cAAc;;;YAAE,YAAtB;gBACQ,IAAI,CAAC,KAAI,CAAC,QAAQ,EAAE;oBAAE,OAAO;iBAAE;gBAE/B,KAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,OAAO,EAAE,CAAC;gBAClC,KAAI,CAAC,QAAQ,CAAC,OAAO;;;;gBAAC,UAAA,MAAM,EAApC,EAAwC,OAAA,mBAAA,MAAM,CAAC,cAAc,EAAE,CAAC,aAAa,GAAE,WAAW,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC,CAAnH,EAAmH,EAAC,CAAC;aAC9G,CAAA;YACD,YAAY;;;YAAE,YAApB,EAA0B,OAAA,KAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAjD,EAAiD,CAAA;YAC3C,YAAY;;;;YAAE,UAAC,MAAc,EAAnC,EAAwC,OAAA,KAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAtE,EAAsE,CAAA;SACjE,CAAC;KACH,CAAH;;;;IAwBE,kBAAF,CAAA,SAAA,CAAA,eAAiB;;;IAAf,YAAF;QACI,IAAI,CAAC,WAAW,GAAG,IAAI,mBAAmB,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;QAClE,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,wBAAwB,EAAE,CAAC;QAC1D,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;KACzB,CAAH;;;;;IAEU,kBAAV,CAAA,SAAA,CAAA,WAAqB;;;;IAAnB,YAAF;QACI,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC;QAE5C,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,mBAAmB,EAAE;YACpC,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,EAAE,CAAC,CAAC;SAC1C;QACD,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE;YAC9B,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC;SACzC;QACD,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE;YAC/B,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;SAC7C;KACF,CAAH;;;;IAEE,kBAAF,CAAA,SAAA,CAAA,WAAa;;;IAAX,YAAF;QACI,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACrB,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;QAEzB,IAAI,IAAI,CAAC,wBAAwB,EAAE;YACjC,IAAI,CAAC,wBAAwB,CAAC,WAAW,EAAE,CAAC;SAC7C;QAED,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;SAC5B;KACF,CAAH;;;;;IAEE,kBAAF,CAAA,SAAA,CAAA,cAAgB;;;;IAAd,UAAe,GAA+B,EAAhD;QACI,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;KACzC,CAAH;;;;;IAEU,kBAAV,CAAA,SAAA,CAAA,iBAA2B;;;;IAAzB,YAAF;;QACA,IAAU,UAAU,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI;;;;QAAC,UAAA,CAAC,EAA3D,EAA+D,OAAA,CAAC,CAAC,OAAO,CAAxE,EAAwE,EAAC,GAAG,SAAS,CAArF;QACI,OAAO,UAAU,GAAG,UAAU,CAAC,cAAc,EAAE,GAAG,SAAS,CAAC;KAC7D,CAAH;;;;;;IAEU,kBAAV,CAAA,SAAA,CAAA,iBAA2B;;;;;IAAzB,UAA0B,MAAe,EAA3C;QACI,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;KAC9B,CAAH;;;;;IAEU,kBAAV,CAAA,SAAA,CAAA,cAAwB;;;;IAAtB,YAAF;QAAE,IAAF,KAAA,GAAA,IAAA,CASG;QARC,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE;aACrD,SAAS;;;QAAC,YAAjB,EAAuB,OAAA,KAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAhD,EAAgD,EAAC,CAAC;QAE9C,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE;YAC5B,IAAI,CAAC,OAAO,CAAC,iBAAiB;;;YAAC,YAArC;gBACQ,OAAA,SAAS,CAAgB,QAAQ,EAAE,SAAS,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;qBACzE,SAAS;;;;gBAAC,UAAA,GAAG,EAAxB,EAA4B,OAAA,KAAI,CAAC,OAAO,CAAC,GAAG;;;gBAAC,YAA7C,EAAmD,OAAA,KAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAA9F,EAA8F,EAAC,CAA/F,EAA+F,EAAC,CAAhG;aAAgG,EAAC,CAAC;SAC7F;KACF,CAAH;;;;;;IAEU,kBAAV,CAAA,SAAA,CAAA,wBAAkC;;;;;IAAhC,UAAiC,gBAAkC,EAArE;QAAmC,IAAnC,gBAAA,KAAA,KAAA,CAAA,EAAmC,EAAA,gBAAnC,GAAAD,WAAqE,CAArE,EAAA;QACI,OAAO,gBAAgB,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE;YACzC,YAAY,EAAE,IAAI,CAAC,iBAAiB,EAAE;YACtC,uBAAuB,EAAE,IAAI;;YAC7B,iBAAiB,EAAE,KAAK;SACzB,CAAC,CAAC;KACJ,CAAH;;;;;;;IAGU,kBAAV,CAAA,SAAA,CAAA,UAAoB;;;;;IAAlB,YAAF;QACI,OAAO,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC;KACvC,CAAH;;QAjLA,EAAA,IAAA,EAAC,SAAS,EAAV,IAAA,EAAA,CAAW,CAAX,QAAA,EAAA,YAAA;oBACE,QAAQ,EAAE,YAAZ;oBACE,IAAF,EAAA;wBACA,WAAA,EAAA,YAAA;wBACM,MAAN,EAAA,aAAA;wBACI,OAAJ,EAAA,YAAA;wBACI,mBAAJ,EAAyB,MAAzB;wBACI,wBAAJ,EAAA,mBAAA;wBACI,mBAAmB,EAAE,mBAAzB;wBACI,yBAAJ,EAAA,iCAAA;wBACI,SAAJ,EAAA,wBAAA;wBACI,WAAJ,EAAA,wBAAA;qBACA;oBACA,QAAA,EAAA,wEAAA;oBACA,aAAA,EAAA,iBAAA,CAAA,IAAA;oBACE,eAAF,EAAA,uBAAA,CAAA,MAAA;iBAGA,EAAA,EAAA;KACA,CAAA;;;;;QAjDA,EAAA,IAAA,EAAE,UAAF,EAAA;QAUA,EAAA,IAAA,EAAS,YAAT,EAAA;KAXA,CAAA,EAAA,CAAA;IAkBA,kBAAA,CAAA,cAAA,GAAA;;;QA4CA,QAAA,EAAA,CAAA,EAAA,IAAA,EAAG,eAAH,EAAA,IAAgB,EAAhB,CAAA,eAAA,EAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,EAAA,CAAA;KACA,CAAA;IACA,OAAA,kBAAA,CAAA;;;;;;;;;;ADpEA,AAAA,IAAA;;;;IAAA,SAAA,eAAA,GAAA;;;;QAOE,IAAF,CAAA,eAAiB,GAAmB,IAAI,CAAC;;;;QAGvC,IAAF,CAAA,SAAW,GAAmB,IAAI,CAAC;;;;QAGjC,IAAF,CAAA,aAAe,GAAa,IAAI,CAAC;;;;QAG/B,IAAF,CAAA,mBAAqB,GAAa,IAAI,CAAC;;;;QAGrC,IAAF,CAAA,UAAY,GAAa,IAAI,CAAC;;;;QAG5B,IAAF,CAAA,cAAgB,GAAa,IAAI,CAAC;;;;QAGhC,IAAF,CAAA,IAAM,GAAc,IAAI,CAAC;KACxB;IAAD,OAAA,eAAC,CAAD;CAAC,EAAD,CAAA;;;;;;;;;;;ADPA,AAAA,SAAgB,yCAAyC,GAAzD;IACE,MAAM,KAAK,CAAC,uEAAuE,CAAC,CAAC;CACtF;AAED,AAAA,IAAA,eAAA,kBAAA,UAAA,MAAA,EAAA;IASqCD,SAArC,CAAA,eAAA,EAAA,MAAA,CAAA,CAAqD;IAiCnD,SAAF,eAAA,CAAqB,OAAwB,EAA7C;QAAE,IAAF,KAAA,GACI,MADJ,CAAA,IAAA,CAAA,IAAA,CACW,IADX,IAAA,CAEG;QAFkB,KAArB,CAAA,OAA4B,GAAP,OAAO,CAAiB;;;;QA7B3C,KAAF,CAAA,UAAY,GAAkB,IAAI,OAAO,EAAE,CAAC;;KA+BzC;;;;;;;;;;;IAtBD,eAAF,CAAA,SAAA,CAAA,qBAAuB;;;;;;IAArB,UAAyB,MAA0B,EAArD;QACI,IAAI,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,EAAE;YACpC,yCAAyC,EAAE,CAAC;SAC7C;QAED,OAAO,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC;KACzD,CAAH;;;;;;;;;;;IAME,eAAF,CAAA,SAAA,CAAA,oBAAsB;;;;;;IAApB,UAAwB,MAAyB,EAAnD;QACI,IAAI,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,EAAE;YACpC,yCAAyC,EAAE,CAAC;SAC7C;QAED,OAAO,IAAI,CAAC,aAAa,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;KACxD,CAAH;;QAxCA,EAAA,IAAA,EAAC,SAAS,EAAV,IAAA,EAAA,CAAW,CAAX,QAAA,EAAA,mBAAA;oBACE,IAAF,EAAA;wBACA,WAAA,EAAA,KAAA;qBACA;oBACA,QAAA,EAAA,6CAAA;oBACA,aAAA,EAAA,iBAAA,CAAA,IAAA;iBACA,EAAA,EAAA;KACA,CAAA;;;;;IAjBA,eAAA,CAAA,cAAA,GAAA;;;IAoBA,OAAA,eAAA,CAAA;;;;;;;;;;;ADPA,AAAA,IAAa,eAAe,GAAG,IAAI,cAAc,CAAM,eAAe,CAAC,CAAvE;;;;;AAGA,AAAA,IAAa,0BAA0B,GACrC,IAAI,cAAc,CAAkB,4BAA4B,CAAC,CADnE;AAGA,AAAA,IAAA,SAAA,kBAAA,YAAA;IA8BE,SAAF,SAAA,CACY,QAAiB,EACjB,SAAmB,EAC6B,eAAgC,EACxD,aAAwB,EAJ5D;QAAE,IAAF,KAAA,GAAA,IAAA,CAIiE;QAHrD,IAAZ,CAAA,QAAoB,GAAR,QAAQ,CAAS;QACjB,IAAZ,CAAA,SAAqB,GAAT,SAAS,CAAU;QAC6B,IAA5D,CAAA,eAA2E,GAAf,eAAe,CAAiB;QACxD,IAApC,CAAA,aAAiD,GAAb,aAAa,CAAW;QAhClD,IAAV,CAAA,uBAAiC,GAAwB,EAAE,CAAC;QACzC,IAAnB,CAAA,0BAA6C,GAAG,IAAI,OAAO,EAAQ,CAAC;QACjD,IAAnB,CAAA,uBAA0C,GAAG,IAAI,OAAO,EAAqB,CAAC;QACpE,IAAV,CAAA,mBAA6B,GAAG,IAAI,GAAG,EAA0B,CAAC;;;;;QAqBvD,IAAX,CAAA,cAAyB,GAAoB,KAAK;;;QAAM,YAAxD,EAA8D,OAAA,KAAI,CAAC,WAAW,CAAC,MAAM;YACjF,KAAI,CAAC,eAAe;YACpB,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAnD,EAAmD,EAAC,CAAC;KAMY;IA1B/D,MAAF,CAAA,cAAA,CAAM,SAAN,CAAA,SAAA,EAAA,aAAiB,EAAjB;;;;;;QAAE,YAAF;YACI,OAAO,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,GAAG,IAAI,CAAC,uBAAuB,CAAC;SAC3F;;;KAAH,CAAA,CAAG;IAGD,MAAF,CAAA,cAAA,CAAM,SAAN,CAAA,SAAA,EAAA,aAAiB,EAAjB;;;;;;QAAE,YAAF;YACI,OAAO,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,GAAG,IAAI,CAAC,uBAAuB,CAAC;SAC3F;;;KAAH,CAAA,CAAG;IAED,MAAF,CAAA,cAAA,CAAM,SAAN,CAAA,SAAA,EAAA,iBAAqB,EAArB;;;;QAAE,YAAF;;YACA,IAAU,MAAM,GAAG,IAAI,CAAC,aAAa,CAArC;YACI,OAAO,MAAM,GAAG,MAAM,CAAC,eAAe,GAAG,IAAI,CAAC,0BAA0B,CAAC;SAC1E;;;KAAH,CAAA,CAAG;;;;;;;;;;;;;;;;IAuBD,SAAF,CAAA,SAAA,CAAA,IAAM;;;;;;;;IAAJ,UAAiB,sBAAyD,EACxE,MAA2B,EAD/B;QAAE,IAAF,KAAA,GAAA,IAAA,CAqBG;QAlBC,MAAM,GAAG,oBAAoB,CAAC,MAAM,EAAE,IAAI,CAAC,eAAe,IAAI,IAAI,eAAe,EAAE,CAAC,CAAC;QAErF,IAAI,MAAM,CAAC,EAAE,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE;YAC9C,MAAM,KAAK,CAAC,mBAAlB,GAAqC,MAAM,CAAC,EAAE,GAA9C,kDAA+F,CAAC,CAAC;SAC5F;;QAEL,IAAU,UAAU,GAAG,IAAI,CAAC,cAAc,EAAE,CAA5C;;QACA,IAAU,eAAe,GAAG,IAAI,CAAC,sBAAsB,CAAC,UAAU,EAAE,MAAM,CAAC,CAA3E;;QACA,IAAU,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAI,sBAAsB,EACnE,eAAe,EACf,UAAU,EACV,MAAM,CAAC,CAHb;QAKI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACjC,SAAS,CAAC,WAAW,EAAE,CAAC,SAAS;;;QAAC,YAAtC,EAA4C,OAAA,KAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAA7E,EAA6E,EAAC,CAAC;QAC3E,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEjC,OAAO,SAAS,CAAC;KAClB,CAAH;;;;;;IAGE,SAAF,CAAA,SAAA,CAAA,QAAU;;;;IAAR,YAAF;QACI,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KACtC,CAAH;;;;;;;;;;IAME,SAAF,CAAA,SAAA,CAAA,aAAe;;;;;IAAb,UAAc,EAAU,EAA1B;QACI,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI;;;;QAAC,UAAA,MAAM,EAAvC,EAA2C,OAAA,MAAM,CAAC,EAAE,KAAK,EAAE,CAA3D,EAA2D,EAAC,CAAC;KAC1D,CAAH;;;;IAEE,SAAF,CAAA,SAAA,CAAA,WAAa;;;IAAX,YAAF;;;QAGI,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;QACjD,IAAI,CAAC,0BAA0B,CAAC,QAAQ,EAAE,CAAC;QAC3C,IAAI,CAAC,uBAAuB,CAAC,QAAQ,EAAE,CAAC;KACzC,CAAH;;;;;;;;;;IAMU,SAAV,CAAA,SAAA,CAAA,cAAwB;;;;;IAAtB,YAAF;QACI,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;KAC/B,CAAH;;;;;;;;;;;;;;IAQU,SAAV,CAAA,SAAA,CAAA,sBAAgC;;;;;;;IAA9B,UAA+B,OAAmB,EAAE,MAAuB,EAA7E;;QACA,IAAU,YAAY,GAAG,MAAM,IAAI,MAAM,CAAC,gBAAgB,IAAI,MAAM,CAAC,gBAAgB,CAAC,QAAQ,CAA9F;;QACA,IAAU,QAAQ,GAAG,IAAI,cAAc,CAAC,YAAY,IAAI,IAAI,CAAC,SAAS,EAAE,IAAI,OAAO,CAAC;YAC9E,CAAC,eAAe,EAAE,MAAM,CAAC;SAC1B,CAAC,CAAC,CAAP;;QACA,IAAU,eAAe,GACnB,IAAI,eAAe,CAAC,eAAe,EAAE,MAAM,CAAC,gBAAgB,EAAE,QAAQ,CAAC,CAD7E;;QAEA,IAAU,YAAY,GAAG,OAAO,CAAC,MAAM,CAAkB,eAAe,CAAC,CAAzE;QAEI,OAAO,YAAY,CAAC,QAAQ,CAAC;KAC9B,CAAH;;;;;;;;;;;;;;;;;;;;;IAWU,SAAV,CAAA,SAAA,CAAA,oBAA8B;;;;;;;;;;;IAA5B,UACE,sBAAyD,EACzD,eAAgC,EAChC,UAAsB,EACtB,MAAuB,EAJ3B;;;;QAQA,IAAU,SAAS,GAAG,IAAI,YAAY,CAAI,UAAU,EAAE,eAAe,EAAE,MAAM,CAAC,EAAE,CAAC,CAAjF;QAEI,IAAI,sBAAsB,YAAY,WAAW,EAAE;YACjD,eAAe,CAAC,oBAAoB,CAClC,IAAI,cAAc,CAAI,sBAAsB,qBAAE,IAAI,uBAC3C,EAAE,SAAS,EAAE,MAAM,CAAC,IAAI,EAAE,SAAS,EAFlD,SAEkD,EAAE,GAAC,CAAC,CAAC;SAClD;aAAM;;YACX,IAAY,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAI,MAAM,EAAE,SAAS,EAAE,eAAe,CAAC,CAAlF;;YACA,IAAY,UAAU,GAAG,eAAe,CAAC,qBAAqB,CACtD,IAAI,eAAe,CAAC,sBAAsB,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC,CADzE;YAEM,SAAS,CAAC,iBAAiB,GAAG,UAAU,CAAC,QAAQ,CAAC;SACnD;QAED,OAAO,SAAS,CAAC;KAClB,CAAH;;;;;;;;;;;;;;;;;;;IAUU,SAAV,CAAA,SAAA,CAAA,eAAyB;;;;;;;;;;IAAvB,UACE,MAAuB,EACvB,SAA0B,EAC1B,eAAgC,EAHpC;;QAKA,IAAU,YAAY,GAAG,MAAM,IAAI,MAAM,CAAC,gBAAgB,IAAI,MAAM,CAAC,gBAAgB,CAAC,QAAQ,CAA9F;;;;;;QAMA,IAAU,eAAe,GAAG,IAAI,OAAO,CAAW;YAC5C,CAAC,eAAe,EAAE,eAAe,CAAC;YAClC,CAAC,eAAe,EAAE,MAAM,CAAC,IAAI,CAAC;YAC9B,CAAC,YAAY,EAAE,SAAS,CAAC;SAC1B,CAAC,CAAN;QAEI,OAAO,IAAI,cAAc,CAAC,YAAY,IAAI,IAAI,CAAC,SAAS,EAAE,eAAe,CAAC,CAAC;KAC5E,CAAH;;;;;;;;;;;IAMU,SAAV,CAAA,SAAA,CAAA,iBAA2B;;;;;;IAAzB,UAA0B,SAA4B,EAAxD;;QACA,IAAU,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,SAAS,CAAC,CAArD;QAEI,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;;;YAIlC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;gBAC5B,IAAI,CAAC,mBAAmB,CAAC,OAAO;;;;;gBAAC,UAAC,aAAa,EAAE,OAAO,EAAhE;oBACU,IAAI,aAAa,EAAE;wBACjB,OAAO,CAAC,YAAY,CAAC,aAAa,EAAE,aAAa,CAAC,CAAC;qBACpD;yBAAM;wBACL,OAAO,CAAC,eAAe,CAAC,aAAa,CAAC,CAAC;qBACxC;iBACF,EAAC,CAAC;gBAEH,IAAI,CAAC,mBAAmB,CAAC,KAAK,EAAE,CAAC;gBACjC,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;aAC7B;SACF;KACF,CAAH;;;;;;;;IAGU,SAAV,CAAA,SAAA,CAAA,aAAuB;;;;;;IAArB,UAAsB,OAA4B,EAApD;;QACA,IAAQ,CAAC,GAAG,OAAO,CAAC,MAAM,CAA1B;QAEI,OAAO,CAAC,EAAE,EAAE;;;;;YAKV,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;SACpB;KACF,CAAH;;QApNA,EAAA,IAAA,EAAC,UAAU,EAAX;;;;QArBA,EAAA,IAAA,EAAE,OAAO,EAAT;QATA,EAAA,IAAA,EAAE,QAAQ,EAAV;QAqBA,EAAA,IAAA,EAAS,eAAe,EAAxB,UAAA,EAAA,CAAA,EAAA,IAAA,EA0CK,QAAQ,EA1Cb,EAAA,EAAA,IAAA,EA0CiB,MAAM,EA1CvB,IAAA,EAAA,CA0CwB,0BAA0B,EA1ClD,EAAA,CAAA,EAAA;QA2CA,EAAA,IAAA,EAAmD,SAAS,EAA5D,UAAA,EAAA,CAAA,EAAA,IAAA,EAAK,QAAQ,EAAb,EAAA,EAAA,IAAA,EAAiB,QAAQ,EAAzB,CAAA,EAAA;;IAmLA,OAAA,SAAC,CAAD;CAAC,EAAD,CAAA,CAAC;AApND;;;;;;AA4NA,SAAS,oBAAoB,CAC3B,MAAwB,EAAE,cAAgC,EAD5D;IAEE,OAAFD,QAAA,CAAA,EAAA,EAAc,cAAc,EAAK,MAAM,CAAvC,CAA0C;CACzC;;;;;;ADlQD;AAoBA,IAAM,mBAAmB,GAAG;IAC1B,eAAe;IACf,gBAAgB;IAChB,eAAe;IACf,kBAAkB;IAClB,kBAAkB;IAClB,eAAe;IACf,gBAAgB;IAChB,cAAc;IACd,gBAAgB;IAChB,gBAAgB;IAChB,cAAc;CACf,CAAD;AAEA,AAAA,IAAA,eAAA,kBAAA,YAAA;IAAA,SAAA,eAAA,GAAA;KAagC;;QAbhC,EAAA,IAAA,EAAC,QAAQ,EAAT,IAAA,EAAA,CAAU;oBACR,OAAO,EAAE;wBACP,aAAa;wBACb,YAAY;qBACb;oBACD,OAAO,EAAE,mBAAmB;oBAC5B,YAAY,EAAE,mBAAmB;oBACjC,SAAS,EAAE,CAAC,SAAS,CAAC;oBACtB,eAAe,EAAE;wBACf,eAAe;wBACf,kBAAkB;qBACnB;iBACF,EAAD,EAAA;;IAC+B,OAA/B,eAAgC,CAAhC;CAAgC,EAAhC,CAAA;;;;;;;;;;;;;;"}