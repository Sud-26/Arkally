{"version":3,"file":"top-app-bar.es5.js","sources":["../../../packages/top-app-bar/top-app-bar-module.ts","../../../packages/top-app-bar/top-app-bar.ts","../../../node_modules/@material/top-app-bar/index.js","../../../node_modules/@material/top-app-bar/standard/foundation.js","../../../node_modules/@material/top-app-bar/short/foundation.js","../../../node_modules/@material/top-app-bar/fixed/foundation.js","../../../node_modules/@material/top-app-bar/foundation.js","../../../node_modules/@material/ripple/index.js","../../../node_modules/@material/ripple/foundation.js","../../../node_modules/@material/ripple/util.js","../../../node_modules/@material/ripple/constants.js","../../../node_modules/@material/ripple/adapter.js","../../../node_modules/@material/base/component.js","../../../node_modules/@material/base/foundation.js","../../../node_modules/@material/top-app-bar/adapter.js","../../../node_modules/@material/top-app-bar/constants.js","../../../packages/top-app-bar/top-app-bar.directives.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { MdcTopAppBar } from './top-app-bar';\r\nimport {\r\n  MdcTopAppBarActionItem,\r\n  MdcTopAppBarFixedAdjust,\r\n  MdcTopAppBarNavigationIcon,\r\n  MdcTopAppBarRow,\r\n  MdcTopAppBarSection,\r\n  MdcTopAppBarTitle\r\n} from './top-app-bar.directives';\r\n\r\nconst TOP_APP_BAR_DECLARATIONS = [\r\n  MdcTopAppBar,\r\n  MdcTopAppBarActionItem,\r\n  MdcTopAppBarFixedAdjust,\r\n  MdcTopAppBarNavigationIcon,\r\n  MdcTopAppBarRow,\r\n  MdcTopAppBarSection,\r\n  MdcTopAppBarTitle\r\n];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  exports: TOP_APP_BAR_DECLARATIONS,\r\n  declarations: TOP_APP_BAR_DECLARATIONS\r\n})\r\nexport class MdcTopAppBarModule { }\r\n","import {\r\n  AfterContentInit,\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  ContentChildren,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  NgZone,\r\n  OnDestroy,\r\n  Output,\r\n  QueryList,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { fromEvent, Subject, Subscription } from 'rxjs';\r\nimport { takeUntil, startWith } from 'rxjs/operators';\r\n\r\nimport { Platform, toBoolean } from '@angular-mdc/web/common';\r\n\r\nimport {\r\n  MdcTopAppBarActionItem,\r\n  MdcTopAppBarNavigationIcon,\r\n} from './top-app-bar.directives';\r\n\r\nimport { cssClasses } from '@material/top-app-bar/constants';\r\nimport {\r\n  MDCTopAppBarFoundation,\r\n  MDCShortTopAppBarFoundation,\r\n  MDCFixedTopAppBarFoundation\r\n} from '@material/top-app-bar/index';\r\n\r\n/** Event object emitted by MdcTopAppBar navigation icon selected. */\r\nexport class MdcTopAppBarNavSelected {\r\n  constructor(\r\n    public source: MdcTopAppBar) { }\r\n}\r\n\r\n@Component({\r\n  selector: 'mdc-top-app-bar, [mdc-top-app-bar]',\r\n  exportAs: 'mdcTopAppBar',\r\n  host: {\r\n    'class': 'mdc-top-app-bar',\r\n    '[class.mdc-top-app-bar--prominent]': 'prominent',\r\n    '[class.mdc-top-app-bar--dense]': 'dense',\r\n    '[class.mdc-top-app-bar--short]': 'short',\r\n    '[class.mdc-top-app-bar--fixed]': 'fixed'\r\n  },\r\n  template: '<ng-content></ng-content>',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class MdcTopAppBar implements AfterContentInit, AfterViewInit, OnDestroy {\r\n  /** Emits whenever the component is destroyed. */\r\n  private _destroyed = new Subject<void>();\r\n\r\n  private _isFoundationInit: boolean = false;\r\n\r\n  @Input()\r\n  get fixed(): boolean { return this._fixed; }\r\n  set fixed(value: boolean) {\r\n    if (value !== this._fixed) {\r\n      this.setFixed(value);\r\n    }\r\n  }\r\n  private _fixed: boolean = false;\r\n\r\n  @Input()\r\n  get prominent(): boolean { return this._prominent; }\r\n  set prominent(value: boolean) {\r\n    if (value !== this._prominent) {\r\n      this.setProminent(value);\r\n    }\r\n  }\r\n  private _prominent: boolean = false;\r\n\r\n  @Input()\r\n  get short(): boolean { return this._short; }\r\n  set short(value: boolean) {\r\n    if (value !== this._short) {\r\n      this.setShort(value);\r\n    }\r\n  }\r\n  private _short: boolean = false;\r\n\r\n  @Input()\r\n  get shortCollapsed(): boolean { return this._shortCollapsed; }\r\n  set shortCollapsed(value: boolean) {\r\n    if (value !== this._shortCollapsed) {\r\n      this.setShortCollapsed(value);\r\n    }\r\n  }\r\n  private _shortCollapsed: boolean = false;\r\n\r\n  @Input()\r\n  get dense(): boolean { return this._dense; }\r\n  set dense(value: boolean) {\r\n    if (value !== this._dense) {\r\n      this.setDense(value);\r\n    }\r\n  }\r\n  private _dense: boolean = false;\r\n\r\n  @Input()\r\n  get fixedAdjustElement(): HTMLElement | null { return this._fixedAdjustElement; }\r\n  set fixedAdjustElement(element: HTMLElement | null) {\r\n    if (this._fixedAdjustElement !== element) {\r\n      this._fixedAdjustElement = element;\r\n      this._initTopAppBar();\r\n    }\r\n  }\r\n  private _fixedAdjustElement: HTMLElement | null = null;\r\n\r\n  @Input()\r\n  get scrollTarget(): any { return this._scrollTarget; }\r\n  set scrollTarget(target: any) {\r\n    if (target !== this._scrollTarget) {\r\n      this._scrollTarget = target ? target : this._platform.isBrowser ? window : undefined;\r\n      this._initScrollHandler();\r\n    }\r\n  }\r\n  private _scrollTarget: any = this._platform.isBrowser ? this._scrollTarget || window : undefined;\r\n\r\n  /** Event emitted when the navigation icon is selected. */\r\n  @Output() readonly navigationSelected: EventEmitter<MdcTopAppBarNavSelected> =\r\n    new EventEmitter<MdcTopAppBarNavSelected>();\r\n\r\n  @ContentChild(MdcTopAppBarNavigationIcon) navigationIcon?: MdcTopAppBarNavigationIcon;\r\n  @ContentChildren(MdcTopAppBarActionItem, { descendants: true }) actions!: QueryList<MdcTopAppBarActionItem>;\r\n\r\n  private _scrollTargetSubscription: Subscription | null = null;\r\n\r\n  private _createAdapter() {\r\n    return {\r\n      hasClass: (className: string) => this._getHostElement().classList.contains(className),\r\n      addClass: (className: string) => this._getHostElement().classList.add(className),\r\n      removeClass: (className: string) => {\r\n        if (className === cssClasses.SHORT_COLLAPSED_CLASS && this.shortCollapsed) {\r\n          return;\r\n        }\r\n        this._getHostElement().classList.remove(className);\r\n      },\r\n      setStyle: (property: string, value: string) => this._getHostElement().style.setProperty(property, value),\r\n      getTopAppBarHeight: () => this._getHostElement().clientHeight,\r\n      notifyNavigationIconClicked: () => this.navigationSelected.emit({ source: this }),\r\n      registerResizeHandler: (handler: EventListener) => {\r\n        if (!this._platform.isBrowser) { return; }\r\n\r\n        window.addEventListener('resize', handler);\r\n      },\r\n      deregisterResizeHandler: (handler: EventListener) => {\r\n        if (!this._platform.isBrowser) { return; }\r\n\r\n        window.removeEventListener('resize', handler);\r\n      },\r\n      getViewportScrollY: () => {\r\n        if (!this._platform.isBrowser) { return 0; }\r\n\r\n        return this._scrollTarget[this._scrollTarget === window ? 'pageYOffset' : 'scrollTop'];\r\n      },\r\n      getTotalActionItems: () => this.actions ? this.actions.length : 0\r\n    };\r\n  }\r\n\r\n  private _foundation!: {\r\n    init(): void,\r\n    destroy(): void,\r\n    fixedScrollHandler_(): void,\r\n    shortAppBarScrollHandler_(): void,\r\n    topAppBarScrollHandler_(): void\r\n  };\r\n\r\n  constructor(\r\n    private _ngZone: NgZone,\r\n    private _platform: Platform,\r\n    private _changeDetectorRef: ChangeDetectorRef,\r\n    public elementRef: ElementRef) { }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.actions.changes.pipe(startWith(null), takeUntil(this._destroyed))\r\n      .subscribe(() => {\r\n        if (this.short && this.actions.length) {\r\n          this._getHostElement().classList.toggle(cssClasses.SHORT_HAS_ACTION_ITEM_CLASS);\r\n        }\r\n      });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (!this._isFoundationInit) {\r\n      this._initFoundation();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._destroyed.next();\r\n    this._destroyed.complete();\r\n\r\n    if (this._scrollTargetSubscription) {\r\n      this._scrollTargetSubscription.unsubscribe();\r\n    }\r\n    this._destroyFoundation();\r\n  }\r\n\r\n  /** Sets the top app bar to fixed or not. */\r\n  setFixed(fixed: boolean, isUserInput: boolean = true): void {\r\n    this._fixed = toBoolean(fixed);\r\n\r\n    if (this.fixed && this.short) {\r\n      this.setShort(false, false);\r\n    }\r\n\r\n    if (isUserInput) {\r\n      this._initFoundation();\r\n    }\r\n  }\r\n\r\n  /** Sets the top app bar to prominent or not. */\r\n  setProminent(prominent: boolean, isUserInput: boolean = true): void {\r\n    this._prominent = toBoolean(prominent);\r\n\r\n    if (this.prominent && this.short) {\r\n      this.setShort(false, false);\r\n    }\r\n\r\n    if (isUserInput) {\r\n      this._initFoundation();\r\n    }\r\n  }\r\n\r\n  /** Sets the top app bar to dense variant. */\r\n  setDense(dense: boolean, isUserInput: boolean = true): void {\r\n    this._dense = toBoolean(dense);\r\n\r\n    if (this.dense && this.short) {\r\n      this.setShort(false, false);\r\n    }\r\n\r\n    if (isUserInput) {\r\n      this._initFoundation();\r\n    }\r\n  }\r\n\r\n  /** Sets the top app bar to short or not. */\r\n  setShort(short: boolean, isUserInput: boolean = true): void {\r\n    this._short = toBoolean(short);\r\n\r\n    if (this.short) {\r\n      this.setProminent(false, false);\r\n      this.setDense(false, false);\r\n      this.setFixed(false, false);\r\n    } else {\r\n      this.setShortCollapsed(false, false);\r\n    }\r\n\r\n    if (isUserInput) {\r\n      this._initFoundation();\r\n    }\r\n  }\r\n\r\n  /** Sets the top app bar to short-collapsed or not. */\r\n  setShortCollapsed(shortCollapsed: boolean, isUserInput: boolean = true): void {\r\n    this._shortCollapsed = toBoolean(shortCollapsed);\r\n\r\n    if (this.shortCollapsed && !this.short) {\r\n      this.setShort(true, false);\r\n    }\r\n\r\n    if (isUserInput) {\r\n      this._initFoundation();\r\n    }\r\n  }\r\n\r\n  isCollapsed(): boolean {\r\n    return this._getHostElement().classList.contains(cssClasses.SHORT_COLLAPSED_CLASS);\r\n  }\r\n\r\n  private _initFoundation(): void {\r\n    this._destroyFoundation();\r\n\r\n    this._getHostElement().style.top = '0px';\r\n    this._resetFixedShort();\r\n\r\n    if (this.short) {\r\n      this._foundation = new MDCShortTopAppBarFoundation(this._createAdapter());\r\n    } else if (this.fixed) {\r\n      this._foundation = new MDCFixedTopAppBarFoundation(this._createAdapter());\r\n    } else {\r\n      this._foundation = new MDCTopAppBarFoundation(this._createAdapter());\r\n    }\r\n\r\n    this._foundation.init();\r\n    this._isFoundationInit = true;\r\n\r\n    this._initTopAppBar();\r\n    this._initScrollHandler();\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  private _resetFixedShort(): void {\r\n    this._getHostElement().classList.remove(cssClasses.SHORT_HAS_ACTION_ITEM_CLASS);\r\n    this._getHostElement().classList.remove(cssClasses.SHORT_COLLAPSED_CLASS);\r\n    this._getHostElement().classList.remove(cssClasses.FIXED_SCROLLED_CLASS);\r\n  }\r\n\r\n  private _initTopAppBar(): void {\r\n    if (!this.fixed) {\r\n      this._getHostElement().classList.remove(cssClasses.FIXED_SCROLLED_CLASS);\r\n    }\r\n\r\n    if (this.fixed && this._getScrollOffset() > 0) {\r\n      this._getHostElement().classList.add(cssClasses.FIXED_SCROLLED_CLASS);\r\n    }\r\n\r\n    if (!this.short) {\r\n      this._getHostElement().classList.remove(cssClasses.SHORT_HAS_ACTION_ITEM_CLASS);\r\n      this._getHostElement().classList.remove(cssClasses.SHORT_COLLAPSED_CLASS);\r\n    }\r\n    if (this.short && this._getScrollOffset() > 0) {\r\n      this._getHostElement().classList.add(cssClasses.SHORT_COLLAPSED_CLASS);\r\n    }\r\n\r\n    if (this.shortCollapsed) {\r\n      this._getHostElement().classList.add(cssClasses.SHORT_COLLAPSED_CLASS);\r\n    }\r\n\r\n    if (this.fixedAdjustElement) {\r\n      this._removeFixedAdjustClasses();\r\n      this._addFixedAdjustClass();\r\n    }\r\n  }\r\n\r\n  private _removeFixedAdjustClasses(): void {\r\n    this.fixedAdjustElement!.classList.remove('mdc-top-app-bar--short-fixed-adjust');\r\n    this.fixedAdjustElement!.classList.remove('mdc-top-app-bar--fixed-adjust');\r\n    this.fixedAdjustElement!.classList.remove('mdc-top-app-bar--dense-fixed-adjust');\r\n    this.fixedAdjustElement!.classList.remove('mdc-top-app-bar--prominent-fixed-adjust');\r\n    this.fixedAdjustElement!.classList.remove('mdc-top-app-bar--dense-prominent-fixed-adjust');\r\n  }\r\n\r\n  private _addFixedAdjustClass(): void {\r\n    if (this._short) {\r\n      this.fixedAdjustElement!.classList.add('mdc-top-app-bar--short-fixed-adjust');\r\n    } else if (this._dense && this._prominent) {\r\n      this.fixedAdjustElement!.classList.add('mdc-top-app-bar--dense-prominent-fixed-adjust');\r\n    } else if (this._dense) {\r\n      this.fixedAdjustElement!.classList.add('mdc-top-app-bar--dense-fixed-adjust');\r\n    } else if (this._prominent) {\r\n      this.fixedAdjustElement!.classList.add('mdc-top-app-bar--prominent-fixed-adjust');\r\n    } else {\r\n      this.fixedAdjustElement!.classList.add('mdc-top-app-bar--fixed-adjust');\r\n    }\r\n  }\r\n\r\n  private _destroyFoundation(): void {\r\n    if (this._foundation) {\r\n      this._foundation.destroy();\r\n    }\r\n  }\r\n\r\n  private _initScrollHandler(): void {\r\n    if (this._scrollTargetSubscription) {\r\n      this._scrollTargetSubscription.unsubscribe();\r\n    }\r\n    if (!this._platform.isBrowser) {\r\n      return;\r\n    }\r\n\r\n    this._scrollTargetSubscription = this._ngZone.runOutsideAngular(() =>\r\n      fromEvent<Event>(this.scrollTarget || window, 'scroll')\r\n        .subscribe(() => this._ngZone.run(() => {\r\n          if (this.fixed) {\r\n            this._foundation.fixedScrollHandler_();\r\n          } else if (this.short) {\r\n            this._foundation.shortAppBarScrollHandler_();\r\n          } else {\r\n            this._foundation.topAppBarScrollHandler_();\r\n          }\r\n        })));\r\n  }\r\n\r\n  private _getScrollOffset(): number {\r\n    if (!this._platform.isBrowser) { return 0; }\r\n    return this.scrollTarget ? this.scrollTarget.scrollTop : window.pageYOffset;\r\n  }\r\n\r\n  /** Retrieves the DOM element of the component host. */\r\n  private _getHostElement(): HTMLElement {\r\n    return this.elementRef.nativeElement;\r\n  }\r\n}\r\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCTopAppBarAdapter from './adapter';\nimport MDCComponent from '@material/base/component';\nimport {MDCRipple} from '@material/ripple/index';\nimport {cssClasses, strings} from './constants';\nimport MDCTopAppBarBaseFoundation from './foundation';\nimport MDCFixedTopAppBarFoundation from './fixed/foundation';\nimport MDCShortTopAppBarFoundation from './short/foundation';\nimport MDCTopAppBarFoundation from './standard/foundation';\n\n/**\n * @extends {MDCComponent<!MDCTopAppBarBaseFoundation>}\n * @final\n */\nclass MDCTopAppBar extends MDCComponent {\n  /**\n   * @param {...?} args\n   */\n  constructor(...args) {\n    super(...args);\n    /** @private {?Element} */\n    this.navIcon_;\n    /** @type {?Array<MDCRipple>} */\n    this.iconRipples_;\n    /** @type {Object} */\n    this.scrollTarget_;\n  }\n\n  initialize(\n    rippleFactory = (el) => MDCRipple.attachTo(el)) {\n    this.navIcon_ = this.root_.querySelector(strings.NAVIGATION_ICON_SELECTOR);\n\n    // Get all icons in the toolbar and instantiate the ripples\n    const icons = [].slice.call(this.root_.querySelectorAll(strings.ACTION_ITEM_SELECTOR));\n    if (this.navIcon_) {\n      icons.push(this.navIcon_);\n    }\n\n    this.iconRipples_ = icons.map((icon) => {\n      const ripple = rippleFactory(icon);\n      ripple.unbounded = true;\n      return ripple;\n    });\n\n    this.scrollTarget_ = window;\n  }\n\n  destroy() {\n    this.iconRipples_.forEach((iconRipple) => iconRipple.destroy());\n    super.destroy();\n  }\n\n  setScrollTarget(target) {\n    this.foundation_.destroyScrollHandler();\n    this.scrollTarget_ = target;\n    this.foundation_.initScrollHandler();\n  }\n\n  /**\n   * @param {!Element} root\n   * @return {!MDCTopAppBar}\n   */\n  static attachTo(root) {\n    return new MDCTopAppBar(root);\n  }\n\n  /**\n   * @return {!MDCTopAppBarBaseFoundation}\n   */\n  getDefaultFoundation() {\n    /** @type {!MDCTopAppBarAdapter} */\n    const adapter = /** @type {!MDCTopAppBarAdapter} */ (Object.assign({\n      hasClass: (className) => this.root_.classList.contains(className),\n      addClass: (className) => this.root_.classList.add(className),\n      removeClass: (className) => this.root_.classList.remove(className),\n      setStyle: (property, value) => this.root_.style.setProperty(property, value),\n      getTopAppBarHeight: () => this.root_.clientHeight,\n      registerNavigationIconInteractionHandler: (evtType, handler) => {\n        if (this.navIcon_) {\n          this.navIcon_.addEventListener(evtType, handler);\n        }\n      },\n      deregisterNavigationIconInteractionHandler: (evtType, handler) => {\n        if (this.navIcon_) {\n          this.navIcon_.removeEventListener(evtType, handler);\n        }\n      },\n      notifyNavigationIconClicked: () => {\n        this.emit(strings.NAVIGATION_EVENT, {});\n      },\n      registerScrollHandler: (handler) => this.scrollTarget_.addEventListener('scroll', handler),\n      deregisterScrollHandler: (handler) => this.scrollTarget_.removeEventListener('scroll', handler),\n      registerResizeHandler: (handler) => window.addEventListener('resize', handler),\n      deregisterResizeHandler: (handler) => window.removeEventListener('resize', handler),\n      getViewportScrollY: () =>\n        this.scrollTarget_[this.scrollTarget_ === window ? 'pageYOffset' : 'scrollTop'],\n      getTotalActionItems: () =>\n        this.root_.querySelectorAll(strings.ACTION_ITEM_SELECTOR).length,\n    })\n    );\n\n    /** @type {!MDCTopAppBarBaseFoundation} */\n    let foundation;\n    if (this.root_.classList.contains(cssClasses.SHORT_CLASS)) {\n      foundation = new MDCShortTopAppBarFoundation(adapter);\n    } else if (this.root_.classList.contains(cssClasses.FIXED_CLASS)) {\n      foundation = new MDCFixedTopAppBarFoundation(adapter);\n    } else {\n      foundation = new MDCTopAppBarFoundation(adapter);\n    }\n\n    return foundation;\n  }\n}\n\nexport {MDCTopAppBar, MDCTopAppBarBaseFoundation,\n  MDCTopAppBarFoundation, MDCFixedTopAppBarFoundation,\n  MDCShortTopAppBarFoundation};\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCTopAppBarAdapter from '../adapter';\nimport MDCTopAppBarBaseFoundation from '../foundation';\nimport {numbers} from '../constants';\n\nconst INITIAL_VALUE = 0;\n/**\n * @extends {MDCTopAppBarBaseFoundation<!MDCTopAppBarFoundation>}\n * @final\n */\nclass MDCTopAppBarFoundation extends MDCTopAppBarBaseFoundation {\n  /**\n   * @param {!MDCTopAppBarAdapter} adapter\n   */\n  constructor(adapter) {\n    super(adapter);\n    /**\n     * Used for diffs of current scroll position vs previous scroll position\n     * @private {number}\n     */\n    this.lastScrollPosition_ = this.adapter_.getViewportScrollY();\n\n    /**\n     * Used to verify when the top app bar is completely showing or completely hidden\n     * @private {number}\n     */\n    this.topAppBarHeight_ = this.adapter_.getTopAppBarHeight();\n\n    /**\n     * wasDocked_ is used to indicate if the top app bar was docked in the previous\n     * scroll handler iteration.\n     * @private {boolean}\n     */\n    this.wasDocked_ = true;\n\n    /**\n     * isDockedShowing_ is used to indicate if the top app bar is docked in the fully\n     * shown position.\n     * @private {boolean}\n     */\n    this.isDockedShowing_ = true;\n\n    /**\n     * Variable for current scroll position of the top app bar\n     * @private {number}\n     */\n    this.currentAppBarOffsetTop_ = 0;\n\n    /**\n     * Used to prevent the top app bar from being scrolled out of view during resize events\n     * @private {boolean} */\n    this.isCurrentlyBeingResized_ = false;\n\n    /**\n     * The timeout that's used to throttle the resize events\n     * @private {number}\n     */\n    this.resizeThrottleId_ = INITIAL_VALUE;\n\n    /**\n     * The timeout that's used to debounce toggling the isCurrentlyBeingResized_ variable after a resize\n     * @private {number}\n     */\n    this.resizeDebounceId_ = INITIAL_VALUE;\n\n    this.scrollHandler_ = () => this.topAppBarScrollHandler_();\n    this.resizeHandler_ = () => this.topAppBarResizeHandler_();\n  }\n\n  init() {\n    super.init();\n    this.adapter_.registerScrollHandler(this.scrollHandler_);\n    this.adapter_.registerResizeHandler(this.resizeHandler_);\n  }\n\n  destroy() {\n    super.destroy();\n    this.adapter_.deregisterScrollHandler(this.scrollHandler_);\n    this.adapter_.deregisterResizeHandler(this.resizeHandler_);\n    this.adapter_.setStyle('top', '');\n  }\n\n  /**\n   * Function to determine if the DOM needs to update.\n   * @return {boolean}\n   * @private\n   */\n  checkForUpdate_() {\n    const offscreenBoundaryTop = -this.topAppBarHeight_;\n    const hasAnyPixelsOffscreen = this.currentAppBarOffsetTop_ < 0;\n    const hasAnyPixelsOnscreen = this.currentAppBarOffsetTop_ > offscreenBoundaryTop;\n    const partiallyShowing = hasAnyPixelsOffscreen && hasAnyPixelsOnscreen;\n\n    // If it's partially showing, it can't be docked.\n    if (partiallyShowing) {\n      this.wasDocked_ = false;\n    } else {\n      // Not previously docked and not partially showing, it's now docked.\n      if (!this.wasDocked_) {\n        this.wasDocked_ = true;\n        return true;\n      } else if (this.isDockedShowing_ !== hasAnyPixelsOnscreen) {\n        this.isDockedShowing_ = hasAnyPixelsOnscreen;\n        return true;\n      }\n    }\n\n    return partiallyShowing;\n  }\n\n  /**\n   * Function to move the top app bar if needed.\n   * @private\n   */\n  moveTopAppBar_() {\n    if (this.checkForUpdate_()) {\n      // Once the top app bar is fully hidden we use the max potential top app bar height as our offset\n      // so the top app bar doesn't show if the window resizes and the new height > the old height.\n      let offset = this.currentAppBarOffsetTop_;\n      if (Math.abs(offset) >= this.topAppBarHeight_) {\n        offset = -numbers.MAX_TOP_APP_BAR_HEIGHT;\n      }\n\n      this.adapter_.setStyle('top', offset + 'px');\n    }\n  }\n\n  /**\n   * Scroll handler for the default scroll behavior of the top app bar.\n   * @private\n   */\n  topAppBarScrollHandler_() {\n    const currentScrollPosition = Math.max(this.adapter_.getViewportScrollY(), 0);\n    const diff = currentScrollPosition - this.lastScrollPosition_;\n    this.lastScrollPosition_ = currentScrollPosition;\n\n    // If the window is being resized the lastScrollPosition_ needs to be updated but the\n    // current scroll of the top app bar should stay in the same position.\n    if (!this.isCurrentlyBeingResized_) {\n      this.currentAppBarOffsetTop_ -= diff;\n\n      if (this.currentAppBarOffsetTop_ > 0) {\n        this.currentAppBarOffsetTop_ = 0;\n      } else if (Math.abs(this.currentAppBarOffsetTop_) > this.topAppBarHeight_) {\n        this.currentAppBarOffsetTop_ = -this.topAppBarHeight_;\n      }\n\n      this.moveTopAppBar_();\n    }\n  }\n\n  /**\n   * Top app bar resize handler that throttle/debounce functions that execute updates.\n   * @private\n   */\n  topAppBarResizeHandler_() {\n    // Throttle resize events 10 p/s\n    if (!this.resizeThrottleId_) {\n      this.resizeThrottleId_ = setTimeout(() => {\n        this.resizeThrottleId_ = INITIAL_VALUE;\n        this.throttledResizeHandler_();\n      }, numbers.DEBOUNCE_THROTTLE_RESIZE_TIME_MS);\n    }\n\n    this.isCurrentlyBeingResized_ = true;\n\n    if (this.resizeDebounceId_) {\n      clearTimeout(this.resizeDebounceId_);\n    }\n\n    this.resizeDebounceId_ = setTimeout(() => {\n      this.topAppBarScrollHandler_();\n      this.isCurrentlyBeingResized_ = false;\n      this.resizeDebounceId_ = INITIAL_VALUE;\n    }, numbers.DEBOUNCE_THROTTLE_RESIZE_TIME_MS);\n  }\n\n  /**\n   * Throttled function that updates the top app bar scrolled values if the\n   * top app bar height changes.\n   * @private\n   */\n  throttledResizeHandler_() {\n    const currentHeight = this.adapter_.getTopAppBarHeight();\n    if (this.topAppBarHeight_ !== currentHeight) {\n      this.wasDocked_ = false;\n\n      // Since the top app bar has a different height depending on the screen width, this\n      // will ensure that the top app bar remains in the correct location if\n      // completely hidden and a resize makes the top app bar a different height.\n      this.currentAppBarOffsetTop_ -= this.topAppBarHeight_ - currentHeight;\n      this.topAppBarHeight_ = currentHeight;\n    }\n    this.topAppBarScrollHandler_();\n  }\n}\n\nexport default MDCTopAppBarFoundation;\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCTopAppBarAdapter from '../adapter';\nimport MDCTopAppBarBaseFoundation from '../foundation';\nimport {cssClasses} from '../constants';\n\n/**\n * @extends {MDCTopAppBarBaseFoundation<!MDCShortTopAppBarFoundation>}\n * @final\n */\nclass MDCShortTopAppBarFoundation extends MDCTopAppBarBaseFoundation {\n  /**\n   * @param {!MDCTopAppBarAdapter} adapter\n   */\n  constructor(adapter) {\n    super(adapter);\n    // State variable for the current top app bar state\n    this.isCollapsed = false;\n\n    this.scrollHandler_ = () => this.shortAppBarScrollHandler_();\n  }\n\n  init() {\n    super.init();\n    const isAlwaysCollapsed = this.adapter_.hasClass(cssClasses.SHORT_COLLAPSED_CLASS);\n\n    if (this.adapter_.getTotalActionItems() > 0) {\n      this.adapter_.addClass(cssClasses.SHORT_HAS_ACTION_ITEM_CLASS);\n    }\n\n    if (!isAlwaysCollapsed) {\n      this.adapter_.registerScrollHandler(this.scrollHandler_);\n      this.shortAppBarScrollHandler_();\n    }\n  }\n\n  destroy() {\n    super.destroy();\n    this.adapter_.deregisterScrollHandler(this.scrollHandler_);\n  }\n\n\n  /**\n   * Scroll handler for applying/removing the collapsed modifier class\n   * on the short top app bar.\n   * @private\n   */\n  shortAppBarScrollHandler_() {\n    const currentScroll = this.adapter_.getViewportScrollY();\n\n    if (currentScroll <= 0) {\n      if (this.isCollapsed) {\n        this.adapter_.removeClass(cssClasses.SHORT_COLLAPSED_CLASS);\n        this.isCollapsed = false;\n      }\n    } else {\n      if (!this.isCollapsed) {\n        this.adapter_.addClass(cssClasses.SHORT_COLLAPSED_CLASS);\n        this.isCollapsed = true;\n      }\n    }\n  }\n}\n\nexport default MDCShortTopAppBarFoundation;\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport {cssClasses} from '../constants';\nimport MDCTopAppBarAdapter from '../adapter';\nimport MDCTopAppBarFoundation from '../foundation';\n\n/**\n * @extends {MDCTopAppBarFoundation<!MDCFixedTopAppBarFoundation>}\n * @final\n */\nclass MDCFixedTopAppBarFoundation extends MDCTopAppBarFoundation {\n  /**\n   * @param {!MDCTopAppBarAdapter} adapter\n   */\n  constructor(adapter) {\n    super(adapter);\n    /** State variable for the previous scroll iteration top app bar state */\n    this.wasScrolled_ = false;\n\n    this.scrollHandler_ = () => this.fixedScrollHandler_();\n  }\n\n  init() {\n    super.init();\n    this.adapter_.registerScrollHandler(this.scrollHandler_);\n  }\n\n  destroy() {\n    super.destroy();\n    this.adapter_.deregisterScrollHandler(this.scrollHandler_);\n  }\n\n  /**\n   * Scroll handler for applying/removing the modifier class\n   * on the fixed top app bar.\n   */\n  fixedScrollHandler_() {\n    const currentScroll = this.adapter_.getViewportScrollY();\n\n    if (currentScroll <= 0) {\n      if (this.wasScrolled_) {\n        this.adapter_.removeClass(cssClasses.FIXED_SCROLLED_CLASS);\n        this.wasScrolled_ = false;\n      }\n    } else {\n      if (!this.wasScrolled_) {\n        this.adapter_.addClass(cssClasses.FIXED_SCROLLED_CLASS);\n        this.wasScrolled_ = true;\n      }\n    }\n  }\n}\n\nexport default MDCFixedTopAppBarFoundation;\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport {strings, cssClasses, numbers} from './constants';\nimport MDCTopAppBarAdapter from './adapter';\nimport MDCFoundation from '@material/base/foundation';\n\n/**\n * @extends {MDCFoundation<!MDCTopAppBarAdapter>}\n */\nclass MDCTopAppBarBaseFoundation extends MDCFoundation {\n  /** @return enum {string} */\n  static get strings() {\n    return strings;\n  }\n\n  /** @return enum {string} */\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  /** @return enum {number} */\n  static get numbers() {\n    return numbers;\n  }\n\n  /**\n   * {@see MDCTopAppBarAdapter} for typing information on parameters and return\n   * types.\n   * @return {!MDCTopAppBarAdapter}\n   */\n  static get defaultAdapter() {\n    return /** @type {!MDCTopAppBarAdapter} */ ({\n      hasClass: (/* className: string */) => {},\n      addClass: (/* className: string */) => {},\n      removeClass: (/* className: string */) => {},\n      setStyle: (/* property: string, value: string */) => {},\n      getTopAppBarHeight: () => {},\n      registerNavigationIconInteractionHandler: (/* type: string, handler: EventListener */) => {},\n      deregisterNavigationIconInteractionHandler: (/* type: string, handler: EventListener */) => {},\n      notifyNavigationIconClicked: () => {},\n      registerScrollHandler: (/* handler: EventListener */) => {},\n      deregisterScrollHandler: (/* handler: EventListener */) => {},\n      registerResizeHandler: (/* handler: EventListener */) => {},\n      deregisterResizeHandler: (/* handler: EventListener */) => {},\n      getViewportScrollY: () => /* number */ 0,\n      getTotalActionItems: () => /* number */ 0,\n    });\n  }\n\n  /**\n   * @param {!MDCTopAppBarAdapter} adapter\n   */\n  constructor(/** @type {!MDCTopAppBarAdapter} */ adapter) {\n    super(Object.assign(MDCTopAppBarBaseFoundation.defaultAdapter, adapter));\n\n    this.navClickHandler_ = () => this.adapter_.notifyNavigationIconClicked();\n\n    this.scrollHandler_ = () => {};\n  }\n\n  init() {\n    this.adapter_.registerNavigationIconInteractionHandler('click', this.navClickHandler_);\n  }\n\n  destroy() {\n    this.adapter_.deregisterNavigationIconInteractionHandler('click', this.navClickHandler_);\n  }\n\n  initScrollHandler() {\n    this.adapter_.registerScrollHandler(this.scrollHandler_);\n  }\n\n  destroyScrollHandler() {\n    this.adapter_.deregisterScrollHandler(this.scrollHandler_);\n  }\n}\n\nexport default MDCTopAppBarBaseFoundation;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCComponent from '@material/base/component';\nimport MDCRippleAdapter from './adapter';\nimport MDCRippleFoundation from './foundation';\nimport * as util from './util';\n\n/**\n * @extends MDCComponent<!MDCRippleFoundation>\n */\nclass MDCRipple extends MDCComponent {\n  /** @param {...?} args */\n  constructor(...args) {\n    super(...args);\n\n    /** @type {boolean} */\n    this.disabled = false;\n\n    /** @private {boolean} */\n    this.unbounded_;\n  }\n\n  /**\n   * @param {!Element} root\n   * @param {{isUnbounded: (boolean|undefined)}=} options\n   * @return {!MDCRipple}\n   */\n  static attachTo(root, {isUnbounded = undefined} = {}) {\n    const ripple = new MDCRipple(root);\n    // Only override unbounded behavior if option is explicitly specified\n    if (isUnbounded !== undefined) {\n      ripple.unbounded = /** @type {boolean} */ (isUnbounded);\n    }\n    return ripple;\n  }\n\n  /**\n   * @param {!RippleCapableSurface} instance\n   * @return {!MDCRippleAdapter}\n   */\n  static createAdapter(instance) {\n    const MATCHES = util.getMatchesProperty(HTMLElement.prototype);\n\n    return {\n      browserSupportsCssVars: () => util.supportsCssVariables(window),\n      isUnbounded: () => instance.unbounded,\n      isSurfaceActive: () => instance.root_[MATCHES](':active'),\n      isSurfaceDisabled: () => instance.disabled,\n      addClass: (className) => instance.root_.classList.add(className),\n      removeClass: (className) => instance.root_.classList.remove(className),\n      containsEventTarget: (target) => instance.root_.contains(target),\n      registerInteractionHandler: (evtType, handler) =>\n        instance.root_.addEventListener(evtType, handler, util.applyPassive()),\n      deregisterInteractionHandler: (evtType, handler) =>\n        instance.root_.removeEventListener(evtType, handler, util.applyPassive()),\n      registerDocumentInteractionHandler: (evtType, handler) =>\n        document.documentElement.addEventListener(evtType, handler, util.applyPassive()),\n      deregisterDocumentInteractionHandler: (evtType, handler) =>\n        document.documentElement.removeEventListener(evtType, handler, util.applyPassive()),\n      registerResizeHandler: (handler) => window.addEventListener('resize', handler),\n      deregisterResizeHandler: (handler) => window.removeEventListener('resize', handler),\n      updateCssVariable: (varName, value) => instance.root_.style.setProperty(varName, value),\n      computeBoundingRect: () => instance.root_.getBoundingClientRect(),\n      getWindowPageOffset: () => ({x: window.pageXOffset, y: window.pageYOffset}),\n    };\n  }\n\n  /** @return {boolean} */\n  get unbounded() {\n    return this.unbounded_;\n  }\n\n  /** @param {boolean} unbounded */\n  set unbounded(unbounded) {\n    this.unbounded_ = Boolean(unbounded);\n    this.setUnbounded_();\n  }\n\n  /**\n   * Closure Compiler throws an access control error when directly accessing a\n   * protected or private property inside a getter/setter, like unbounded above.\n   * By accessing the protected property inside a method, we solve that problem.\n   * That's why this function exists.\n   * @private\n   */\n  setUnbounded_() {\n    this.foundation_.setUnbounded(this.unbounded_);\n  }\n\n  activate() {\n    this.foundation_.activate();\n  }\n\n  deactivate() {\n    this.foundation_.deactivate();\n  }\n\n  layout() {\n    this.foundation_.layout();\n  }\n\n  /**\n   * @return {!MDCRippleFoundation}\n   * @override\n   */\n  getDefaultFoundation() {\n    return new MDCRippleFoundation(MDCRipple.createAdapter(this));\n  }\n\n  /** @override */\n  initialSyncWithDOM() {\n    this.unbounded = 'mdcRippleIsUnbounded' in this.root_.dataset;\n  }\n}\n\n/**\n * See Material Design spec for more details on when to use ripples.\n * https://material.io/guidelines/motion/choreography.html#choreography-creation\n * @record\n */\nclass RippleCapableSurface {}\n\n/** @protected {!Element} */\nRippleCapableSurface.prototype.root_;\n\n/**\n * Whether or not the ripple bleeds out of the bounds of the element.\n * @type {boolean|undefined}\n */\nRippleCapableSurface.prototype.unbounded;\n\n/**\n * Whether or not the ripple is attached to a disabled component.\n * @type {boolean|undefined}\n */\nRippleCapableSurface.prototype.disabled;\n\nexport {MDCRipple, MDCRippleFoundation, RippleCapableSurface, util};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCFoundation from '@material/base/foundation';\nimport MDCRippleAdapter from './adapter';\nimport {cssClasses, strings, numbers} from './constants';\nimport {getNormalizedEventCoords} from './util';\n\n/**\n * @typedef {{\n *   isActivated: (boolean|undefined),\n *   hasDeactivationUXRun: (boolean|undefined),\n *   wasActivatedByPointer: (boolean|undefined),\n *   wasElementMadeActive: (boolean|undefined),\n *   activationEvent: (!Event|undefined),\n *   isProgrammatic: (boolean|undefined)\n * }}\n */\nlet ActivationStateType;\n\n/**\n * @typedef {{\n *   activate: (string|undefined),\n *   deactivate: (string|undefined),\n *   focus: (string|undefined),\n *   blur: (string|undefined)\n * }}\n */\nlet ListenerInfoType;\n\n/**\n * @typedef {{\n *   activate: function(!Event),\n *   deactivate: function(!Event=),\n *   focus: function(),\n *   blur: function()\n * }}\n */\nlet ListenersType;\n\n/**\n * @typedef {{\n *   x: number,\n *   y: number\n * }}\n */\nlet PointType;\n\n// Activation events registered on the root element of each instance for activation\nconst ACTIVATION_EVENT_TYPES = ['touchstart', 'pointerdown', 'mousedown', 'keydown'];\n\n// Deactivation events registered on documentElement when a pointer-related down event occurs\nconst POINTER_DEACTIVATION_EVENT_TYPES = ['touchend', 'pointerup', 'mouseup', 'contextmenu'];\n\n// Tracks activations that have occurred on the current frame, to avoid simultaneous nested activations\n/** @type {!Array<!EventTarget>} */\nlet activatedTargets = [];\n\n/**\n * @extends {MDCFoundation<!MDCRippleAdapter>}\n */\nclass MDCRippleFoundation extends MDCFoundation {\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  static get strings() {\n    return strings;\n  }\n\n  static get numbers() {\n    return numbers;\n  }\n\n  static get defaultAdapter() {\n    return {\n      browserSupportsCssVars: () => /* boolean - cached */ {},\n      isUnbounded: () => /* boolean */ {},\n      isSurfaceActive: () => /* boolean */ {},\n      isSurfaceDisabled: () => /* boolean */ {},\n      addClass: (/* className: string */) => {},\n      removeClass: (/* className: string */) => {},\n      containsEventTarget: (/* target: !EventTarget */) => {},\n      registerInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      deregisterInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      registerDocumentInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      deregisterDocumentInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      registerResizeHandler: (/* handler: EventListener */) => {},\n      deregisterResizeHandler: (/* handler: EventListener */) => {},\n      updateCssVariable: (/* varName: string, value: string */) => {},\n      computeBoundingRect: () => /* ClientRect */ {},\n      getWindowPageOffset: () => /* {x: number, y: number} */ {},\n    };\n  }\n\n  constructor(adapter) {\n    super(Object.assign(MDCRippleFoundation.defaultAdapter, adapter));\n\n    /** @private {number} */\n    this.layoutFrame_ = 0;\n\n    /** @private {!ClientRect} */\n    this.frame_ = /** @type {!ClientRect} */ ({width: 0, height: 0});\n\n    /** @private {!ActivationStateType} */\n    this.activationState_ = this.defaultActivationState_();\n\n    /** @private {number} */\n    this.initialSize_ = 0;\n\n    /** @private {number} */\n    this.maxRadius_ = 0;\n\n    /** @private {function(!Event)} */\n    this.activateHandler_ = (e) => this.activate_(e);\n\n    /** @private {function(!Event=)} */\n    this.deactivateHandler_ = () => this.deactivate_();\n\n    /** @private {function(!Event=)} */\n    this.focusHandler_ = () => this.handleFocus();\n\n    /** @private {function(!Event=)} */\n    this.blurHandler_ = () => this.handleBlur();\n\n    /** @private {!Function} */\n    this.resizeHandler_ = () => this.layout();\n\n    /** @private {{left: number, top:number}} */\n    this.unboundedCoords_ = {\n      left: 0,\n      top: 0,\n    };\n\n    /** @private {number} */\n    this.fgScale_ = 0;\n\n    /** @private {number} */\n    this.activationTimer_ = 0;\n\n    /** @private {number} */\n    this.fgDeactivationRemovalTimer_ = 0;\n\n    /** @private {boolean} */\n    this.activationAnimationHasEnded_ = false;\n\n    /** @private {!Function} */\n    this.activationTimerCallback_ = () => {\n      this.activationAnimationHasEnded_ = true;\n      this.runDeactivationUXLogicIfReady_();\n    };\n\n    /** @private {!Event|undefined} */\n    this.previousActivationEvent_;\n  }\n\n  /**\n   * We compute this property so that we are not querying information about the client\n   * until the point in time where the foundation requests it. This prevents scenarios where\n   * client-side feature-detection may happen too early, such as when components are rendered on the server\n   * and then initialized at mount time on the client.\n   * @return {boolean}\n   * @private\n   */\n  supportsPressRipple_() {\n    return this.adapter_.browserSupportsCssVars();\n  }\n\n  /**\n   * @return {!ActivationStateType}\n   */\n  defaultActivationState_() {\n    return {\n      isActivated: false,\n      hasDeactivationUXRun: false,\n      wasActivatedByPointer: false,\n      wasElementMadeActive: false,\n      activationEvent: undefined,\n      isProgrammatic: false,\n    };\n  }\n\n  /** @override */\n  init() {\n    const supportsPressRipple = this.supportsPressRipple_();\n\n    this.registerRootHandlers_(supportsPressRipple);\n\n    if (supportsPressRipple) {\n      const {ROOT, UNBOUNDED} = MDCRippleFoundation.cssClasses;\n      requestAnimationFrame(() => {\n        this.adapter_.addClass(ROOT);\n        if (this.adapter_.isUnbounded()) {\n          this.adapter_.addClass(UNBOUNDED);\n          // Unbounded ripples need layout logic applied immediately to set coordinates for both shade and ripple\n          this.layoutInternal_();\n        }\n      });\n    }\n  }\n\n  /** @override */\n  destroy() {\n    if (this.supportsPressRipple_()) {\n      if (this.activationTimer_) {\n        clearTimeout(this.activationTimer_);\n        this.activationTimer_ = 0;\n        this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_ACTIVATION);\n      }\n\n      if (this.fgDeactivationRemovalTimer_) {\n        clearTimeout(this.fgDeactivationRemovalTimer_);\n        this.fgDeactivationRemovalTimer_ = 0;\n        this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_DEACTIVATION);\n      }\n\n      const {ROOT, UNBOUNDED} = MDCRippleFoundation.cssClasses;\n      requestAnimationFrame(() => {\n        this.adapter_.removeClass(ROOT);\n        this.adapter_.removeClass(UNBOUNDED);\n        this.removeCssVars_();\n      });\n    }\n\n    this.deregisterRootHandlers_();\n    this.deregisterDeactivationHandlers_();\n  }\n\n  /**\n   * @param {boolean} supportsPressRipple Passed from init to save a redundant function call\n   * @private\n   */\n  registerRootHandlers_(supportsPressRipple) {\n    if (supportsPressRipple) {\n      ACTIVATION_EVENT_TYPES.forEach((type) => {\n        this.adapter_.registerInteractionHandler(type, this.activateHandler_);\n      });\n      if (this.adapter_.isUnbounded()) {\n        this.adapter_.registerResizeHandler(this.resizeHandler_);\n      }\n    }\n\n    this.adapter_.registerInteractionHandler('focus', this.focusHandler_);\n    this.adapter_.registerInteractionHandler('blur', this.blurHandler_);\n  }\n\n  /**\n   * @param {!Event} e\n   * @private\n   */\n  registerDeactivationHandlers_(e) {\n    if (e.type === 'keydown') {\n      this.adapter_.registerInteractionHandler('keyup', this.deactivateHandler_);\n    } else {\n      POINTER_DEACTIVATION_EVENT_TYPES.forEach((type) => {\n        this.adapter_.registerDocumentInteractionHandler(type, this.deactivateHandler_);\n      });\n    }\n  }\n\n  /** @private */\n  deregisterRootHandlers_() {\n    ACTIVATION_EVENT_TYPES.forEach((type) => {\n      this.adapter_.deregisterInteractionHandler(type, this.activateHandler_);\n    });\n    this.adapter_.deregisterInteractionHandler('focus', this.focusHandler_);\n    this.adapter_.deregisterInteractionHandler('blur', this.blurHandler_);\n\n    if (this.adapter_.isUnbounded()) {\n      this.adapter_.deregisterResizeHandler(this.resizeHandler_);\n    }\n  }\n\n  /** @private */\n  deregisterDeactivationHandlers_() {\n    this.adapter_.deregisterInteractionHandler('keyup', this.deactivateHandler_);\n    POINTER_DEACTIVATION_EVENT_TYPES.forEach((type) => {\n      this.adapter_.deregisterDocumentInteractionHandler(type, this.deactivateHandler_);\n    });\n  }\n\n  /** @private */\n  removeCssVars_() {\n    const {strings} = MDCRippleFoundation;\n    Object.keys(strings).forEach((k) => {\n      if (k.indexOf('VAR_') === 0) {\n        this.adapter_.updateCssVariable(strings[k], null);\n      }\n    });\n  }\n\n  /**\n   * @param {!Event=} e\n   * @private\n   */\n  activate_(e) {\n    if (this.adapter_.isSurfaceDisabled()) {\n      return;\n    }\n\n    const activationState = this.activationState_;\n    if (activationState.isActivated) {\n      return;\n    }\n\n    // Avoid reacting to follow-on events fired by touch device after an already-processed user interaction\n    const previousActivationEvent = this.previousActivationEvent_;\n    const isSameInteraction = previousActivationEvent && e !== undefined && previousActivationEvent.type !== e.type;\n    if (isSameInteraction) {\n      return;\n    }\n\n    activationState.isActivated = true;\n    activationState.isProgrammatic = e === undefined;\n    activationState.activationEvent = e;\n    activationState.wasActivatedByPointer = activationState.isProgrammatic ? false : e !== undefined && (\n      e.type === 'mousedown' || e.type === 'touchstart' || e.type === 'pointerdown'\n    );\n\n    const hasActivatedChild = e !== undefined && activatedTargets.length > 0 && activatedTargets.some(\n      (target) => this.adapter_.containsEventTarget(target));\n    if (hasActivatedChild) {\n      // Immediately reset activation state, while preserving logic that prevents touch follow-on events\n      this.resetActivationState_();\n      return;\n    }\n\n    if (e !== undefined) {\n      activatedTargets.push(/** @type {!EventTarget} */ (e.target));\n      this.registerDeactivationHandlers_(e);\n    }\n\n    activationState.wasElementMadeActive = this.checkElementMadeActive_(e);\n    if (activationState.wasElementMadeActive) {\n      this.animateActivation_();\n    }\n\n    requestAnimationFrame(() => {\n      // Reset array on next frame after the current event has had a chance to bubble to prevent ancestor ripples\n      activatedTargets = [];\n\n      if (!activationState.wasElementMadeActive && e !== undefined && (e.key === ' ' || e.keyCode === 32)) {\n        // If space was pressed, try again within an rAF call to detect :active, because different UAs report\n        // active states inconsistently when they're called within event handling code:\n        // - https://bugs.chromium.org/p/chromium/issues/detail?id=635971\n        // - https://bugzilla.mozilla.org/show_bug.cgi?id=1293741\n        // We try first outside rAF to support Edge, which does not exhibit this problem, but will crash if a CSS\n        // variable is set within a rAF callback for a submit button interaction (#2241).\n        activationState.wasElementMadeActive = this.checkElementMadeActive_(e);\n        if (activationState.wasElementMadeActive) {\n          this.animateActivation_();\n        }\n      }\n\n      if (!activationState.wasElementMadeActive) {\n        // Reset activation state immediately if element was not made active.\n        this.activationState_ = this.defaultActivationState_();\n      }\n    });\n  }\n\n  /**\n   * @param {!Event=} e\n   * @private\n   */\n  checkElementMadeActive_(e) {\n    return (e !== undefined && e.type === 'keydown') ? this.adapter_.isSurfaceActive() : true;\n  }\n\n  /**\n   * @param {!Event=} event Optional event containing position information.\n   */\n  activate(event) {\n    this.activate_(event);\n  }\n\n  /** @private */\n  animateActivation_() {\n    const {VAR_FG_TRANSLATE_START, VAR_FG_TRANSLATE_END} = MDCRippleFoundation.strings;\n    const {FG_DEACTIVATION, FG_ACTIVATION} = MDCRippleFoundation.cssClasses;\n    const {DEACTIVATION_TIMEOUT_MS} = MDCRippleFoundation.numbers;\n\n    this.layoutInternal_();\n\n    let translateStart = '';\n    let translateEnd = '';\n\n    if (!this.adapter_.isUnbounded()) {\n      const {startPoint, endPoint} = this.getFgTranslationCoordinates_();\n      translateStart = `${startPoint.x}px, ${startPoint.y}px`;\n      translateEnd = `${endPoint.x}px, ${endPoint.y}px`;\n    }\n\n    this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_START, translateStart);\n    this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_END, translateEnd);\n    // Cancel any ongoing activation/deactivation animations\n    clearTimeout(this.activationTimer_);\n    clearTimeout(this.fgDeactivationRemovalTimer_);\n    this.rmBoundedActivationClasses_();\n    this.adapter_.removeClass(FG_DEACTIVATION);\n\n    // Force layout in order to re-trigger the animation.\n    this.adapter_.computeBoundingRect();\n    this.adapter_.addClass(FG_ACTIVATION);\n    this.activationTimer_ = setTimeout(() => this.activationTimerCallback_(), DEACTIVATION_TIMEOUT_MS);\n  }\n\n  /**\n   * @private\n   * @return {{startPoint: PointType, endPoint: PointType}}\n   */\n  getFgTranslationCoordinates_() {\n    const {activationEvent, wasActivatedByPointer} = this.activationState_;\n\n    let startPoint;\n    if (wasActivatedByPointer) {\n      startPoint = getNormalizedEventCoords(\n        /** @type {!Event} */ (activationEvent),\n        this.adapter_.getWindowPageOffset(), this.adapter_.computeBoundingRect()\n      );\n    } else {\n      startPoint = {\n        x: this.frame_.width / 2,\n        y: this.frame_.height / 2,\n      };\n    }\n    // Center the element around the start point.\n    startPoint = {\n      x: startPoint.x - (this.initialSize_ / 2),\n      y: startPoint.y - (this.initialSize_ / 2),\n    };\n\n    const endPoint = {\n      x: (this.frame_.width / 2) - (this.initialSize_ / 2),\n      y: (this.frame_.height / 2) - (this.initialSize_ / 2),\n    };\n\n    return {startPoint, endPoint};\n  }\n\n  /** @private */\n  runDeactivationUXLogicIfReady_() {\n    // This method is called both when a pointing device is released, and when the activation animation ends.\n    // The deactivation animation should only run after both of those occur.\n    const {FG_DEACTIVATION} = MDCRippleFoundation.cssClasses;\n    const {hasDeactivationUXRun, isActivated} = this.activationState_;\n    const activationHasEnded = hasDeactivationUXRun || !isActivated;\n\n    if (activationHasEnded && this.activationAnimationHasEnded_) {\n      this.rmBoundedActivationClasses_();\n      this.adapter_.addClass(FG_DEACTIVATION);\n      this.fgDeactivationRemovalTimer_ = setTimeout(() => {\n        this.adapter_.removeClass(FG_DEACTIVATION);\n      }, numbers.FG_DEACTIVATION_MS);\n    }\n  }\n\n  /** @private */\n  rmBoundedActivationClasses_() {\n    const {FG_ACTIVATION} = MDCRippleFoundation.cssClasses;\n    this.adapter_.removeClass(FG_ACTIVATION);\n    this.activationAnimationHasEnded_ = false;\n    this.adapter_.computeBoundingRect();\n  }\n\n  resetActivationState_() {\n    this.previousActivationEvent_ = this.activationState_.activationEvent;\n    this.activationState_ = this.defaultActivationState_();\n    // Touch devices may fire additional events for the same interaction within a short time.\n    // Store the previous event until it's safe to assume that subsequent events are for new interactions.\n    setTimeout(() => this.previousActivationEvent_ = undefined, MDCRippleFoundation.numbers.TAP_DELAY_MS);\n  }\n\n  /**\n   * @private\n   */\n  deactivate_() {\n    const activationState = this.activationState_;\n    // This can happen in scenarios such as when you have a keyup event that blurs the element.\n    if (!activationState.isActivated) {\n      return;\n    }\n\n    const state = /** @type {!ActivationStateType} */ (Object.assign({}, activationState));\n\n    if (activationState.isProgrammatic) {\n      requestAnimationFrame(() => this.animateDeactivation_(state));\n      this.resetActivationState_();\n    } else {\n      this.deregisterDeactivationHandlers_();\n      requestAnimationFrame(() => {\n        this.activationState_.hasDeactivationUXRun = true;\n        this.animateDeactivation_(state);\n        this.resetActivationState_();\n      });\n    }\n  }\n\n  deactivate() {\n    this.deactivate_();\n  }\n\n  /**\n   * @param {!ActivationStateType} options\n   * @private\n   */\n  animateDeactivation_({wasActivatedByPointer, wasElementMadeActive}) {\n    if (wasActivatedByPointer || wasElementMadeActive) {\n      this.runDeactivationUXLogicIfReady_();\n    }\n  }\n\n  layout() {\n    if (this.layoutFrame_) {\n      cancelAnimationFrame(this.layoutFrame_);\n    }\n    this.layoutFrame_ = requestAnimationFrame(() => {\n      this.layoutInternal_();\n      this.layoutFrame_ = 0;\n    });\n  }\n\n  /** @private */\n  layoutInternal_() {\n    this.frame_ = this.adapter_.computeBoundingRect();\n    const maxDim = Math.max(this.frame_.height, this.frame_.width);\n\n    // Surface diameter is treated differently for unbounded vs. bounded ripples.\n    // Unbounded ripple diameter is calculated smaller since the surface is expected to already be padded appropriately\n    // to extend the hitbox, and the ripple is expected to meet the edges of the padded hitbox (which is typically\n    // square). Bounded ripples, on the other hand, are fully expected to expand beyond the surface's longest diameter\n    // (calculated based on the diagonal plus a constant padding), and are clipped at the surface's border via\n    // `overflow: hidden`.\n    const getBoundedRadius = () => {\n      const hypotenuse = Math.sqrt(Math.pow(this.frame_.width, 2) + Math.pow(this.frame_.height, 2));\n      return hypotenuse + MDCRippleFoundation.numbers.PADDING;\n    };\n\n    this.maxRadius_ = this.adapter_.isUnbounded() ? maxDim : getBoundedRadius();\n\n    // Ripple is sized as a fraction of the largest dimension of the surface, then scales up using a CSS scale transform\n    this.initialSize_ = Math.floor(maxDim * MDCRippleFoundation.numbers.INITIAL_ORIGIN_SCALE);\n    this.fgScale_ = this.maxRadius_ / this.initialSize_;\n\n    this.updateLayoutCssVars_();\n  }\n\n  /** @private */\n  updateLayoutCssVars_() {\n    const {\n      VAR_FG_SIZE, VAR_LEFT, VAR_TOP, VAR_FG_SCALE,\n    } = MDCRippleFoundation.strings;\n\n    this.adapter_.updateCssVariable(VAR_FG_SIZE, `${this.initialSize_}px`);\n    this.adapter_.updateCssVariable(VAR_FG_SCALE, this.fgScale_);\n\n    if (this.adapter_.isUnbounded()) {\n      this.unboundedCoords_ = {\n        left: Math.round((this.frame_.width / 2) - (this.initialSize_ / 2)),\n        top: Math.round((this.frame_.height / 2) - (this.initialSize_ / 2)),\n      };\n\n      this.adapter_.updateCssVariable(VAR_LEFT, `${this.unboundedCoords_.left}px`);\n      this.adapter_.updateCssVariable(VAR_TOP, `${this.unboundedCoords_.top}px`);\n    }\n  }\n\n  /** @param {boolean} unbounded */\n  setUnbounded(unbounded) {\n    const {UNBOUNDED} = MDCRippleFoundation.cssClasses;\n    if (unbounded) {\n      this.adapter_.addClass(UNBOUNDED);\n    } else {\n      this.adapter_.removeClass(UNBOUNDED);\n    }\n  }\n\n  handleFocus() {\n    requestAnimationFrame(() =>\n      this.adapter_.addClass(MDCRippleFoundation.cssClasses.BG_FOCUSED));\n  }\n\n  handleBlur() {\n    requestAnimationFrame(() =>\n      this.adapter_.removeClass(MDCRippleFoundation.cssClasses.BG_FOCUSED));\n  }\n}\n\nexport default MDCRippleFoundation;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * Stores result from supportsCssVariables to avoid redundant processing to detect CSS custom variable support.\n * @private {boolean|undefined}\n */\nlet supportsCssVariables_;\n\n/**\n * Stores result from applyPassive to avoid redundant processing to detect passive event listener support.\n * @private {boolean|undefined}\n */\nlet supportsPassive_;\n\n/**\n * @param {!Window} windowObj\n * @return {boolean}\n */\nfunction detectEdgePseudoVarBug(windowObj) {\n  // Detect versions of Edge with buggy var() support\n  // See: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11495448/\n  const document = windowObj.document;\n  const node = document.createElement('div');\n  node.className = 'mdc-ripple-surface--test-edge-var-bug';\n  document.body.appendChild(node);\n\n  // The bug exists if ::before style ends up propagating to the parent element.\n  // Additionally, getComputedStyle returns null in iframes with display: \"none\" in Firefox,\n  // but Firefox is known to support CSS custom properties correctly.\n  // See: https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n  const computedStyle = windowObj.getComputedStyle(node);\n  const hasPseudoVarBug = computedStyle !== null && computedStyle.borderTopStyle === 'solid';\n  node.remove();\n  return hasPseudoVarBug;\n}\n\n/**\n * @param {!Window} windowObj\n * @param {boolean=} forceRefresh\n * @return {boolean|undefined}\n */\n\nfunction supportsCssVariables(windowObj, forceRefresh = false) {\n  let supportsCssVariables = supportsCssVariables_;\n  if (typeof supportsCssVariables_ === 'boolean' && !forceRefresh) {\n    return supportsCssVariables;\n  }\n\n  const supportsFunctionPresent = windowObj.CSS && typeof windowObj.CSS.supports === 'function';\n  if (!supportsFunctionPresent) {\n    return;\n  }\n\n  const explicitlySupportsCssVars = windowObj.CSS.supports('--css-vars', 'yes');\n  // See: https://bugs.webkit.org/show_bug.cgi?id=154669\n  // See: README section on Safari\n  const weAreFeatureDetectingSafari10plus = (\n    windowObj.CSS.supports('(--css-vars: yes)') &&\n    windowObj.CSS.supports('color', '#00000000')\n  );\n\n  if (explicitlySupportsCssVars || weAreFeatureDetectingSafari10plus) {\n    supportsCssVariables = !detectEdgePseudoVarBug(windowObj);\n  } else {\n    supportsCssVariables = false;\n  }\n\n  if (!forceRefresh) {\n    supportsCssVariables_ = supportsCssVariables;\n  }\n  return supportsCssVariables;\n}\n\n//\n/**\n * Determine whether the current browser supports passive event listeners, and if so, use them.\n * @param {!Window=} globalObj\n * @param {boolean=} forceRefresh\n * @return {boolean|!EventListenerOptions}\n */\nfunction applyPassive(globalObj = window, forceRefresh = false) {\n  if (supportsPassive_ === undefined || forceRefresh) {\n    let isSupported = false;\n    try {\n      globalObj.document.addEventListener('test', null, {get passive() {\n        isSupported = true;\n        return isSupported;\n      }});\n    } catch (e) { }\n\n    supportsPassive_ = isSupported;\n  }\n\n  return supportsPassive_\n    ? /** @type {!EventListenerOptions} */ ({passive: true})\n    : false;\n}\n\n/**\n * @param {!Object} HTMLElementPrototype\n * @return {string}\n */\nfunction getMatchesProperty(HTMLElementPrototype) {\n  /**\n   * Order is important because we return the first existing method we find.\n   * Do not change the order of the items in the below array.\n   */\n  const matchesMethods = ['matches', 'webkitMatchesSelector', 'msMatchesSelector'];\n  let method = 'matches';\n  for (let i = 0; i < matchesMethods.length; i++) {\n    const matchesMethod = matchesMethods[i];\n    if (matchesMethod in HTMLElementPrototype) {\n      method = matchesMethod;\n      break;\n    }\n  }\n\n  return method;\n}\n\n/**\n * @param {!Event} ev\n * @param {{x: number, y: number}} pageOffset\n * @param {!ClientRect} clientRect\n * @return {{x: number, y: number}}\n */\nfunction getNormalizedEventCoords(ev, pageOffset, clientRect) {\n  const {x, y} = pageOffset;\n  const documentX = x + clientRect.left;\n  const documentY = y + clientRect.top;\n\n  let normalizedX;\n  let normalizedY;\n  // Determine touch point relative to the ripple container.\n  if (ev.type === 'touchstart') {\n    ev = /** @type {!TouchEvent} */ (ev);\n    normalizedX = ev.changedTouches[0].pageX - documentX;\n    normalizedY = ev.changedTouches[0].pageY - documentY;\n  } else {\n    ev = /** @type {!MouseEvent} */ (ev);\n    normalizedX = ev.pageX - documentX;\n    normalizedY = ev.pageY - documentY;\n  }\n\n  return {x: normalizedX, y: normalizedY};\n}\n\nexport {supportsCssVariables, applyPassive, getMatchesProperty, getNormalizedEventCoords};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nconst cssClasses = {\n  // Ripple is a special case where the \"root\" component is really a \"mixin\" of sorts,\n  // given that it's an 'upgrade' to an existing component. That being said it is the root\n  // CSS class that all other CSS classes derive from.\n  ROOT: 'mdc-ripple-upgraded',\n  UNBOUNDED: 'mdc-ripple-upgraded--unbounded',\n  BG_FOCUSED: 'mdc-ripple-upgraded--background-focused',\n  FG_ACTIVATION: 'mdc-ripple-upgraded--foreground-activation',\n  FG_DEACTIVATION: 'mdc-ripple-upgraded--foreground-deactivation',\n};\n\nconst strings = {\n  VAR_LEFT: '--mdc-ripple-left',\n  VAR_TOP: '--mdc-ripple-top',\n  VAR_FG_SIZE: '--mdc-ripple-fg-size',\n  VAR_FG_SCALE: '--mdc-ripple-fg-scale',\n  VAR_FG_TRANSLATE_START: '--mdc-ripple-fg-translate-start',\n  VAR_FG_TRANSLATE_END: '--mdc-ripple-fg-translate-end',\n};\n\nconst numbers = {\n  PADDING: 10,\n  INITIAL_ORIGIN_SCALE: 0.6,\n  DEACTIVATION_TIMEOUT_MS: 225, // Corresponds to $mdc-ripple-translate-duration (i.e. activation animation duration)\n  FG_DEACTIVATION_MS: 150, // Corresponds to $mdc-ripple-fade-out-duration (i.e. deactivation animation duration)\n  TAP_DELAY_MS: 300, // Delay between touch and simulated mouse events on touch devices\n};\n\nexport {cssClasses, strings, numbers};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDC Ripple. Provides an interface for managing\n * - classes\n * - dom\n * - CSS variables\n * - position\n * - dimensions\n * - scroll position\n * - event handlers\n * - unbounded, active and disabled states\n *\n * Additionally, provides type information for the adapter to the Closure\n * compiler.\n *\n * Implement this adapter for your framework of choice to delegate updates to\n * the component in your framework of choice. See architecture documentation\n * for more details.\n * https://github.com/material-components/material-components-web/blob/master/docs/code/architecture.md\n *\n * @record\n */\nclass MDCRippleAdapter {\n  /** @return {boolean} */\n  browserSupportsCssVars() {}\n\n  /** @return {boolean} */\n  isUnbounded() {}\n\n  /** @return {boolean} */\n  isSurfaceActive() {}\n\n  /** @return {boolean} */\n  isSurfaceDisabled() {}\n\n  /** @param {string} className */\n  addClass(className) {}\n\n  /** @param {string} className */\n  removeClass(className) {}\n\n  /** @param {!EventTarget} target */\n  containsEventTarget(target) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  registerInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  deregisterInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  registerDocumentInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  deregisterDocumentInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {!Function} handler\n   */\n  registerResizeHandler(handler) {}\n\n  /**\n   * @param {!Function} handler\n   */\n  deregisterResizeHandler(handler) {}\n\n  /**\n   * @param {string} varName\n   * @param {?number|string} value\n   */\n  updateCssVariable(varName, value) {}\n\n  /** @return {!ClientRect} */\n  computeBoundingRect() {}\n\n  /** @return {{x: number, y: number}} */\n  getWindowPageOffset() {}\n}\n\nexport default MDCRippleAdapter;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCFoundation from './foundation';\n\n/**\n * @template F\n */\nclass MDCComponent {\n  /**\n   * @param {!Element} root\n   * @return {!MDCComponent}\n   */\n  static attachTo(root) {\n    // Subclasses which extend MDCBase should provide an attachTo() method that takes a root element and\n    // returns an instantiated component with its root set to that element. Also note that in the cases of\n    // subclasses, an explicit foundation class will not have to be passed in; it will simply be initialized\n    // from getDefaultFoundation().\n    return new MDCComponent(root, new MDCFoundation());\n  }\n\n  /**\n   * @param {!Element} root\n   * @param {F=} foundation\n   * @param {...?} args\n   */\n  constructor(root, foundation = undefined, ...args) {\n    /** @protected {!Element} */\n    this.root_ = root;\n    this.initialize(...args);\n    // Note that we initialize foundation here and not within the constructor's default param so that\n    // this.root_ is defined and can be used within the foundation class.\n    /** @protected {!F} */\n    this.foundation_ = foundation === undefined ? this.getDefaultFoundation() : foundation;\n    this.foundation_.init();\n    this.initialSyncWithDOM();\n  }\n\n  initialize(/* ...args */) {\n    // Subclasses can override this to do any additional setup work that would be considered part of a\n    // \"constructor\". Essentially, it is a hook into the parent constructor before the foundation is\n    // initialized. Any additional arguments besides root and foundation will be passed in here.\n  }\n\n  /**\n   * @return {!F} foundation\n   */\n  getDefaultFoundation() {\n    // Subclasses must override this method to return a properly configured foundation class for the\n    // component.\n    throw new Error('Subclasses must override getDefaultFoundation to return a properly configured ' +\n      'foundation class');\n  }\n\n  initialSyncWithDOM() {\n    // Subclasses should override this method if they need to perform work to synchronize with a host DOM\n    // object. An example of this would be a form control wrapper that needs to synchronize its internal state\n    // to some property or attribute of the host DOM. Please note: this is *not* the place to perform DOM\n    // reads/writes that would cause layout / paint, as this is called synchronously from within the constructor.\n  }\n\n  destroy() {\n    // Subclasses may implement this method to release any resources / deregister any listeners they have\n    // attached. An example of this might be deregistering a resize event from the window object.\n    this.foundation_.destroy();\n  }\n\n  /**\n   * Wrapper method to add an event listener to the component's root element. This is most useful when\n   * listening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  listen(evtType, handler) {\n    this.root_.addEventListener(evtType, handler);\n  }\n\n  /**\n   * Wrapper method to remove an event listener to the component's root element. This is most useful when\n   * unlistening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  unlisten(evtType, handler) {\n    this.root_.removeEventListener(evtType, handler);\n  }\n\n  /**\n   * Fires a cross-browser-compatible custom event from the component root of the given type,\n   * with the given data.\n   * @param {string} evtType\n   * @param {!Object} evtData\n   * @param {boolean=} shouldBubble\n   */\n  emit(evtType, evtData, shouldBubble = false) {\n    let evt;\n    if (typeof CustomEvent === 'function') {\n      evt = new CustomEvent(evtType, {\n        detail: evtData,\n        bubbles: shouldBubble,\n      });\n    } else {\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(evtType, shouldBubble, false, evtData);\n    }\n\n    this.root_.dispatchEvent(evt);\n  }\n}\n\nexport default MDCComponent;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * @template A\n */\nclass MDCFoundation {\n  /** @return enum{cssClasses} */\n  static get cssClasses() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports every\n    // CSS class the foundation class needs as a property. e.g. {ACTIVE: 'mdc-component--active'}\n    return {};\n  }\n\n  /** @return enum{strings} */\n  static get strings() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // semantic strings as constants. e.g. {ARIA_ROLE: 'tablist'}\n    return {};\n  }\n\n  /** @return enum{numbers} */\n  static get numbers() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // of its semantic numbers as constants. e.g. {ANIMATION_DELAY_MS: 350}\n    return {};\n  }\n\n  /** @return {!Object} */\n  static get defaultAdapter() {\n    // Classes extending MDCFoundation may choose to implement this getter in order to provide a convenient\n    // way of viewing the necessary methods of an adapter. In the future, this could also be used for adapter\n    // validation.\n    return {};\n  }\n\n  /**\n   * @param {A=} adapter\n   */\n  constructor(adapter = {}) {\n    /** @protected {!A} */\n    this.adapter_ = adapter;\n  }\n\n  init() {\n    // Subclasses should override this method to perform initialization routines (registering events, etc.)\n  }\n\n  destroy() {\n    // Subclasses should override this method to perform de-initialization routines (de-registering events, etc.)\n  }\n}\n\nexport default MDCFoundation;\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDC Top App Bar\n *\n * Defines the shape of the adapter expected by the foundation. Implement this\n * adapter to integrate the Top App Bar into your framework. See\n * https://github.com/material-components/material-components-web/blob/master/docs/authoring-components.md\n * for more information.\n *\n * @record\n */\nclass MDCTopAppBarAdapter {\n  /**\n   * Adds a class to the root Element.\n   * @param {string} className\n   */\n  addClass(className) {}\n\n  /**\n   * Removes a class from the root Element.\n   * @param {string} className\n   */\n  removeClass(className) {}\n\n  /**\n   * Returns true if the root Element contains the given class.\n   * @param {string} className\n   * @return {boolean}\n   */\n  hasClass(className) {}\n\n  /**\n   * Sets the specified inline style property on the root Element to the given value.\n   * @param {string} property\n   * @param {string} value\n   */\n  setStyle(property, value) {}\n\n  /**\n   * Gets the height of the top app bar.\n   * @return {number}\n   */\n  getTopAppBarHeight() {}\n\n  /**\n   * Registers an event handler on the navigation icon element for a given event.\n   * @param {string} type\n   * @param {function(!Event): undefined} handler\n   */\n  registerNavigationIconInteractionHandler(type, handler) {}\n\n  /**\n   * Deregisters an event handler on the navigation icon element for a given event.\n   * @param {string} type\n   * @param {function(!Event): undefined} handler\n   */\n  deregisterNavigationIconInteractionHandler(type, handler) {}\n\n  /**\n   * Emits an event when the navigation icon is clicked.\n   */\n  notifyNavigationIconClicked() {}\n\n  /** @param {function(!Event)} handler */\n  registerScrollHandler(handler) {}\n\n  /** @param {function(!Event)} handler */\n  deregisterScrollHandler(handler) {}\n\n  /** @param {function(!Event)} handler */\n  registerResizeHandler(handler) {}\n\n  /** @param {function(!Event)} handler */\n  deregisterResizeHandler(handler) {}\n\n  /** @return {number} */\n  getViewportScrollY() {}\n\n  /** @return {number} */\n  getTotalActionItems() {}\n}\n\nexport default MDCTopAppBarAdapter;\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/** @enum {string} */\nconst cssClasses = {\n  FIXED_CLASS: 'mdc-top-app-bar--fixed',\n  FIXED_SCROLLED_CLASS: 'mdc-top-app-bar--fixed-scrolled',\n  SHORT_CLASS: 'mdc-top-app-bar--short',\n  SHORT_HAS_ACTION_ITEM_CLASS: 'mdc-top-app-bar--short-has-action-item',\n  SHORT_COLLAPSED_CLASS: 'mdc-top-app-bar--short-collapsed',\n};\n\n/** @enum {number} */\nconst numbers = {\n  DEBOUNCE_THROTTLE_RESIZE_TIME_MS: 100,\n  MAX_TOP_APP_BAR_HEIGHT: 128,\n};\n\n/** @enum {string} */\nconst strings = {\n  ACTION_ITEM_SELECTOR: '.mdc-top-app-bar__action-item',\n  NAVIGATION_EVENT: 'MDCTopAppBar:nav',\n  NAVIGATION_ICON_SELECTOR: '.mdc-top-app-bar__navigation-icon',\n  ROOT_SELECTOR: '.mdc-top-app-bar',\n  TITLE_SELECTOR: '.mdc-top-app-bar__title',\n};\n\nexport {strings, cssClasses, numbers};\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  Directive,\r\n  ElementRef,\r\n  Input,\r\n  OnDestroy\r\n} from '@angular/core';\r\nimport { MdcRipple } from '@angular-mdc/web/ripple';\r\n\r\n@Directive({\r\n  selector: '[mdcTopAppBarFixedAdjust]',\r\n  host: { 'class': 'mdc-top-app-bar--fixed-adjust' }\r\n})\r\nexport class MdcTopAppBarFixedAdjust {\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: 'mdc-top-app-bar-row, [mdcTopAppBarRow]',\r\n  exportAs: 'mdcTopAppBarRow',\r\n  host: { 'class': 'mdc-top-app-bar__row' }\r\n})\r\nexport class MdcTopAppBarRow {\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'mdc-top-app-bar-section, [mdcTopAppBarSection]',\r\n  exportAs: 'mdcTopAppBarSection',\r\n  host: {\r\n    'role': 'toolbar',\r\n    'class': 'mdc-top-app-bar__section',\r\n    '[class.mdc-top-app-bar__section--align-start]': 'align === \"start\"',\r\n    '[class.mdc-top-app-bar__section--align-end]': 'align === \"end\"'\r\n  },\r\n  template: `\r\n  <ng-content></ng-content>\r\n  <span class=\"mdc-top-app-bar__title\" *ngIf=\"title\">{{title}}</span>`,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class MdcTopAppBarSection {\r\n  @Input() title?: string;\r\n  @Input() align?: string;\r\n\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: '[mdcTopAppBarActionItem], mdc-top-app-bar-action-item',\r\n  exportAs: 'mdcTopAppBarActionItem',\r\n  host: {\r\n    'role': 'button',\r\n    'class': 'mdc-top-app-bar__action-item'\r\n  },\r\n  providers: [MdcRipple]\r\n})\r\nexport class MdcTopAppBarActionItem implements OnDestroy {\r\n  constructor(\r\n    public elementRef: ElementRef<HTMLElement>,\r\n    private _ripple: MdcRipple) {\r\n\r\n    this._ripple.init({ surface: this.elementRef.nativeElement, unbounded: true });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._ripple.destroy();\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: '[mdcTopAppBarNavIcon], mdc-icon[mdcTopAppBarNavigationIcon]',\r\n  exportAs: 'mdcTopAppBarNavigationIcon',\r\n  host: {\r\n    'role': 'button',\r\n    'class': 'mdc-top-app-bar__navigation-icon'\r\n  },\r\n  providers: [MdcRipple]\r\n})\r\nexport class MdcTopAppBarNavigationIcon implements OnDestroy {\r\n  constructor(\r\n    public elementRef: ElementRef<HTMLElement>,\r\n    private _ripple: MdcRipple) {\r\n\r\n    _ripple.init({ surface: this.elementRef.nativeElement, unbounded: true });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._ripple.destroy();\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: 'mdc-top-app-bar-title, [mdcTopAppBarTitle]',\r\n  exportAs: 'mdcTopAppBarTitle',\r\n  host: { 'class': 'mdc-top-app-bar__title' },\r\n})\r\nexport class MdcTopAppBarTitle {\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n"],"names":["MDCComponent","MDCTopAppBar","root","foundation","MDCTopAppBarFoundation","adapter","MDCFixedTopAppBarFoundation","root_","classList","contains","cssClasses","FIXED_CLASS","MDCShortTopAppBarFoundation","SHORT_CLASS","querySelectorAll","strings","ACTION_ITEM_SELECTOR","length","getTotalActionItems","scrollTarget_","window","getViewportScrollY","removeEventListener","handler","deregisterResizeHandler","addEventListener","registerResizeHandler","deregisterScrollHandler","registerScrollHandler","emit","NAVIGATION_EVENT","notifyNavigationIconClicked","navIcon_","evtType","deregisterNavigationIconInteractionHandler","registerNavigationIconInteractionHandler","clientHeight","getTopAppBarHeight","style","setProperty","property","value","setStyle","remove","className","removeClass","add","addClass","hasClass","Object","assign","foundation_","initScrollHandler","target","destroyScrollHandler","iconRipple","destroy","iconRipples_","forEach","ripple","unbounded","rippleFactory","icon","icons","map","push","slice","call","querySelector","NAVIGATION_ICON_SELECTOR","MDCRipple","attachTo","el","args","MDCTopAppBarBaseFoundation","topAppBarScrollHandler_","topAppBarHeight_","currentHeight","currentAppBarOffsetTop_","wasDocked_","adapter_","numbers","DEBOUNCE_THROTTLE_RESIZE_TIME_MS","resizeDebounceId_","INITIAL_VALUE","isCurrentlyBeingResized_","setTimeout","clearTimeout","throttledResizeHandler_","resizeThrottleId_","moveTopAppBar_","Math","abs","diff","lastScrollPosition_","currentScrollPosition","max","offset","MAX_TOP_APP_BAR_HEIGHT","checkForUpdate_","partiallyShowing","isDockedShowing_","hasAnyPixelsOnscreen","hasAnyPixelsOffscreen","offscreenBoundaryTop","resizeHandler_","scrollHandler_","topAppBarResizeHandler_","isCollapsed","SHORT_COLLAPSED_CLASS","currentScroll","shortAppBarScrollHandler_","isAlwaysCollapsed","SHORT_HAS_ACTION_ITEM_CLASS","wasScrolled_","FIXED_SCROLLED_CLASS","fixedScrollHandler_","MDCFoundation","navClickHandler_","defaultAdapter","RippleCapableSurface","prototype","disabled","y","pageYOffset","x","pageXOffset","getWindowPageOffset","instance","getBoundingClientRect","computeBoundingRect","varName","updateCssVariable","document","documentElement","util","deregisterDocumentInteractionHandler","registerDocumentInteractionHandler","deregisterInteractionHandler","registerInteractionHandler","containsEventTarget","isSurfaceDisabled","MATCHES","isSurfaceActive","isUnbounded","browserSupportsCssVars","HTMLElement","undefined","setUnbounded_","unbounded_","Boolean","dataset","MDCRippleFoundation","createAdapter","layout","deactivate","activate","setUnbounded","BG_FOCUSED","requestAnimationFrame","UNBOUNDED","VAR_TOP","unboundedCoords_","top","VAR_LEFT","left","round","frame_","height","initialSize_","width","VAR_FG_SCALE","fgScale_","VAR_FG_SIZE","updateLayoutCssVars_","maxRadius_","floor","maxDim","INITIAL_ORIGIN_SCALE","getBoundedRadius","hypotenuse","PADDING","sqrt","pow","layoutFrame_","layoutInternal_","cancelAnimationFrame","runDeactivationUXLogicIfReady_","wasActivatedByPointer","wasElementMadeActive","deactivate_","resetActivationState_","animateDeactivation_","state","activationState_","hasDeactivationUXRun","deregisterDeactivationHandlers_","activationState","isProgrammatic","isActivated","TAP_DELAY_MS","previousActivationEvent_","defaultActivationState_","activationEvent","activationAnimationHasEnded_","FG_ACTIVATION","FG_DEACTIVATION_MS","FG_DEACTIVATION","fgDeactivationRemovalTimer_","rmBoundedActivationClasses_","activationHasEnded","endPoint","startPoint","getNormalizedEventCoords","DEACTIVATION_TIMEOUT_MS","activationTimerCallback_","activationTimer_","VAR_FG_TRANSLATE_END","translateEnd","VAR_FG_TRANSLATE_START","translateStart","getFgTranslationCoordinates_","activate_","event","e","type","animateActivation_","checkElementMadeActive_","key","keyCode","activatedTargets","registerDeactivationHandlers_","hasActivatedChild","some","isSameInteraction","previousActivationEvent","k","indexOf","keys","deactivateHandler_","POINTER_DEACTIVATION_EVENT_TYPES","blurHandler_","focusHandler_","activateHandler_","ACTIVATION_EVENT_TYPES","supportsPressRipple","deregisterRootHandlers_","removeCssVars_","ROOT","supportsPressRipple_","registerRootHandlers_","handleBlur","handleFocus","normalizedY","normalizedX","ev","pageY","documentY","pageX","documentX","changedTouches","clientRect","pageOffset","method","matchesMethod","HTMLElementPrototype","matchesMethods","i","getMatchesProperty","passive","supportsPassive_","isSupported","globalObj","forceRefresh","applyPassive","supportsCssVariables","supportsCssVariables_","detectEdgePseudoVarBug","windowObj","explicitlySupportsCssVars","weAreFeatureDetectingSafari10plus","CSS","supports","supportsFunctionPresent","hasPseudoVarBug","node","computedStyle","borderTopStyle","getComputedStyle","body","appendChild","createElement","MDCRippleAdapter","dispatchEvent","evt","initCustomEvent","shouldBubble","evtData","createEvent","bubbles","detail","CustomEvent","Error","initialSyncWithDOM","init","getDefaultFoundation","initialize","MDCTopAppBarAdapter","TITLE_SELECTOR","ROOT_SELECTOR"],"mappings":"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"}