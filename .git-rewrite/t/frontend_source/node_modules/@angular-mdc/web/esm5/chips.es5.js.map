{"version":3,"file":"chips.es5.js","sources":["../../../packages/chips/chips-module.ts","../../../packages/chips/chip-set.ts","../../../node_modules/@material/chips/chip-set/index.js","../../../node_modules/@material/chips/chip-set/foundation.js","../../../node_modules/@material/chips/chip-set/constants.js","../../../node_modules/@material/chips/chip-set/adapter.js","../../../packages/chips/chip.ts","../../../node_modules/@material/chips/chip/index.js","../../../node_modules/@material/chips/chip/foundation.js","../../../node_modules/@material/chips/chip/adapter.js","../../../node_modules/@material/ripple/index.js","../../../node_modules/@material/ripple/foundation.js","../../../node_modules/@material/ripple/util.js","../../../node_modules/@material/ripple/constants.js","../../../node_modules/@material/ripple/adapter.js","../../../node_modules/@material/base/component.js","../../../node_modules/@material/base/foundation.js","../../../node_modules/@material/chips/chip/constants.js"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { MdcIconModule } from '@angular-mdc/web/icon';\r\nimport { MdcChip, MdcChipText, MdcChipIcon, MdcChipCheckmark } from './chip';\r\nimport { MdcChipSet } from './chip-set';\r\n\r\nexport const CHIP_DECLARATIONS = [\r\n  MdcChip,\r\n  MdcChipCheckmark,\r\n  MdcChipIcon,\r\n  MdcChipSet,\r\n  MdcChipText\r\n];\r\n\r\n@NgModule({\r\n  imports: [CommonModule, MdcIconModule],\r\n  exports: CHIP_DECLARATIONS,\r\n  declarations: CHIP_DECLARATIONS\r\n})\r\nexport class MdcChipsModule { }\r\n","import {\r\n  AfterContentInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChildren,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnDestroy,\r\n  Optional,\r\n  Output,\r\n  QueryList,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, FormGroupDirective, NgControl, NgForm } from '@angular/forms';\r\nimport { merge, Observable, Subject, Subscription } from 'rxjs';\r\nimport { startWith, takeUntil } from 'rxjs/operators';\r\n\r\nimport { toBoolean } from '@angular-mdc/web/common';\r\n\r\nimport {\r\n  MdcChip,\r\n  MdcChipInteractionEvent,\r\n  MdcChipRemovedEvent,\r\n  MdcChipSelectionEvent,\r\n  MDC_CHIPSET_PARENT_COMPONENT\r\n} from './chip';\r\n\r\nimport { MDCChipSetFoundation } from '@material/chips/chip-set/index';\r\n\r\nexport class MdcChipSetChange {\r\n  constructor(\r\n    public source: MdcChipSet,\r\n    public value: any) { }\r\n}\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'mdc-chip-set',\r\n  exportAs: 'mdcChipSet',\r\n  host: {\r\n    'class': 'mdc-chip-set',\r\n    '[class.mdc-chip-set--choice]': 'choice',\r\n    '[class.mdc-chip-set--filter]': 'filter',\r\n    '[class.mdc-chip-set--input]': 'input'\r\n  },\r\n  template: '<ng-content></ng-content>',\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  providers: [{ provide: MDC_CHIPSET_PARENT_COMPONENT, useExisting: MdcChipSet }]\r\n})\r\nexport class MdcChipSet implements AfterContentInit, OnDestroy, ControlValueAccessor {\r\n  /** Emits whenever the component is destroyed. */\r\n  private _destroyed = new Subject<void>();\r\n\r\n  /**\r\n  * Indicates that the chips in the set are choice chips, which allow a single selection from a set of options.\r\n  */\r\n  @Input()\r\n  get choice(): boolean { return this._choice; }\r\n  set choice(value: boolean) {\r\n    this._choice = toBoolean(value);\r\n  }\r\n  private _choice: boolean = false;\r\n\r\n  /**\r\n  * Indicates that the chips in the set are filter chips, which allow multiple selection from a set of options.\r\n  */\r\n  @Input()\r\n  get filter(): boolean { return this._filter; }\r\n  set filter(value: boolean) {\r\n    this._filter = toBoolean(value);\r\n  }\r\n  private _filter: boolean = false;\r\n\r\n  /**\r\n  * Indicates that the chips in the set are input chips, which enable user input by converting text into chips.\r\n  */\r\n  @Input()\r\n  get input(): boolean { return this._input; }\r\n  set input(value: boolean) {\r\n    this._input = toBoolean(value);\r\n  }\r\n  private _input: boolean = false;\r\n\r\n  @Input()\r\n  get value(): any { return this._value; }\r\n  set value(value: any) {\r\n    this.writeValue(value);\r\n    this._value = value;\r\n  }\r\n  protected _value: any;\r\n\r\n  /**\r\n   * A function to compare the option values with the selected values. The first argument\r\n   * is a value from an option. The second is a value from the selection. A boolean\r\n   * should be returned.\r\n   */\r\n  private _compareWith = (o1: any, o2: any) => o1 === o2;\r\n\r\n  @Output() readonly change: EventEmitter<MdcChipSetChange> =\r\n    new EventEmitter<MdcChipSetChange>();\r\n\r\n  @ContentChildren(MdcChip, { descendants: true }) chips!: QueryList<MdcChip>;\r\n\r\n  /** Function when touched */\r\n  _onTouched = () => { };\r\n\r\n  /** Function when changed */\r\n  _onChange: (value: any) => void = () => { };\r\n\r\n  /** Subscription to selection events in chips. */\r\n  private _chipSelectionSubscription: Subscription | null = null;\r\n\r\n  /** Subscription to remove changes in chips. */\r\n  private _chipRemoveSubscription: Subscription | null = null;\r\n\r\n  /** Subscription to interaction events in chips. */\r\n  private _chipInteractionSubscription: Subscription | null = null;\r\n\r\n  /** Combined stream of all of the chip selection events. */\r\n  get chipSelections(): Observable<MdcChipSelectionEvent> {\r\n    return merge(...this.chips.map(chip => chip.selectionChange));\r\n  }\r\n\r\n  /** Combined stream of all of the chip interaction events. */\r\n  get chipInteractions(): Observable<MdcChipInteractionEvent> {\r\n    return merge(...this.chips.map(chip => chip.trailingIconInteraction));\r\n  }\r\n\r\n  /** Combined stream of all of the chip remove events. */\r\n  get chipRemoveChanges(): Observable<MdcChipRemovedEvent> {\r\n    return merge(...this.chips.map(chip => chip.removed));\r\n  }\r\n\r\n  private _createAdapter() {\r\n    return {\r\n      hasClass: (className: string) => this._getHostElement().classList.contains(className),\r\n      removeChip: (chipId: string) => {\r\n        const index = this._findChipIndex(chipId);\r\n        this.chips.toArray().splice(index, 1);\r\n      },\r\n      setSelected: (chipId: string, selected: boolean) => {\r\n        const chip = this.getChipById(chipId);\r\n        if (chip) {\r\n          chip.selected = selected;\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  private _foundation: {\r\n    init(): void,\r\n    destroy(): void,\r\n    getSelectedChipIds(): string[],\r\n    select(chipId: string): void,\r\n    handleChipInteraction(chipId: string): void,\r\n    handleChipRemoval(chipId: string): void,\r\n    handleChipSelection(chipId: string, selected: boolean): void\r\n  } = new MDCChipSetFoundation(this._createAdapter());\r\n\r\n  constructor(\r\n    private _changeDetectorRef: ChangeDetectorRef,\r\n    public elementRef: ElementRef<HTMLElement>,\r\n    @Optional() _parentForm: NgForm,\r\n    @Optional() _parentFormGroup: FormGroupDirective,\r\n    @Optional() public ngControl: NgControl) {\r\n\r\n    if (this.ngControl) {\r\n      this.ngControl.valueAccessor = this;\r\n    }\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this._foundation.init();\r\n\r\n    // When chips change, re-subscribe\r\n    this.chips.changes.pipe(startWith(null), takeUntil(this._destroyed))\r\n      .subscribe(() => {\r\n        if (this.chips.length > 0) {\r\n          this._resetChipSet();\r\n          this._initializeSelection();\r\n        }\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._destroyed.next();\r\n    this._destroyed.complete();\r\n\r\n    this._dropSubscriptions();\r\n    if (this._chipRemoveSubscription) {\r\n      this._chipRemoveSubscription.unsubscribe();\r\n    }\r\n\r\n    this._foundation.destroy();\r\n  }\r\n\r\n  // Implemented as part of ControlValueAccessor.\r\n  writeValue(value: any): void {\r\n    if (this.chips) {\r\n      this.selectByValue(value, false);\r\n    }\r\n  }\r\n\r\n  // Implemented as part of ControlValueAccessor.\r\n  registerOnChange(fn: (value: any) => void): void {\r\n    this._onChange = fn;\r\n  }\r\n\r\n  // Implemented as part of ControlValueAccessor.\r\n  registerOnTouched(fn: () => void): void {\r\n    this._onTouched = fn;\r\n  }\r\n\r\n  getSelectedChipIds(): string[] {\r\n    return this._foundation.getSelectedChipIds();\r\n  }\r\n\r\n  select(chipId: string): void {\r\n    this._foundation.select(chipId);\r\n  }\r\n\r\n  getChipById(chipId: string): MdcChip | undefined {\r\n    return this.chips.find(_ => _.id === chipId);\r\n  }\r\n\r\n  selectByValue(value: any, isUserInput: boolean = true): void {\r\n    this.chips.forEach(chip => chip.deselect());\r\n\r\n    if (Array.isArray(value)) {\r\n      value.forEach(currentValue => this._selectValue(currentValue, isUserInput));\r\n    } else {\r\n      this._selectValue(value, isUserInput);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Finds and selects the chip based on its value.\r\n   * @returns Chip that has the corresponding value.\r\n   */\r\n  private _selectValue(value: any, isUserInput: boolean = true): MdcChip | undefined {\r\n    const correspondingChip = this.chips.find(chip => {\r\n      return chip.value != null && this._compareWith(chip.value, value);\r\n    });\r\n\r\n    if (correspondingChip) {\r\n      isUserInput ? correspondingChip.selectViaInteraction() : correspondingChip.select();\r\n    }\r\n\r\n    return correspondingChip;\r\n  }\r\n\r\n  private _initializeSelection(): void {\r\n    // Defer setting the value in order to avoid the \"Expression\r\n    // has changed after it was checked\" errors from Angular.\r\n    Promise.resolve().then(() => {\r\n      if (this.ngControl || this._value) {\r\n        this.selectByValue(this.ngControl ? this.ngControl.value : this._value, false);\r\n      }\r\n    });\r\n  }\r\n\r\n  private _propagateChanges(evt: MdcChipSelectionEvent): void {\r\n    this._value = evt.detail.value;\r\n    this.change.emit(new MdcChipSetChange(this, evt.detail));\r\n    this._onChange(this._value);\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  private _resetChipSet(): void {\r\n    this._dropSubscriptions();\r\n    this._listenForChipSelection();\r\n    this._listenToChipsInteraction();\r\n    this._listenToChipsRemoved();\r\n  }\r\n\r\n  private _dropSubscriptions(): void {\r\n    if (this._chipSelectionSubscription) {\r\n      this._chipSelectionSubscription.unsubscribe();\r\n      this._chipSelectionSubscription = null;\r\n    }\r\n    if (this._chipInteractionSubscription) {\r\n      this._chipInteractionSubscription.unsubscribe();\r\n      this._chipInteractionSubscription = null;\r\n    }\r\n    if (this._chipRemoveSubscription) {\r\n      this._chipRemoveSubscription.unsubscribe();\r\n      this._chipRemoveSubscription = null;\r\n    }\r\n  }\r\n\r\n  /** Listens to selected events on each chip. */\r\n  private _listenForChipSelection(): void {\r\n    this._chipSelectionSubscription = this.chipSelections\r\n      .subscribe((event: MdcChipSelectionEvent) => {\r\n        this._foundation.handleChipSelection(event.detail.chipId, event.detail.selected);\r\n\r\n        if (event.isUserInput) {\r\n          this._propagateChanges(event);\r\n        }\r\n      });\r\n  }\r\n\r\n  private _listenToChipsInteraction(): void {\r\n    this._chipInteractionSubscription = this.chipInteractions\r\n      .subscribe((event: MdcChipInteractionEvent) =>\r\n        this._foundation.handleChipInteraction(event.detail.chipId));\r\n  }\r\n\r\n  private _listenToChipsRemoved(): void {\r\n    this._chipRemoveSubscription = this.chipRemoveChanges\r\n      .subscribe((event: MdcChipRemovedEvent) => this._foundation.handleChipRemoval(event.detail.chipId));\r\n  }\r\n\r\n  private _findChipIndex(chipId: string): number {\r\n    return this.chips.toArray().findIndex(_ => _.id === chipId);\r\n  }\r\n\r\n  /** Retrieves the DOM element of the component host. */\r\n  private _getHostElement(): HTMLElement {\r\n    return this.elementRef.nativeElement;\r\n  }\r\n}\r\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCComponent from '@material/base/component';\n\nimport MDCChipSetAdapter from './adapter';\nimport MDCChipSetFoundation from './foundation';\nimport {MDCChip, MDCChipFoundation} from '../chip/index';\n\nlet idCounter = 0;\n\n/**\n * @extends {MDCComponent<!MDCChipSetFoundation>}\n * @final\n */\nclass MDCChipSet extends MDCComponent {\n  /**\n   * @param {...?} args\n   */\n  constructor(...args) {\n    super(...args);\n\n    /** @type {!Array<!MDCChip>} */\n    this.chips;\n    /** @private {(function(!Element): !MDCChip)} */\n    this.chipFactory_;\n\n    /** @private {?function(?Event): undefined} */\n    this.handleChipInteraction_;\n    /** @private {?function(?Event): undefined} */\n    this.handleChipSelection_;\n    /** @private {?function(?Event): undefined} */\n    this.handleChipRemoval_;\n  }\n\n  /**\n   * @param {!Element} root\n   * @return {!MDCChipSet}\n   */\n  static attachTo(root) {\n    return new MDCChipSet(root);\n  }\n\n  /**\n   * @param {(function(!Element): !MDCChip)=} chipFactory A function which\n   * creates a new MDCChip.\n   */\n  initialize(chipFactory = (el) => new MDCChip(el)) {\n    this.chipFactory_ = chipFactory;\n    this.chips = this.instantiateChips_(this.chipFactory_);\n  }\n\n  initialSyncWithDOM() {\n    this.chips.forEach((chip) => {\n      if (chip.selected) {\n        this.foundation_.select(chip.id);\n      }\n    });\n\n    this.handleChipInteraction_ = (evt) => this.foundation_.handleChipInteraction(evt.detail.chipId);\n    this.handleChipSelection_ = (evt) => this.foundation_.handleChipSelection(evt.detail.chipId, evt.detail.selected);\n    this.handleChipRemoval_ = (evt) => this.foundation_.handleChipRemoval(evt.detail.chipId);\n    this.root_.addEventListener(\n      MDCChipFoundation.strings.INTERACTION_EVENT, this.handleChipInteraction_);\n    this.root_.addEventListener(\n      MDCChipFoundation.strings.SELECTION_EVENT, this.handleChipSelection_);\n    this.root_.addEventListener(\n      MDCChipFoundation.strings.REMOVAL_EVENT, this.handleChipRemoval_);\n  }\n\n  destroy() {\n    this.chips.forEach((chip) => {\n      chip.destroy();\n    });\n\n    this.root_.removeEventListener(\n      MDCChipFoundation.strings.INTERACTION_EVENT, this.handleChipInteraction_);\n    this.root_.removeEventListener(\n      MDCChipFoundation.strings.SELECTION_EVENT, this.handleChipSelection_);\n    this.root_.removeEventListener(\n      MDCChipFoundation.strings.REMOVAL_EVENT, this.handleChipRemoval_);\n\n    super.destroy();\n  }\n\n  /**\n   * Adds a new chip object to the chip set from the given chip element.\n   * @param {!Element} chipEl\n   */\n  addChip(chipEl) {\n    chipEl.id = chipEl.id || `mdc-chip-${++idCounter}`;\n    this.chips.push(this.chipFactory_(chipEl));\n  }\n\n  /**\n   * Returns an array of the IDs of all selected chips.\n   * @return {!Array<string>}\n   */\n  get selectedChipIds() {\n    return this.foundation_.getSelectedChipIds();\n  }\n\n  /**\n   * @return {!MDCChipSetFoundation}\n   */\n  getDefaultFoundation() {\n    return new MDCChipSetFoundation(/** @type {!MDCChipSetAdapter} */ (Object.assign({\n      hasClass: (className) => this.root_.classList.contains(className),\n      removeChip: (chipId) => {\n        const index = this.findChipIndex_(chipId);\n        if (index >= 0) {\n          this.chips[index].destroy();\n          this.chips.splice(index, 1);\n        }\n      },\n      setSelected: (chipId, selected) => {\n        const index = this.findChipIndex_(chipId);\n        if (index >= 0) {\n          this.chips[index].selected = selected;\n        }\n      },\n    })));\n  }\n\n  /**\n   * Instantiates chip components on all of the chip set's child chip elements.\n   * @param {(function(!Element): !MDCChip)} chipFactory\n   * @return {!Array<!MDCChip>}\n   */\n  instantiateChips_(chipFactory) {\n    const chipElements = [].slice.call(this.root_.querySelectorAll(MDCChipSetFoundation.strings.CHIP_SELECTOR));\n    return chipElements.map((el) => {\n      el.id = el.id || `mdc-chip-${++idCounter}`;\n      return chipFactory(el);\n    });\n  }\n\n  /**\n   * Returns the index of the chip with the given id, or -1 if the chip does not exist.\n   * @param {string} chipId\n   * @return {number}\n   */\n  findChipIndex_(chipId) {\n    for (let i = 0; i < this.chips.length; i++) {\n      if (this.chips[i].id === chipId) {\n        return i;\n      }\n    }\n    return -1;\n  }\n}\n\nexport {MDCChipSet, MDCChipSetFoundation};\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCFoundation from '@material/base/foundation';\nimport MDCChipSetAdapter from './adapter';\n// eslint-disable-next-line no-unused-vars\nimport {MDCChipInteractionEventType, MDCChipSelectionEventType, MDCChipRemovalEventType} from '../chip/foundation';\nimport {strings, cssClasses} from './constants';\n\n/**\n * @extends {MDCFoundation<!MDCChipSetAdapter>}\n * @final\n */\nclass MDCChipSetFoundation extends MDCFoundation {\n  /** @return enum {string} */\n  static get strings() {\n    return strings;\n  }\n\n  /** @return enum {string} */\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  /**\n   * {@see MDCChipSetAdapter} for typing information on parameters and return\n   * types.\n   * @return {!MDCChipSetAdapter}\n   */\n  static get defaultAdapter() {\n    return /** @type {!MDCChipSetAdapter} */ ({\n      hasClass: () => {},\n      removeChip: () => {},\n      setSelected: () => {},\n    });\n  }\n\n  /**\n   * @param {!MDCChipSetAdapter} adapter\n   */\n  constructor(adapter) {\n    super(Object.assign(MDCChipSetFoundation.defaultAdapter, adapter));\n\n    /**\n     * The ids of the selected chips in the set. Only used for choice chip set or filter chip set.\n     * @private {!Array<string>}\n     */\n    this.selectedChipIds_ = [];\n  }\n\n  /**\n   * Returns an array of the IDs of all selected chips.\n   * @return {!Array<string>}\n   */\n  getSelectedChipIds() {\n    return this.selectedChipIds_;\n  }\n\n  /**\n   * Toggles selection of the chip with the given id.\n   * @private\n   * @param {string} chipId\n   */\n  toggleSelect_(chipId) {\n    if (this.selectedChipIds_.indexOf(chipId) >= 0) {\n      this.deselect_(chipId);\n    } else {\n      this.select(chipId);\n    }\n  }\n\n  /**\n   * Selects the chip with the given id. Deselects all other chips if the chip set is of the choice variant.\n   * @param {string} chipId\n   */\n  select(chipId) {\n    if (this.selectedChipIds_.indexOf(chipId) >= 0) {\n      return;\n    }\n\n    if (this.adapter_.hasClass(cssClasses.CHOICE) && this.selectedChipIds_.length > 0) {\n      const previouslySelectedChip = this.selectedChipIds_[0];\n      this.selectedChipIds_.length = 0;\n      this.adapter_.setSelected(previouslySelectedChip, false);\n    }\n    this.selectedChipIds_.push(chipId);\n    this.adapter_.setSelected(chipId, true);\n  }\n\n  /**\n   * Deselects the chip with the given id.\n   * @private\n   * @param {string} chipId\n   */\n  deselect_(chipId) {\n    const index = this.selectedChipIds_.indexOf(chipId);\n    if (index >= 0) {\n      this.selectedChipIds_.splice(index, 1);\n      this.adapter_.setSelected(chipId, false);\n    }\n  }\n\n  /**\n   * Handles a chip interaction event\n   * @param {string} chipId\n   */\n  handleChipInteraction(chipId) {\n    if (this.adapter_.hasClass(cssClasses.CHOICE) || this.adapter_.hasClass(cssClasses.FILTER)) {\n      this.toggleSelect_(chipId);\n    }\n  }\n\n  /**\n   * Handles a chip selection event, used to handle discrepancy when selection state is set directly on the Chip.\n   * @param {string} chipId\n   * @param {boolean} selected\n   */\n  handleChipSelection(chipId, selected) {\n    const chipIsSelected = this.selectedChipIds_.indexOf(chipId) >= 0;\n    if (selected && !chipIsSelected) {\n      this.select(chipId);\n    } else if (!selected && chipIsSelected) {\n      this.deselect_(chipId);\n    }\n  }\n\n  /**\n   * Handles the event when a chip is removed.\n   * @param {string} chipId\n   */\n  handleChipRemoval(chipId) {\n    this.deselect_(chipId);\n    this.adapter_.removeChip(chipId);\n  }\n}\n\nexport default MDCChipSetFoundation;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/** @enum {string} */\nconst strings = {\n  CHIP_SELECTOR: '.mdc-chip',\n};\n\n/** @enum {string} */\nconst cssClasses = {\n  CHOICE: 'mdc-chip-set--choice',\n  FILTER: 'mdc-chip-set--filter',\n};\n\nexport {strings, cssClasses};\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDC Chip Set.\n *\n * Defines the shape of the adapter expected by the foundation. Implement this\n * adapter to integrate the Chip Set into your framework. See\n * https://github.com/material-components/material-components-web/blob/master/docs/authoring-components.md\n * for more information.\n *\n * @record\n */\nclass MDCChipSetAdapter {\n  /**\n   * Returns true if the root element contains the given class name.\n   * @param {string} className\n   * @return {boolean}\n   */\n  hasClass(className) {}\n\n  /**\n   * Removes the chip with the given id from the chip set.\n   * @param {string} chipId\n   */\n  removeChip(chipId) {}\n\n  /**\n   * Sets the selected state of the chip with the given id.\n   * @param {string} chipId\n   * @param {boolean} selected\n   */\n  setSelected(chipId, selected) {}\n}\n\nexport default MDCChipSetAdapter;\n","import {\r\n  AfterContentInit,\r\n  AfterViewInit,\r\n  Attribute,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  ContentChildren,\r\n  Directive,\r\n  ElementRef,\r\n  EventEmitter,\r\n  forwardRef,\r\n  Inject,\r\n  InjectionToken,\r\n  Input,\r\n  NgZone,\r\n  OnDestroy,\r\n  Optional,\r\n  Output,\r\n  QueryList,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { fromEvent, Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport {\r\n  toBoolean,\r\n  Platform\r\n} from '@angular-mdc/web/common';\r\nimport { MdcRipple } from '@angular-mdc/web/ripple';\r\nimport {\r\n  MdcIcon,\r\n  MdcIconLocation,\r\n  MDC_ICON_LOCATION,\r\n  MdcIconRegistry\r\n} from '@angular-mdc/web/icon';\r\n\r\nimport { cssClasses } from '@material/chips/chip/constants';\r\nimport { MDCChipFoundation } from '@material/chips/chip/index';\r\n\r\nexport interface MdcChipInteractionEvent {\r\n  detail: {\r\n    chipId: string\r\n  };\r\n}\r\n\r\nexport interface MdcChipSelectionEvent extends MdcChipInteractionEvent {\r\n  isUserInput?: boolean;\r\n  detail: {\r\n    chipId: string,\r\n    selected: boolean,\r\n    value: any\r\n  };\r\n}\r\n\r\nexport interface MdcChipRemovedEvent extends MdcChipInteractionEvent {\r\n  detail: {\r\n    chipId: string,\r\n    root: MdcChip\r\n  };\r\n}\r\n\r\n/**\r\n * Describes a parent MdcChipSet component.\r\n * Contains properties that MdcChip can inherit.\r\n */\r\nexport interface MdcChipSetParentComponent {\r\n  input: boolean;\r\n  filter: boolean;\r\n  choice: boolean;\r\n}\r\n\r\n/**\r\n * Injection token used to provide the parent MdcChipSet component to MdcChip.\r\n */\r\nexport const MDC_CHIPSET_PARENT_COMPONENT =\r\n  new InjectionToken<MdcChipSetParentComponent>('MDC_CHIPSET_PARENT_COMPONENT');\r\n\r\nlet nextUniqueId = 0;\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'mdc-chip-checkmark',\r\n  exportAs: 'mdcChipCheckmark',\r\n  template: `\r\n  <div class=\"mdc-chip__checkmark\">\r\n    <svg\r\n      class=\"mdc-chip__checkmark-svg\"\r\n      viewBox=\"-2 -3 30 30\"\r\n      focusable=\"false\">\r\n      <path class=\"mdc-chip__checkmark-path\" fill=\"none\" stroke=\"black\" d=\"M1.73,12.91 8.1,19.28 22.79,4.59\"/>\r\n    </svg>\r\n  </div>`,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class MdcChipCheckmark {\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: 'mdc-chip-text, [mdcChipText]',\r\n  host: { 'class': 'mdc-chip__text' }\r\n})\r\nexport class MdcChipText {\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'mdc-chip',\r\n  exportAs: 'mdcChip',\r\n  host: {\r\n    '[id]': 'id',\r\n    '[attr.tabindex]': 'disabled ? null : 0',\r\n    'class': 'mdc-chip',\r\n    '[class.ngx-mdc-chip--primary]': 'primary',\r\n    '[class.ngx-mdc-chip--secondary]': 'secondary',\r\n    '(click)': '_handleInteraction($event)',\r\n    '(keydown)': '_handleInteraction($event)'\r\n  },\r\n  template: `\r\n  <ng-content select=\"mdc-chip-icon[leading]\"></ng-content>\r\n  <mdc-chip-checkmark *ngIf=\"filter\"></mdc-chip-checkmark>\r\n  <div class=\"mdc-chip__text\" *ngIf=\"label\">{{label}}</div>\r\n  <ng-content></ng-content>`,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  providers: [MdcRipple]\r\n})\r\nexport class MdcChip implements AfterViewInit, OnDestroy {\r\n  /** Emits whenever the component is destroyed. */\r\n  private _destroyed = new Subject<void>();\r\n\r\n  private _id = `mdc-chip-${nextUniqueId++}`;\r\n\r\n  /** The unique ID of the chip. */\r\n  get id(): string { return this._id; }\r\n\r\n  get leadingIcon(): MdcChipIcon | undefined {\r\n    return this._icons.find((_: MdcChipIcon) => _.leading);\r\n  }\r\n\r\n  @Input() label?: string;\r\n\r\n  @Input()\r\n  get selected(): boolean { return this._selected; }\r\n  set selected(value: boolean) {\r\n    const newValue = toBoolean(value);\r\n    this._selected = newValue;\r\n    this._foundation.setSelected(newValue);\r\n\r\n    if (this.filter && this.leadingIcon) {\r\n      this.leadingIcon.elementRef.nativeElement.classList.remove(cssClasses.HIDDEN_LEADING_ICON);\r\n    }\r\n  }\r\n  private _selected: boolean = false;\r\n\r\n  @Input()\r\n  get filter(): boolean { return this._filter; }\r\n  set filter(value: boolean) {\r\n    const newValue = toBoolean(value);\r\n    if (newValue !== this._filter) {\r\n      this._filter = newValue;\r\n    }\r\n  }\r\n  private _filter: boolean = false;\r\n\r\n  @Input()\r\n  get choice(): boolean { return this._choice; }\r\n  set choice(value: boolean) {\r\n    this._choice = toBoolean(value);\r\n  }\r\n  private _choice: boolean = false;\r\n\r\n  @Input()\r\n  get input(): boolean { return this._input; }\r\n  set input(value: boolean) {\r\n    this._input = toBoolean(value);\r\n  }\r\n  private _input: boolean = false;\r\n\r\n  @Input()\r\n  get primary(): boolean { return this._primary; }\r\n  set primary(value: boolean) {\r\n    this._primary = toBoolean(value);\r\n  }\r\n  private _primary: boolean = false;\r\n\r\n  @Input()\r\n  get secondary(): boolean { return this._secondary; }\r\n  set secondary(value: boolean) {\r\n    this._secondary = toBoolean(value);\r\n  }\r\n  private _secondary: boolean = false;\r\n\r\n  /** Determines whether or not the chip displays the remove styling and emits (removed) events. */\r\n  @Input()\r\n  get removable(): boolean { return this._removable; }\r\n  set removable(value: boolean) {\r\n    const newValue = toBoolean(value);\r\n    if (newValue !== this._removable) {\r\n      this._removable = value;\r\n      this._foundation.setShouldRemoveOnTrailingIconClick(this._removable);\r\n    }\r\n  }\r\n  private _removable: boolean = true;\r\n\r\n  /** Whether the chip is disabled. */\r\n  @Input()\r\n  get disabled(): boolean { return this._disabled; }\r\n  set disabled(value: boolean) {\r\n    this._disabled = toBoolean(value);\r\n  }\r\n  private _disabled: boolean = false;\r\n\r\n  /** Whether the chip ripple is disabled. */\r\n  @Input()\r\n  get disableRipple(): boolean { return this._disableRipple; }\r\n  set disableRipple(value: boolean) {\r\n    this._disableRipple = toBoolean(value);\r\n  }\r\n  private _disableRipple: boolean = false;\r\n\r\n  /** The value of the chip. Defaults to the content inside `<mdc-chip>` tags. */\r\n  @Input()\r\n  get value(): any {\r\n    return this._value !== undefined\r\n      ? this._value\r\n      : this.elementRef.nativeElement.textContent;\r\n  }\r\n  set value(value: any) { this._value = value; }\r\n  protected _value: any;\r\n\r\n  /** Emitted when the chip is selected or deselected. */\r\n  @Output() readonly selectionChange: EventEmitter<MdcChipSelectionEvent> =\r\n    new EventEmitter<MdcChipSelectionEvent>();\r\n\r\n  /** Emitted when the chip icon is interacted with. */\r\n  @Output() readonly trailingIconInteraction: EventEmitter<MdcChipInteractionEvent> =\r\n    new EventEmitter<MdcChipInteractionEvent>();\r\n\r\n  /** Emitted when a chip is to be removed. */\r\n  @Output() readonly removed: EventEmitter<MdcChipRemovedEvent> =\r\n    new EventEmitter<MdcChipRemovedEvent>();\r\n\r\n  @ContentChild(MdcChipCheckmark) _checkmark?: MdcChipCheckmark;\r\n  @ContentChildren(forwardRef(() => MdcChipIcon), { descendants: true }) _icons!: QueryList<MdcChipIcon>;\r\n\r\n  private _createAdapter() {\r\n    return {\r\n      addClass: (className: string) => this._getHostElement().classList.add(className),\r\n      removeClass: (className: string) => this._getHostElement().classList.remove(className),\r\n      hasClass: (className: string) => this._getHostElement().classList.contains(className),\r\n      addClassToLeadingIcon: (className: string) => {\r\n        if (this.leadingIcon) {\r\n          this.leadingIcon.elementRef.nativeElement.classList.add(className);\r\n        }\r\n      },\r\n      removeClassFromLeadingIcon: (className: string) => {\r\n        if (this.leadingIcon) {\r\n          this.leadingIcon.elementRef.nativeElement.classList.remove(className);\r\n        }\r\n      },\r\n      eventTargetHasClass: (target: HTMLElement, className: string) => target.classList.contains(className),\r\n      notifyInteraction: () => this._emitSelectionChangeEvent(true),\r\n      notifyTrailingIconInteraction: () => this.trailingIconInteraction.emit({ detail: { chipId: this.id } }),\r\n      notifyRemoval: () => this.removed.emit({ detail: { chipId: this.id, root: this } }),\r\n      getComputedStyleValue: (propertyName: string) => {\r\n        if (!this._platform.isBrowser) { return; }\r\n        return window.getComputedStyle(this._getHostElement()).getPropertyValue(propertyName);\r\n      },\r\n      setStyleProperty: (propertyName: string, value: string) =>\r\n        this._getHostElement().style.setProperty(propertyName, value),\r\n      hasLeadingIcon: () => !!this.leadingIcon,\r\n      getRootBoundingClientRect: () => this._getHostElement().getBoundingClientRect(),\r\n      getCheckmarkBoundingClientRect: () => this._checkmark ?\r\n        this._checkmark.elementRef.nativeElement.getBoundingClientRect() : null\r\n    };\r\n  }\r\n\r\n  private _foundation: {\r\n    init(): void,\r\n    destroy(): void,\r\n    setSelected(selected: boolean): void,\r\n    setShouldRemoveOnTrailingIconClick(shouldRemove: boolean): void,\r\n    handleInteraction(evt: KeyboardEvent | MouseEvent): void,\r\n    handleTransitionEnd(evt: TransitionEvent): void,\r\n    handleTrailingIconInteraction(evt: KeyboardEvent | MouseEvent): void,\r\n    getDimensions(): ClientRect\r\n  } = new MDCChipFoundation(this._createAdapter());\r\n\r\n  constructor(\r\n    private _platform: Platform,\r\n    private _ngZone: NgZone,\r\n    private _changeDetectorRef: ChangeDetectorRef,\r\n    private _ripple: MdcRipple,\r\n    public elementRef: ElementRef<HTMLElement>,\r\n    @Optional() @Inject(MDC_CHIPSET_PARENT_COMPONENT) private _parent: MdcChipSetParentComponent) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this._foundation.init();\r\n    this._setVariantFromChipSet();\r\n    this._initRipple();\r\n    this._loadListeners();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._destroyed.next();\r\n    this._destroyed.complete();\r\n\r\n    this._ripple.destroy();\r\n    if (this._foundation) {\r\n      this._foundation.destroy();\r\n    }\r\n  }\r\n\r\n  /** Selects the chip. */\r\n  select(): void {\r\n    if (!this._selected) {\r\n      this._selected = true;\r\n      this._emitSelectionChangeEvent();\r\n    }\r\n  }\r\n\r\n  /** Deselects the chip. */\r\n  deselect(): void {\r\n    if (this._selected) {\r\n      this._selected = false;\r\n      this._emitSelectionChangeEvent();\r\n    }\r\n  }\r\n\r\n  /** Select this chip and emit selected event */\r\n  selectViaInteraction(): void {\r\n    if (!this._selected) {\r\n      this._selected = true;\r\n      this._emitSelectionChangeEvent(true);\r\n    }\r\n  }\r\n\r\n  /** Allows for programmatic focusing of the chip. */\r\n  focus(): void {\r\n    this._getHostElement().focus();\r\n  }\r\n\r\n  _handleInteraction(evt: KeyboardEvent | MouseEvent): void {\r\n    this._selected = !this._selected;\r\n    this._foundation.handleInteraction(evt);\r\n  }\r\n\r\n  _handleTrailingIconInteraction(evt: KeyboardEvent | MouseEvent): void {\r\n    this._foundation.handleTrailingIconInteraction(evt);\r\n  }\r\n\r\n  private _initRipple(): void {\r\n    this._ripple.init({\r\n      surface: this._getHostElement()\r\n    }, Object.assign(this._ripple.createAdapter(), {\r\n      isSurfaceDisabled: () => this._disableRipple,\r\n      computeBoundingRect: () => this._foundation.getDimensions()\r\n    }));\r\n  }\r\n\r\n  private _setVariantFromChipSet(): void {\r\n    if (this._parent) {\r\n      this.input = this._parent.input;\r\n      this.filter = this._parent.filter;\r\n      this.choice = this._parent.choice;\r\n\r\n      this._changeDetectorRef.detectChanges();\r\n    }\r\n  }\r\n\r\n  private _loadListeners(): void {\r\n    this._ngZone.runOutsideAngular(() =>\r\n      fromEvent<TransitionEvent>(this._getHostElement(), 'transitionend')\r\n        .pipe(takeUntil(this._destroyed))\r\n        .subscribe(evt => this._ngZone.run(() => this._foundation.handleTransitionEnd(evt))));\r\n  }\r\n\r\n  /** Emits the removed event. */\r\n  _emitRemovedEvent(): void {\r\n    this.removed.emit({ detail: { chipId: this.id, root: this } });\r\n  }\r\n\r\n  /** Emits the selection change event. */\r\n  private _emitSelectionChangeEvent(isUserInput?: boolean): void {\r\n    this.selectionChange.emit({\r\n      isUserInput: isUserInput,\r\n      detail: { chipId: this.id, selected: this._selected, value: this._value }\r\n    });\r\n  }\r\n\r\n  /** Retrieves the DOM element of the component host. */\r\n  private _getHostElement(): HTMLElement {\r\n    return this.elementRef.nativeElement;\r\n  }\r\n}\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'mdc-chip-icon, [mdcChipIcon]',\r\n  exportAs: 'mdcChipIcon',\r\n  host: {\r\n    'class': 'mdc-chip__icon ngx-mdc-icon',\r\n    '[attr.role]': 'role',\r\n    '[attr.tabindex]': 'tabIndex',\r\n    '[class.ngx-mdc-icon--clickable]': 'clickable',\r\n    '[class.ngx-mdc-icon--inline]': 'inline',\r\n    '[class.mdc-chip__icon--leading]': 'leading',\r\n    '[class.mdc-chip__icon--trailing]': 'trailing',\r\n    '(click)': '_onIconInteraction($event)',\r\n    '(keydown)': '_onIconInteraction($event)'\r\n  },\r\n  template: '<ng-content></ng-content>',\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class MdcChipIcon extends MdcIcon implements AfterContentInit {\r\n  @Input()\r\n  get leading(): boolean { return this._leading; }\r\n  set leading(value: boolean) {\r\n    this._leading = toBoolean(value);\r\n  }\r\n  private _leading: boolean = false;\r\n\r\n  @Input()\r\n  get trailing(): boolean { return this._trailing; }\r\n  set trailing(value: boolean) {\r\n    this._trailing = toBoolean(value);\r\n  }\r\n  private _trailing: boolean = false;\r\n\r\n  constructor(\r\n    private _parentChip: MdcChip,\r\n    elementRef: ElementRef<HTMLElement>,\r\n    iconRegistry: MdcIconRegistry,\r\n    @Attribute('aria-hidden') ariaHidden: string,\r\n    @Inject(MDC_ICON_LOCATION) location?: MdcIconLocation) {\r\n\r\n    super(elementRef, iconRegistry, ariaHidden, location);\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    if (this.trailing) {\r\n      this.tabIndex = 0;\r\n      this.role = 'button';\r\n    }\r\n  }\r\n\r\n  _onIconInteraction(evt: KeyboardEvent | MouseEvent): void {\r\n    if (this.trailing) {\r\n      this._parentChip._handleTrailingIconInteraction(evt);\r\n      if (this._parentChip.removable && this._parentChip.input) {\r\n        this._parentChip._emitRemovedEvent();\r\n      }\r\n    }\r\n  }\r\n}\r\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCComponent from '@material/base/component';\nimport {MDCRipple, MDCRippleFoundation} from '@material/ripple/index';\n\nimport MDCChipAdapter from './adapter';\nimport {MDCChipFoundation} from './foundation';\nimport {strings} from './constants';\n\nconst INTERACTION_EVENTS = ['click', 'keydown'];\n\n/**\n * @extends {MDCComponent<!MDCChipFoundation>}\n * @final\n */\nclass MDCChip extends MDCComponent {\n  /**\n   * @param {...?} args\n   */\n  constructor(...args) {\n    super(...args);\n\n    /** @type {string} */\n    this.id;\n    /** @private {?Element} */\n    this.leadingIcon_;\n    /** @private {?Element} */\n    this.trailingIcon_;\n    /** @private {?Element} */\n    this.checkmark_;\n    /** @private {!MDCRipple} */\n    this.ripple_;\n\n    /** @private {?function(?Event): undefined} */\n    this.handleInteraction_;\n    /** @private {?function(!Event): undefined} */\n    this.handleTransitionEnd_;\n    /** @private {function(!Event): undefined} */\n    this.handleTrailingIconInteraction_;\n  }\n\n  /**\n   * @param {!Element} root\n   * @return {!MDCChip}\n   */\n  static attachTo(root) {\n    return new MDCChip(root);\n  }\n\n  initialize(\n    rippleFactory = (el, foundation) => new MDCRipple(el, foundation)) {\n    this.id = this.root_.id;\n    this.leadingIcon_ = this.root_.querySelector(strings.LEADING_ICON_SELECTOR);\n    this.trailingIcon_ = this.root_.querySelector(strings.TRAILING_ICON_SELECTOR);\n    this.checkmark_ = this.root_.querySelector(strings.CHECKMARK_SELECTOR);\n\n    const adapter = Object.assign(MDCRipple.createAdapter(this), {\n      computeBoundingRect: () => this.foundation_.getDimensions(),\n    });\n    this.ripple_ = rippleFactory(this.root_, new MDCRippleFoundation(adapter));\n  }\n\n  initialSyncWithDOM() {\n    this.handleInteraction_ = (evt) => this.foundation_.handleInteraction(evt);\n    this.handleTransitionEnd_ = (evt) => this.foundation_.handleTransitionEnd(evt);\n    this.handleTrailingIconInteraction_ = (evt) => this.foundation_.handleTrailingIconInteraction(evt);\n\n    INTERACTION_EVENTS.forEach((evtType) => {\n      this.root_.addEventListener(evtType, this.handleInteraction_);\n    });\n    this.root_.addEventListener('transitionend', this.handleTransitionEnd_);\n\n    if (this.trailingIcon_) {\n      INTERACTION_EVENTS.forEach((evtType) => {\n        this.trailingIcon_.addEventListener(evtType, this.handleTrailingIconInteraction_);\n      });\n    }\n  }\n\n  destroy() {\n    this.ripple_.destroy();\n\n    INTERACTION_EVENTS.forEach((evtType) => {\n      this.root_.removeEventListener(evtType, this.handleInteraction_);\n    });\n    this.root_.removeEventListener('transitionend', this.handleTransitionEnd_);\n\n    if (this.trailingIcon_) {\n      INTERACTION_EVENTS.forEach((evtType) => {\n        this.trailingIcon_.removeEventListener(evtType, this.handleTrailingIconInteraction_);\n      });\n    }\n\n    super.destroy();\n  }\n\n  /**\n   * Returns whether the chip is selected.\n   * @return {boolean}\n   */\n  get selected() {\n    return this.foundation_.isSelected();\n  }\n\n  /**\n   * Sets selected state on the chip.\n   * @param {boolean} selected\n   */\n  set selected(selected) {\n    this.foundation_.setSelected(selected);\n  }\n\n  /**\n   * Returns whether a trailing icon click should trigger exit/removal of the chip.\n   * @return {boolean}\n   */\n  get shouldRemoveOnTrailingIconClick() {\n    return this.foundation_.getShouldRemoveOnTrailingIconClick();\n  }\n\n  /**\n   * Sets whether a trailing icon click should trigger exit/removal of the chip.\n   * @param {boolean} shouldRemove\n   */\n  set shouldRemoveOnTrailingIconClick(shouldRemove) {\n    this.foundation_.setShouldRemoveOnTrailingIconClick(shouldRemove);\n  }\n\n  /**\n   * Begins the exit animation which leads to removal of the chip.\n   */\n  beginExit() {\n    this.foundation_.beginExit();\n  }\n\n  /**\n   * @return {!MDCChipFoundation}\n   */\n  getDefaultFoundation() {\n    return new MDCChipFoundation(/** @type {!MDCChipAdapter} */ (Object.assign({\n      addClass: (className) => this.root_.classList.add(className),\n      removeClass: (className) => this.root_.classList.remove(className),\n      hasClass: (className) => this.root_.classList.contains(className),\n      addClassToLeadingIcon: (className) => {\n        if (this.leadingIcon_) {\n          this.leadingIcon_.classList.add(className);\n        }\n      },\n      removeClassFromLeadingIcon: (className) => {\n        if (this.leadingIcon_) {\n          this.leadingIcon_.classList.remove(className);\n        }\n      },\n      eventTargetHasClass: (target, className) => target.classList.contains(className),\n      notifyInteraction: () => this.emit(strings.INTERACTION_EVENT, {chipId: this.id}, true /* shouldBubble */),\n      notifySelection: (selected) => this.emit(\n        strings.SELECTION_EVENT, {chipId: this.id, selected: selected}, true /* shouldBubble */),\n      notifyTrailingIconInteraction: () => this.emit(\n        strings.TRAILING_ICON_INTERACTION_EVENT, {chipId: this.id}, true /* shouldBubble */),\n      notifyRemoval: () =>\n        this.emit(strings.REMOVAL_EVENT, {chipId: this.id, root: this.root_}, true /* shouldBubble */),\n      getComputedStyleValue: (propertyName) => window.getComputedStyle(this.root_).getPropertyValue(propertyName),\n      setStyleProperty: (propertyName, value) => this.root_.style.setProperty(propertyName, value),\n      hasLeadingIcon: () => !!this.leadingIcon_,\n      getRootBoundingClientRect: () => this.root_.getBoundingClientRect(),\n      getCheckmarkBoundingClientRect: () => this.checkmark_ ? this.checkmark_.getBoundingClientRect() : null,\n    })));\n  }\n\n  /** @return {!MDCRipple} */\n  get ripple() {\n    return this.ripple_;\n  }\n}\n\nexport {MDCChip, MDCChipFoundation};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCFoundation from '@material/base/foundation';\nimport MDCChipAdapter from './adapter';\nimport {strings, cssClasses} from './constants';\n\n\n/**\n * @extends {MDCFoundation<!MDCChipAdapter>}\n * @final\n */\nclass MDCChipFoundation extends MDCFoundation {\n  /** @return enum {string} */\n  static get strings() {\n    return strings;\n  }\n\n  /** @return enum {string} */\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  /**\n   * {@see MDCChipAdapter} for typing information on parameters and return\n   * types.\n   * @return {!MDCChipAdapter}\n   */\n  static get defaultAdapter() {\n    return /** @type {!MDCChipAdapter} */ ({\n      addClass: () => {},\n      removeClass: () => {},\n      hasClass: () => {},\n      addClassToLeadingIcon: () => {},\n      removeClassFromLeadingIcon: () => {},\n      eventTargetHasClass: () => {},\n      notifyInteraction: () => {},\n      notifySelection: () => {},\n      notifyTrailingIconInteraction: () => {},\n      notifyRemoval: () => {},\n      getComputedStyleValue: () => {},\n      setStyleProperty: () => {},\n      hasLeadingIcon: () => {},\n      getRootBoundingClientRect: () => {},\n      getCheckmarkBoundingClientRect: () => {},\n    });\n  }\n\n  /**\n   * @param {!MDCChipAdapter} adapter\n   */\n  constructor(adapter) {\n    super(Object.assign(MDCChipFoundation.defaultAdapter, adapter));\n\n    /**\n     * Whether a trailing icon click should immediately trigger exit/removal of the chip.\n     * @private {boolean}\n     * */\n    this.shouldRemoveOnTrailingIconClick_ = true;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isSelected() {\n    return this.adapter_.hasClass(cssClasses.SELECTED);\n  }\n\n  /**\n   * @param {boolean} selected\n   */\n  setSelected(selected) {\n    if (selected) {\n      this.adapter_.addClass(cssClasses.SELECTED);\n    } else {\n      this.adapter_.removeClass(cssClasses.SELECTED);\n    }\n    this.adapter_.notifySelection(selected);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  getShouldRemoveOnTrailingIconClick() {\n    return this.shouldRemoveOnTrailingIconClick_;\n  }\n\n  /**\n   * @param {boolean} shouldRemove\n   */\n  setShouldRemoveOnTrailingIconClick(shouldRemove) {\n    this.shouldRemoveOnTrailingIconClick_ = shouldRemove;\n  }\n\n  /** @return {!ClientRect} */\n  getDimensions() {\n    // When a chip has a checkmark and not a leading icon, the bounding rect changes in size depending on the current\n    // size of the checkmark.\n    if (!this.adapter_.hasLeadingIcon() && this.adapter_.getCheckmarkBoundingClientRect() !== null) {\n      const height = this.adapter_.getRootBoundingClientRect().height;\n      // The checkmark's width is initially set to 0, so use the checkmark's height as a proxy since the checkmark\n      // should always be square.\n      const width =\n          this.adapter_.getRootBoundingClientRect().width + this.adapter_.getCheckmarkBoundingClientRect().height;\n      return /** @type {!ClientRect} */ ({height, width});\n    } else {\n      return this.adapter_.getRootBoundingClientRect();\n    }\n  }\n\n  /**\n   * Begins the exit animation which leads to removal of the chip.\n   */\n  beginExit() {\n    this.adapter_.addClass(cssClasses.CHIP_EXIT);\n  }\n\n  /**\n   * Handles an interaction event on the root element.\n   * @param {!Event} evt\n   */\n  handleInteraction(evt) {\n    if (evt.type === 'click' || evt.key === 'Enter' || evt.keyCode === 13) {\n      this.adapter_.notifyInteraction();\n    }\n  }\n\n  /**\n   * Handles a transition end event on the root element.\n   * @param {!Event} evt\n   */\n  handleTransitionEnd(evt) {\n    // Handle transition end event on the chip when it is about to be removed.\n    if (this.adapter_.eventTargetHasClass(/** @type {!EventTarget} */ (evt.target), cssClasses.CHIP_EXIT)) {\n      if (evt.propertyName === 'width') {\n        this.adapter_.notifyRemoval();\n      } else if (evt.propertyName === 'opacity') {\n        // See: https://css-tricks.com/using-css-transitions-auto-dimensions/#article-header-id-5\n        const chipWidth = this.adapter_.getComputedStyleValue('width');\n\n        // On the next frame (once we get the computed width), explicitly set the chip's width\n        // to its current pixel width, so we aren't transitioning out of 'auto'.\n        requestAnimationFrame(() => {\n          this.adapter_.setStyleProperty('width', chipWidth);\n\n          // To mitigate jitter, start transitioning padding and margin before width.\n          this.adapter_.setStyleProperty('padding', '0');\n          this.adapter_.setStyleProperty('margin', '0');\n\n          // On the next frame (once width is explicitly set), transition width to 0.\n          requestAnimationFrame(() => {\n            this.adapter_.setStyleProperty('width', '0');\n          });\n        });\n      }\n      return;\n    }\n\n    // Handle a transition end event on the leading icon or checkmark, since the transition end event bubbles.\n    if (evt.propertyName !== 'opacity') {\n      return;\n    }\n    if (this.adapter_.eventTargetHasClass(/** @type {!EventTarget} */ (evt.target), cssClasses.LEADING_ICON) &&\n        this.adapter_.hasClass(cssClasses.SELECTED)) {\n      this.adapter_.addClassToLeadingIcon(cssClasses.HIDDEN_LEADING_ICON);\n    } else if (this.adapter_.eventTargetHasClass(/** @type {!EventTarget} */ (evt.target), cssClasses.CHECKMARK) &&\n               !this.adapter_.hasClass(cssClasses.SELECTED)) {\n      this.adapter_.removeClassFromLeadingIcon(cssClasses.HIDDEN_LEADING_ICON);\n    }\n  }\n\n  /**\n   * Handles an interaction event on the trailing icon element. This is used to\n   * prevent the ripple from activating on interaction with the trailing icon.\n   * @param {!Event} evt\n   */\n  handleTrailingIconInteraction(evt) {\n    evt.stopPropagation();\n    if (evt.type === 'click' || evt.key === 'Enter' || evt.keyCode === 13) {\n      this.adapter_.notifyTrailingIconInteraction();\n      if (this.shouldRemoveOnTrailingIconClick_) {\n        this.beginExit();\n      }\n    }\n  }\n}\n\n/**\n * @typedef {{\n *   detail: {\n *     chipId: string,\n *   },\n *   bubbles: boolean,\n * }}\n */\nlet MDCChipInteractionEventType;\n\n/**\n * @typedef {{\n *   detail: {\n *     chipId: string,\n *     selected: boolean,\n *   },\n *   bubbles: boolean,\n * }}\n */\nlet MDCChipSelectionEventType;\n\n/**\n * @typedef {{\n *   detail: {\n *     chipId: string,\n *     root: Element,\n *   },\n *   bubbles: boolean,\n * }}\n */\nlet MDCChipRemovalEventType;\n\nexport {MDCChipFoundation, MDCChipInteractionEventType, MDCChipSelectionEventType, MDCChipRemovalEventType};\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDC Chip.\n *\n * Defines the shape of the adapter expected by the foundation. Implement this\n * adapter to integrate the Chip into your framework. See\n * https://github.com/material-components/material-components-web/blob/master/docs/authoring-components.md\n * for more information.\n *\n * @record\n */\nclass MDCChipAdapter {\n  /**\n   * Adds a class to the root element.\n   * @param {string} className\n   */\n  addClass(className) {}\n\n  /**\n   * Removes a class from the root element.\n   * @param {string} className\n   */\n  removeClass(className) {}\n\n  /**\n   * Returns true if the root element contains the given class.\n   * @param {string} className\n   * @return {boolean}\n   */\n  hasClass(className) {}\n\n  /**\n   * Adds a class to the leading icon element.\n   * @param {string} className\n   */\n  addClassToLeadingIcon(className) {}\n\n  /**\n   * Removes a class from the leading icon element.\n   * @param {string} className\n   */\n  removeClassFromLeadingIcon(className) {}\n\n  /**\n   * Returns true if target has className, false otherwise.\n   * @param {!EventTarget} target\n   * @param {string} className\n   * @return {boolean}\n   */\n  eventTargetHasClass(target, className) {}\n\n  /**\n   * Emits a custom \"MDCChip:interaction\" event denoting the chip has been\n   * interacted with (typically on click or keydown).\n   */\n  notifyInteraction() {}\n\n  /**\n   * Emits a custom \"MDCChip:selection\" event denoting the chip has been selected or deselected.\n   * @param {boolean} selected\n   */\n  notifySelection(selected) {}\n\n  /**\n   * Emits a custom \"MDCChip:trailingIconInteraction\" event denoting the trailing icon has been\n   * interacted with (typically on click or keydown).\n   */\n  notifyTrailingIconInteraction() {}\n\n  /**\n   * Emits a custom event \"MDCChip:removal\" denoting the chip will be removed.\n   */\n  notifyRemoval() {}\n\n  /**\n   * Returns the computed property value of the given style property on the root element.\n   * @param {string} propertyName\n   * @return {string}\n   */\n  getComputedStyleValue(propertyName) {}\n\n  /**\n   * Sets the property value of the given style property on the root element.\n   * @param {string} propertyName\n   * @param {string} value\n   */\n  setStyleProperty(propertyName, value) {}\n\n  /**\n   * Returns whether the chip has a leading icon.\n   * @return {boolean}\n   */\n  hasLeadingIcon() {}\n\n  /**\n   * Returns the bounding client rect of the root element.\n   * @return {!ClientRect}\n   */\n  getRootBoundingClientRect() {}\n\n  /**\n   * Returns the bounding client rect of the checkmark element or null if it doesn't exist.\n   * @return {?ClientRect}\n   */\n  getCheckmarkBoundingClientRect() {}\n}\n\nexport default MDCChipAdapter;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCComponent from '@material/base/component';\nimport MDCRippleAdapter from './adapter';\nimport MDCRippleFoundation from './foundation';\nimport * as util from './util';\n\n/**\n * @extends MDCComponent<!MDCRippleFoundation>\n */\nclass MDCRipple extends MDCComponent {\n  /** @param {...?} args */\n  constructor(...args) {\n    super(...args);\n\n    /** @type {boolean} */\n    this.disabled = false;\n\n    /** @private {boolean} */\n    this.unbounded_;\n  }\n\n  /**\n   * @param {!Element} root\n   * @param {{isUnbounded: (boolean|undefined)}=} options\n   * @return {!MDCRipple}\n   */\n  static attachTo(root, {isUnbounded = undefined} = {}) {\n    const ripple = new MDCRipple(root);\n    // Only override unbounded behavior if option is explicitly specified\n    if (isUnbounded !== undefined) {\n      ripple.unbounded = /** @type {boolean} */ (isUnbounded);\n    }\n    return ripple;\n  }\n\n  /**\n   * @param {!RippleCapableSurface} instance\n   * @return {!MDCRippleAdapter}\n   */\n  static createAdapter(instance) {\n    const MATCHES = util.getMatchesProperty(HTMLElement.prototype);\n\n    return {\n      browserSupportsCssVars: () => util.supportsCssVariables(window),\n      isUnbounded: () => instance.unbounded,\n      isSurfaceActive: () => instance.root_[MATCHES](':active'),\n      isSurfaceDisabled: () => instance.disabled,\n      addClass: (className) => instance.root_.classList.add(className),\n      removeClass: (className) => instance.root_.classList.remove(className),\n      containsEventTarget: (target) => instance.root_.contains(target),\n      registerInteractionHandler: (evtType, handler) =>\n        instance.root_.addEventListener(evtType, handler, util.applyPassive()),\n      deregisterInteractionHandler: (evtType, handler) =>\n        instance.root_.removeEventListener(evtType, handler, util.applyPassive()),\n      registerDocumentInteractionHandler: (evtType, handler) =>\n        document.documentElement.addEventListener(evtType, handler, util.applyPassive()),\n      deregisterDocumentInteractionHandler: (evtType, handler) =>\n        document.documentElement.removeEventListener(evtType, handler, util.applyPassive()),\n      registerResizeHandler: (handler) => window.addEventListener('resize', handler),\n      deregisterResizeHandler: (handler) => window.removeEventListener('resize', handler),\n      updateCssVariable: (varName, value) => instance.root_.style.setProperty(varName, value),\n      computeBoundingRect: () => instance.root_.getBoundingClientRect(),\n      getWindowPageOffset: () => ({x: window.pageXOffset, y: window.pageYOffset}),\n    };\n  }\n\n  /** @return {boolean} */\n  get unbounded() {\n    return this.unbounded_;\n  }\n\n  /** @param {boolean} unbounded */\n  set unbounded(unbounded) {\n    this.unbounded_ = Boolean(unbounded);\n    this.setUnbounded_();\n  }\n\n  /**\n   * Closure Compiler throws an access control error when directly accessing a\n   * protected or private property inside a getter/setter, like unbounded above.\n   * By accessing the protected property inside a method, we solve that problem.\n   * That's why this function exists.\n   * @private\n   */\n  setUnbounded_() {\n    this.foundation_.setUnbounded(this.unbounded_);\n  }\n\n  activate() {\n    this.foundation_.activate();\n  }\n\n  deactivate() {\n    this.foundation_.deactivate();\n  }\n\n  layout() {\n    this.foundation_.layout();\n  }\n\n  /**\n   * @return {!MDCRippleFoundation}\n   * @override\n   */\n  getDefaultFoundation() {\n    return new MDCRippleFoundation(MDCRipple.createAdapter(this));\n  }\n\n  /** @override */\n  initialSyncWithDOM() {\n    this.unbounded = 'mdcRippleIsUnbounded' in this.root_.dataset;\n  }\n}\n\n/**\n * See Material Design spec for more details on when to use ripples.\n * https://material.io/guidelines/motion/choreography.html#choreography-creation\n * @record\n */\nclass RippleCapableSurface {}\n\n/** @protected {!Element} */\nRippleCapableSurface.prototype.root_;\n\n/**\n * Whether or not the ripple bleeds out of the bounds of the element.\n * @type {boolean|undefined}\n */\nRippleCapableSurface.prototype.unbounded;\n\n/**\n * Whether or not the ripple is attached to a disabled component.\n * @type {boolean|undefined}\n */\nRippleCapableSurface.prototype.disabled;\n\nexport {MDCRipple, MDCRippleFoundation, RippleCapableSurface, util};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCFoundation from '@material/base/foundation';\nimport MDCRippleAdapter from './adapter';\nimport {cssClasses, strings, numbers} from './constants';\nimport {getNormalizedEventCoords} from './util';\n\n/**\n * @typedef {{\n *   isActivated: (boolean|undefined),\n *   hasDeactivationUXRun: (boolean|undefined),\n *   wasActivatedByPointer: (boolean|undefined),\n *   wasElementMadeActive: (boolean|undefined),\n *   activationEvent: (!Event|undefined),\n *   isProgrammatic: (boolean|undefined)\n * }}\n */\nlet ActivationStateType;\n\n/**\n * @typedef {{\n *   activate: (string|undefined),\n *   deactivate: (string|undefined),\n *   focus: (string|undefined),\n *   blur: (string|undefined)\n * }}\n */\nlet ListenerInfoType;\n\n/**\n * @typedef {{\n *   activate: function(!Event),\n *   deactivate: function(!Event=),\n *   focus: function(),\n *   blur: function()\n * }}\n */\nlet ListenersType;\n\n/**\n * @typedef {{\n *   x: number,\n *   y: number\n * }}\n */\nlet PointType;\n\n// Activation events registered on the root element of each instance for activation\nconst ACTIVATION_EVENT_TYPES = ['touchstart', 'pointerdown', 'mousedown', 'keydown'];\n\n// Deactivation events registered on documentElement when a pointer-related down event occurs\nconst POINTER_DEACTIVATION_EVENT_TYPES = ['touchend', 'pointerup', 'mouseup', 'contextmenu'];\n\n// Tracks activations that have occurred on the current frame, to avoid simultaneous nested activations\n/** @type {!Array<!EventTarget>} */\nlet activatedTargets = [];\n\n/**\n * @extends {MDCFoundation<!MDCRippleAdapter>}\n */\nclass MDCRippleFoundation extends MDCFoundation {\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  static get strings() {\n    return strings;\n  }\n\n  static get numbers() {\n    return numbers;\n  }\n\n  static get defaultAdapter() {\n    return {\n      browserSupportsCssVars: () => /* boolean - cached */ {},\n      isUnbounded: () => /* boolean */ {},\n      isSurfaceActive: () => /* boolean */ {},\n      isSurfaceDisabled: () => /* boolean */ {},\n      addClass: (/* className: string */) => {},\n      removeClass: (/* className: string */) => {},\n      containsEventTarget: (/* target: !EventTarget */) => {},\n      registerInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      deregisterInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      registerDocumentInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      deregisterDocumentInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      registerResizeHandler: (/* handler: EventListener */) => {},\n      deregisterResizeHandler: (/* handler: EventListener */) => {},\n      updateCssVariable: (/* varName: string, value: string */) => {},\n      computeBoundingRect: () => /* ClientRect */ {},\n      getWindowPageOffset: () => /* {x: number, y: number} */ {},\n    };\n  }\n\n  constructor(adapter) {\n    super(Object.assign(MDCRippleFoundation.defaultAdapter, adapter));\n\n    /** @private {number} */\n    this.layoutFrame_ = 0;\n\n    /** @private {!ClientRect} */\n    this.frame_ = /** @type {!ClientRect} */ ({width: 0, height: 0});\n\n    /** @private {!ActivationStateType} */\n    this.activationState_ = this.defaultActivationState_();\n\n    /** @private {number} */\n    this.initialSize_ = 0;\n\n    /** @private {number} */\n    this.maxRadius_ = 0;\n\n    /** @private {function(!Event)} */\n    this.activateHandler_ = (e) => this.activate_(e);\n\n    /** @private {function(!Event=)} */\n    this.deactivateHandler_ = () => this.deactivate_();\n\n    /** @private {function(!Event=)} */\n    this.focusHandler_ = () => this.handleFocus();\n\n    /** @private {function(!Event=)} */\n    this.blurHandler_ = () => this.handleBlur();\n\n    /** @private {!Function} */\n    this.resizeHandler_ = () => this.layout();\n\n    /** @private {{left: number, top:number}} */\n    this.unboundedCoords_ = {\n      left: 0,\n      top: 0,\n    };\n\n    /** @private {number} */\n    this.fgScale_ = 0;\n\n    /** @private {number} */\n    this.activationTimer_ = 0;\n\n    /** @private {number} */\n    this.fgDeactivationRemovalTimer_ = 0;\n\n    /** @private {boolean} */\n    this.activationAnimationHasEnded_ = false;\n\n    /** @private {!Function} */\n    this.activationTimerCallback_ = () => {\n      this.activationAnimationHasEnded_ = true;\n      this.runDeactivationUXLogicIfReady_();\n    };\n\n    /** @private {!Event|undefined} */\n    this.previousActivationEvent_;\n  }\n\n  /**\n   * We compute this property so that we are not querying information about the client\n   * until the point in time where the foundation requests it. This prevents scenarios where\n   * client-side feature-detection may happen too early, such as when components are rendered on the server\n   * and then initialized at mount time on the client.\n   * @return {boolean}\n   * @private\n   */\n  supportsPressRipple_() {\n    return this.adapter_.browserSupportsCssVars();\n  }\n\n  /**\n   * @return {!ActivationStateType}\n   */\n  defaultActivationState_() {\n    return {\n      isActivated: false,\n      hasDeactivationUXRun: false,\n      wasActivatedByPointer: false,\n      wasElementMadeActive: false,\n      activationEvent: undefined,\n      isProgrammatic: false,\n    };\n  }\n\n  /** @override */\n  init() {\n    const supportsPressRipple = this.supportsPressRipple_();\n\n    this.registerRootHandlers_(supportsPressRipple);\n\n    if (supportsPressRipple) {\n      const {ROOT, UNBOUNDED} = MDCRippleFoundation.cssClasses;\n      requestAnimationFrame(() => {\n        this.adapter_.addClass(ROOT);\n        if (this.adapter_.isUnbounded()) {\n          this.adapter_.addClass(UNBOUNDED);\n          // Unbounded ripples need layout logic applied immediately to set coordinates for both shade and ripple\n          this.layoutInternal_();\n        }\n      });\n    }\n  }\n\n  /** @override */\n  destroy() {\n    if (this.supportsPressRipple_()) {\n      if (this.activationTimer_) {\n        clearTimeout(this.activationTimer_);\n        this.activationTimer_ = 0;\n        this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_ACTIVATION);\n      }\n\n      if (this.fgDeactivationRemovalTimer_) {\n        clearTimeout(this.fgDeactivationRemovalTimer_);\n        this.fgDeactivationRemovalTimer_ = 0;\n        this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_DEACTIVATION);\n      }\n\n      const {ROOT, UNBOUNDED} = MDCRippleFoundation.cssClasses;\n      requestAnimationFrame(() => {\n        this.adapter_.removeClass(ROOT);\n        this.adapter_.removeClass(UNBOUNDED);\n        this.removeCssVars_();\n      });\n    }\n\n    this.deregisterRootHandlers_();\n    this.deregisterDeactivationHandlers_();\n  }\n\n  /**\n   * @param {boolean} supportsPressRipple Passed from init to save a redundant function call\n   * @private\n   */\n  registerRootHandlers_(supportsPressRipple) {\n    if (supportsPressRipple) {\n      ACTIVATION_EVENT_TYPES.forEach((type) => {\n        this.adapter_.registerInteractionHandler(type, this.activateHandler_);\n      });\n      if (this.adapter_.isUnbounded()) {\n        this.adapter_.registerResizeHandler(this.resizeHandler_);\n      }\n    }\n\n    this.adapter_.registerInteractionHandler('focus', this.focusHandler_);\n    this.adapter_.registerInteractionHandler('blur', this.blurHandler_);\n  }\n\n  /**\n   * @param {!Event} e\n   * @private\n   */\n  registerDeactivationHandlers_(e) {\n    if (e.type === 'keydown') {\n      this.adapter_.registerInteractionHandler('keyup', this.deactivateHandler_);\n    } else {\n      POINTER_DEACTIVATION_EVENT_TYPES.forEach((type) => {\n        this.adapter_.registerDocumentInteractionHandler(type, this.deactivateHandler_);\n      });\n    }\n  }\n\n  /** @private */\n  deregisterRootHandlers_() {\n    ACTIVATION_EVENT_TYPES.forEach((type) => {\n      this.adapter_.deregisterInteractionHandler(type, this.activateHandler_);\n    });\n    this.adapter_.deregisterInteractionHandler('focus', this.focusHandler_);\n    this.adapter_.deregisterInteractionHandler('blur', this.blurHandler_);\n\n    if (this.adapter_.isUnbounded()) {\n      this.adapter_.deregisterResizeHandler(this.resizeHandler_);\n    }\n  }\n\n  /** @private */\n  deregisterDeactivationHandlers_() {\n    this.adapter_.deregisterInteractionHandler('keyup', this.deactivateHandler_);\n    POINTER_DEACTIVATION_EVENT_TYPES.forEach((type) => {\n      this.adapter_.deregisterDocumentInteractionHandler(type, this.deactivateHandler_);\n    });\n  }\n\n  /** @private */\n  removeCssVars_() {\n    const {strings} = MDCRippleFoundation;\n    Object.keys(strings).forEach((k) => {\n      if (k.indexOf('VAR_') === 0) {\n        this.adapter_.updateCssVariable(strings[k], null);\n      }\n    });\n  }\n\n  /**\n   * @param {!Event=} e\n   * @private\n   */\n  activate_(e) {\n    if (this.adapter_.isSurfaceDisabled()) {\n      return;\n    }\n\n    const activationState = this.activationState_;\n    if (activationState.isActivated) {\n      return;\n    }\n\n    // Avoid reacting to follow-on events fired by touch device after an already-processed user interaction\n    const previousActivationEvent = this.previousActivationEvent_;\n    const isSameInteraction = previousActivationEvent && e !== undefined && previousActivationEvent.type !== e.type;\n    if (isSameInteraction) {\n      return;\n    }\n\n    activationState.isActivated = true;\n    activationState.isProgrammatic = e === undefined;\n    activationState.activationEvent = e;\n    activationState.wasActivatedByPointer = activationState.isProgrammatic ? false : e !== undefined && (\n      e.type === 'mousedown' || e.type === 'touchstart' || e.type === 'pointerdown'\n    );\n\n    const hasActivatedChild = e !== undefined && activatedTargets.length > 0 && activatedTargets.some(\n      (target) => this.adapter_.containsEventTarget(target));\n    if (hasActivatedChild) {\n      // Immediately reset activation state, while preserving logic that prevents touch follow-on events\n      this.resetActivationState_();\n      return;\n    }\n\n    if (e !== undefined) {\n      activatedTargets.push(/** @type {!EventTarget} */ (e.target));\n      this.registerDeactivationHandlers_(e);\n    }\n\n    activationState.wasElementMadeActive = this.checkElementMadeActive_(e);\n    if (activationState.wasElementMadeActive) {\n      this.animateActivation_();\n    }\n\n    requestAnimationFrame(() => {\n      // Reset array on next frame after the current event has had a chance to bubble to prevent ancestor ripples\n      activatedTargets = [];\n\n      if (!activationState.wasElementMadeActive && e !== undefined && (e.key === ' ' || e.keyCode === 32)) {\n        // If space was pressed, try again within an rAF call to detect :active, because different UAs report\n        // active states inconsistently when they're called within event handling code:\n        // - https://bugs.chromium.org/p/chromium/issues/detail?id=635971\n        // - https://bugzilla.mozilla.org/show_bug.cgi?id=1293741\n        // We try first outside rAF to support Edge, which does not exhibit this problem, but will crash if a CSS\n        // variable is set within a rAF callback for a submit button interaction (#2241).\n        activationState.wasElementMadeActive = this.checkElementMadeActive_(e);\n        if (activationState.wasElementMadeActive) {\n          this.animateActivation_();\n        }\n      }\n\n      if (!activationState.wasElementMadeActive) {\n        // Reset activation state immediately if element was not made active.\n        this.activationState_ = this.defaultActivationState_();\n      }\n    });\n  }\n\n  /**\n   * @param {!Event=} e\n   * @private\n   */\n  checkElementMadeActive_(e) {\n    return (e !== undefined && e.type === 'keydown') ? this.adapter_.isSurfaceActive() : true;\n  }\n\n  /**\n   * @param {!Event=} event Optional event containing position information.\n   */\n  activate(event) {\n    this.activate_(event);\n  }\n\n  /** @private */\n  animateActivation_() {\n    const {VAR_FG_TRANSLATE_START, VAR_FG_TRANSLATE_END} = MDCRippleFoundation.strings;\n    const {FG_DEACTIVATION, FG_ACTIVATION} = MDCRippleFoundation.cssClasses;\n    const {DEACTIVATION_TIMEOUT_MS} = MDCRippleFoundation.numbers;\n\n    this.layoutInternal_();\n\n    let translateStart = '';\n    let translateEnd = '';\n\n    if (!this.adapter_.isUnbounded()) {\n      const {startPoint, endPoint} = this.getFgTranslationCoordinates_();\n      translateStart = `${startPoint.x}px, ${startPoint.y}px`;\n      translateEnd = `${endPoint.x}px, ${endPoint.y}px`;\n    }\n\n    this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_START, translateStart);\n    this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_END, translateEnd);\n    // Cancel any ongoing activation/deactivation animations\n    clearTimeout(this.activationTimer_);\n    clearTimeout(this.fgDeactivationRemovalTimer_);\n    this.rmBoundedActivationClasses_();\n    this.adapter_.removeClass(FG_DEACTIVATION);\n\n    // Force layout in order to re-trigger the animation.\n    this.adapter_.computeBoundingRect();\n    this.adapter_.addClass(FG_ACTIVATION);\n    this.activationTimer_ = setTimeout(() => this.activationTimerCallback_(), DEACTIVATION_TIMEOUT_MS);\n  }\n\n  /**\n   * @private\n   * @return {{startPoint: PointType, endPoint: PointType}}\n   */\n  getFgTranslationCoordinates_() {\n    const {activationEvent, wasActivatedByPointer} = this.activationState_;\n\n    let startPoint;\n    if (wasActivatedByPointer) {\n      startPoint = getNormalizedEventCoords(\n        /** @type {!Event} */ (activationEvent),\n        this.adapter_.getWindowPageOffset(), this.adapter_.computeBoundingRect()\n      );\n    } else {\n      startPoint = {\n        x: this.frame_.width / 2,\n        y: this.frame_.height / 2,\n      };\n    }\n    // Center the element around the start point.\n    startPoint = {\n      x: startPoint.x - (this.initialSize_ / 2),\n      y: startPoint.y - (this.initialSize_ / 2),\n    };\n\n    const endPoint = {\n      x: (this.frame_.width / 2) - (this.initialSize_ / 2),\n      y: (this.frame_.height / 2) - (this.initialSize_ / 2),\n    };\n\n    return {startPoint, endPoint};\n  }\n\n  /** @private */\n  runDeactivationUXLogicIfReady_() {\n    // This method is called both when a pointing device is released, and when the activation animation ends.\n    // The deactivation animation should only run after both of those occur.\n    const {FG_DEACTIVATION} = MDCRippleFoundation.cssClasses;\n    const {hasDeactivationUXRun, isActivated} = this.activationState_;\n    const activationHasEnded = hasDeactivationUXRun || !isActivated;\n\n    if (activationHasEnded && this.activationAnimationHasEnded_) {\n      this.rmBoundedActivationClasses_();\n      this.adapter_.addClass(FG_DEACTIVATION);\n      this.fgDeactivationRemovalTimer_ = setTimeout(() => {\n        this.adapter_.removeClass(FG_DEACTIVATION);\n      }, numbers.FG_DEACTIVATION_MS);\n    }\n  }\n\n  /** @private */\n  rmBoundedActivationClasses_() {\n    const {FG_ACTIVATION} = MDCRippleFoundation.cssClasses;\n    this.adapter_.removeClass(FG_ACTIVATION);\n    this.activationAnimationHasEnded_ = false;\n    this.adapter_.computeBoundingRect();\n  }\n\n  resetActivationState_() {\n    this.previousActivationEvent_ = this.activationState_.activationEvent;\n    this.activationState_ = this.defaultActivationState_();\n    // Touch devices may fire additional events for the same interaction within a short time.\n    // Store the previous event until it's safe to assume that subsequent events are for new interactions.\n    setTimeout(() => this.previousActivationEvent_ = undefined, MDCRippleFoundation.numbers.TAP_DELAY_MS);\n  }\n\n  /**\n   * @private\n   */\n  deactivate_() {\n    const activationState = this.activationState_;\n    // This can happen in scenarios such as when you have a keyup event that blurs the element.\n    if (!activationState.isActivated) {\n      return;\n    }\n\n    const state = /** @type {!ActivationStateType} */ (Object.assign({}, activationState));\n\n    if (activationState.isProgrammatic) {\n      requestAnimationFrame(() => this.animateDeactivation_(state));\n      this.resetActivationState_();\n    } else {\n      this.deregisterDeactivationHandlers_();\n      requestAnimationFrame(() => {\n        this.activationState_.hasDeactivationUXRun = true;\n        this.animateDeactivation_(state);\n        this.resetActivationState_();\n      });\n    }\n  }\n\n  deactivate() {\n    this.deactivate_();\n  }\n\n  /**\n   * @param {!ActivationStateType} options\n   * @private\n   */\n  animateDeactivation_({wasActivatedByPointer, wasElementMadeActive}) {\n    if (wasActivatedByPointer || wasElementMadeActive) {\n      this.runDeactivationUXLogicIfReady_();\n    }\n  }\n\n  layout() {\n    if (this.layoutFrame_) {\n      cancelAnimationFrame(this.layoutFrame_);\n    }\n    this.layoutFrame_ = requestAnimationFrame(() => {\n      this.layoutInternal_();\n      this.layoutFrame_ = 0;\n    });\n  }\n\n  /** @private */\n  layoutInternal_() {\n    this.frame_ = this.adapter_.computeBoundingRect();\n    const maxDim = Math.max(this.frame_.height, this.frame_.width);\n\n    // Surface diameter is treated differently for unbounded vs. bounded ripples.\n    // Unbounded ripple diameter is calculated smaller since the surface is expected to already be padded appropriately\n    // to extend the hitbox, and the ripple is expected to meet the edges of the padded hitbox (which is typically\n    // square). Bounded ripples, on the other hand, are fully expected to expand beyond the surface's longest diameter\n    // (calculated based on the diagonal plus a constant padding), and are clipped at the surface's border via\n    // `overflow: hidden`.\n    const getBoundedRadius = () => {\n      const hypotenuse = Math.sqrt(Math.pow(this.frame_.width, 2) + Math.pow(this.frame_.height, 2));\n      return hypotenuse + MDCRippleFoundation.numbers.PADDING;\n    };\n\n    this.maxRadius_ = this.adapter_.isUnbounded() ? maxDim : getBoundedRadius();\n\n    // Ripple is sized as a fraction of the largest dimension of the surface, then scales up using a CSS scale transform\n    this.initialSize_ = Math.floor(maxDim * MDCRippleFoundation.numbers.INITIAL_ORIGIN_SCALE);\n    this.fgScale_ = this.maxRadius_ / this.initialSize_;\n\n    this.updateLayoutCssVars_();\n  }\n\n  /** @private */\n  updateLayoutCssVars_() {\n    const {\n      VAR_FG_SIZE, VAR_LEFT, VAR_TOP, VAR_FG_SCALE,\n    } = MDCRippleFoundation.strings;\n\n    this.adapter_.updateCssVariable(VAR_FG_SIZE, `${this.initialSize_}px`);\n    this.adapter_.updateCssVariable(VAR_FG_SCALE, this.fgScale_);\n\n    if (this.adapter_.isUnbounded()) {\n      this.unboundedCoords_ = {\n        left: Math.round((this.frame_.width / 2) - (this.initialSize_ / 2)),\n        top: Math.round((this.frame_.height / 2) - (this.initialSize_ / 2)),\n      };\n\n      this.adapter_.updateCssVariable(VAR_LEFT, `${this.unboundedCoords_.left}px`);\n      this.adapter_.updateCssVariable(VAR_TOP, `${this.unboundedCoords_.top}px`);\n    }\n  }\n\n  /** @param {boolean} unbounded */\n  setUnbounded(unbounded) {\n    const {UNBOUNDED} = MDCRippleFoundation.cssClasses;\n    if (unbounded) {\n      this.adapter_.addClass(UNBOUNDED);\n    } else {\n      this.adapter_.removeClass(UNBOUNDED);\n    }\n  }\n\n  handleFocus() {\n    requestAnimationFrame(() =>\n      this.adapter_.addClass(MDCRippleFoundation.cssClasses.BG_FOCUSED));\n  }\n\n  handleBlur() {\n    requestAnimationFrame(() =>\n      this.adapter_.removeClass(MDCRippleFoundation.cssClasses.BG_FOCUSED));\n  }\n}\n\nexport default MDCRippleFoundation;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * Stores result from supportsCssVariables to avoid redundant processing to detect CSS custom variable support.\n * @private {boolean|undefined}\n */\nlet supportsCssVariables_;\n\n/**\n * Stores result from applyPassive to avoid redundant processing to detect passive event listener support.\n * @private {boolean|undefined}\n */\nlet supportsPassive_;\n\n/**\n * @param {!Window} windowObj\n * @return {boolean}\n */\nfunction detectEdgePseudoVarBug(windowObj) {\n  // Detect versions of Edge with buggy var() support\n  // See: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11495448/\n  const document = windowObj.document;\n  const node = document.createElement('div');\n  node.className = 'mdc-ripple-surface--test-edge-var-bug';\n  document.body.appendChild(node);\n\n  // The bug exists if ::before style ends up propagating to the parent element.\n  // Additionally, getComputedStyle returns null in iframes with display: \"none\" in Firefox,\n  // but Firefox is known to support CSS custom properties correctly.\n  // See: https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n  const computedStyle = windowObj.getComputedStyle(node);\n  const hasPseudoVarBug = computedStyle !== null && computedStyle.borderTopStyle === 'solid';\n  node.remove();\n  return hasPseudoVarBug;\n}\n\n/**\n * @param {!Window} windowObj\n * @param {boolean=} forceRefresh\n * @return {boolean|undefined}\n */\n\nfunction supportsCssVariables(windowObj, forceRefresh = false) {\n  let supportsCssVariables = supportsCssVariables_;\n  if (typeof supportsCssVariables_ === 'boolean' && !forceRefresh) {\n    return supportsCssVariables;\n  }\n\n  const supportsFunctionPresent = windowObj.CSS && typeof windowObj.CSS.supports === 'function';\n  if (!supportsFunctionPresent) {\n    return;\n  }\n\n  const explicitlySupportsCssVars = windowObj.CSS.supports('--css-vars', 'yes');\n  // See: https://bugs.webkit.org/show_bug.cgi?id=154669\n  // See: README section on Safari\n  const weAreFeatureDetectingSafari10plus = (\n    windowObj.CSS.supports('(--css-vars: yes)') &&\n    windowObj.CSS.supports('color', '#00000000')\n  );\n\n  if (explicitlySupportsCssVars || weAreFeatureDetectingSafari10plus) {\n    supportsCssVariables = !detectEdgePseudoVarBug(windowObj);\n  } else {\n    supportsCssVariables = false;\n  }\n\n  if (!forceRefresh) {\n    supportsCssVariables_ = supportsCssVariables;\n  }\n  return supportsCssVariables;\n}\n\n//\n/**\n * Determine whether the current browser supports passive event listeners, and if so, use them.\n * @param {!Window=} globalObj\n * @param {boolean=} forceRefresh\n * @return {boolean|!EventListenerOptions}\n */\nfunction applyPassive(globalObj = window, forceRefresh = false) {\n  if (supportsPassive_ === undefined || forceRefresh) {\n    let isSupported = false;\n    try {\n      globalObj.document.addEventListener('test', null, {get passive() {\n        isSupported = true;\n        return isSupported;\n      }});\n    } catch (e) { }\n\n    supportsPassive_ = isSupported;\n  }\n\n  return supportsPassive_\n    ? /** @type {!EventListenerOptions} */ ({passive: true})\n    : false;\n}\n\n/**\n * @param {!Object} HTMLElementPrototype\n * @return {string}\n */\nfunction getMatchesProperty(HTMLElementPrototype) {\n  /**\n   * Order is important because we return the first existing method we find.\n   * Do not change the order of the items in the below array.\n   */\n  const matchesMethods = ['matches', 'webkitMatchesSelector', 'msMatchesSelector'];\n  let method = 'matches';\n  for (let i = 0; i < matchesMethods.length; i++) {\n    const matchesMethod = matchesMethods[i];\n    if (matchesMethod in HTMLElementPrototype) {\n      method = matchesMethod;\n      break;\n    }\n  }\n\n  return method;\n}\n\n/**\n * @param {!Event} ev\n * @param {{x: number, y: number}} pageOffset\n * @param {!ClientRect} clientRect\n * @return {{x: number, y: number}}\n */\nfunction getNormalizedEventCoords(ev, pageOffset, clientRect) {\n  const {x, y} = pageOffset;\n  const documentX = x + clientRect.left;\n  const documentY = y + clientRect.top;\n\n  let normalizedX;\n  let normalizedY;\n  // Determine touch point relative to the ripple container.\n  if (ev.type === 'touchstart') {\n    ev = /** @type {!TouchEvent} */ (ev);\n    normalizedX = ev.changedTouches[0].pageX - documentX;\n    normalizedY = ev.changedTouches[0].pageY - documentY;\n  } else {\n    ev = /** @type {!MouseEvent} */ (ev);\n    normalizedX = ev.pageX - documentX;\n    normalizedY = ev.pageY - documentY;\n  }\n\n  return {x: normalizedX, y: normalizedY};\n}\n\nexport {supportsCssVariables, applyPassive, getMatchesProperty, getNormalizedEventCoords};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nconst cssClasses = {\n  // Ripple is a special case where the \"root\" component is really a \"mixin\" of sorts,\n  // given that it's an 'upgrade' to an existing component. That being said it is the root\n  // CSS class that all other CSS classes derive from.\n  ROOT: 'mdc-ripple-upgraded',\n  UNBOUNDED: 'mdc-ripple-upgraded--unbounded',\n  BG_FOCUSED: 'mdc-ripple-upgraded--background-focused',\n  FG_ACTIVATION: 'mdc-ripple-upgraded--foreground-activation',\n  FG_DEACTIVATION: 'mdc-ripple-upgraded--foreground-deactivation',\n};\n\nconst strings = {\n  VAR_LEFT: '--mdc-ripple-left',\n  VAR_TOP: '--mdc-ripple-top',\n  VAR_FG_SIZE: '--mdc-ripple-fg-size',\n  VAR_FG_SCALE: '--mdc-ripple-fg-scale',\n  VAR_FG_TRANSLATE_START: '--mdc-ripple-fg-translate-start',\n  VAR_FG_TRANSLATE_END: '--mdc-ripple-fg-translate-end',\n};\n\nconst numbers = {\n  PADDING: 10,\n  INITIAL_ORIGIN_SCALE: 0.6,\n  DEACTIVATION_TIMEOUT_MS: 225, // Corresponds to $mdc-ripple-translate-duration (i.e. activation animation duration)\n  FG_DEACTIVATION_MS: 150, // Corresponds to $mdc-ripple-fade-out-duration (i.e. deactivation animation duration)\n  TAP_DELAY_MS: 300, // Delay between touch and simulated mouse events on touch devices\n};\n\nexport {cssClasses, strings, numbers};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDC Ripple. Provides an interface for managing\n * - classes\n * - dom\n * - CSS variables\n * - position\n * - dimensions\n * - scroll position\n * - event handlers\n * - unbounded, active and disabled states\n *\n * Additionally, provides type information for the adapter to the Closure\n * compiler.\n *\n * Implement this adapter for your framework of choice to delegate updates to\n * the component in your framework of choice. See architecture documentation\n * for more details.\n * https://github.com/material-components/material-components-web/blob/master/docs/code/architecture.md\n *\n * @record\n */\nclass MDCRippleAdapter {\n  /** @return {boolean} */\n  browserSupportsCssVars() {}\n\n  /** @return {boolean} */\n  isUnbounded() {}\n\n  /** @return {boolean} */\n  isSurfaceActive() {}\n\n  /** @return {boolean} */\n  isSurfaceDisabled() {}\n\n  /** @param {string} className */\n  addClass(className) {}\n\n  /** @param {string} className */\n  removeClass(className) {}\n\n  /** @param {!EventTarget} target */\n  containsEventTarget(target) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  registerInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  deregisterInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  registerDocumentInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  deregisterDocumentInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {!Function} handler\n   */\n  registerResizeHandler(handler) {}\n\n  /**\n   * @param {!Function} handler\n   */\n  deregisterResizeHandler(handler) {}\n\n  /**\n   * @param {string} varName\n   * @param {?number|string} value\n   */\n  updateCssVariable(varName, value) {}\n\n  /** @return {!ClientRect} */\n  computeBoundingRect() {}\n\n  /** @return {{x: number, y: number}} */\n  getWindowPageOffset() {}\n}\n\nexport default MDCRippleAdapter;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCFoundation from './foundation';\n\n/**\n * @template F\n */\nclass MDCComponent {\n  /**\n   * @param {!Element} root\n   * @return {!MDCComponent}\n   */\n  static attachTo(root) {\n    // Subclasses which extend MDCBase should provide an attachTo() method that takes a root element and\n    // returns an instantiated component with its root set to that element. Also note that in the cases of\n    // subclasses, an explicit foundation class will not have to be passed in; it will simply be initialized\n    // from getDefaultFoundation().\n    return new MDCComponent(root, new MDCFoundation());\n  }\n\n  /**\n   * @param {!Element} root\n   * @param {F=} foundation\n   * @param {...?} args\n   */\n  constructor(root, foundation = undefined, ...args) {\n    /** @protected {!Element} */\n    this.root_ = root;\n    this.initialize(...args);\n    // Note that we initialize foundation here and not within the constructor's default param so that\n    // this.root_ is defined and can be used within the foundation class.\n    /** @protected {!F} */\n    this.foundation_ = foundation === undefined ? this.getDefaultFoundation() : foundation;\n    this.foundation_.init();\n    this.initialSyncWithDOM();\n  }\n\n  initialize(/* ...args */) {\n    // Subclasses can override this to do any additional setup work that would be considered part of a\n    // \"constructor\". Essentially, it is a hook into the parent constructor before the foundation is\n    // initialized. Any additional arguments besides root and foundation will be passed in here.\n  }\n\n  /**\n   * @return {!F} foundation\n   */\n  getDefaultFoundation() {\n    // Subclasses must override this method to return a properly configured foundation class for the\n    // component.\n    throw new Error('Subclasses must override getDefaultFoundation to return a properly configured ' +\n      'foundation class');\n  }\n\n  initialSyncWithDOM() {\n    // Subclasses should override this method if they need to perform work to synchronize with a host DOM\n    // object. An example of this would be a form control wrapper that needs to synchronize its internal state\n    // to some property or attribute of the host DOM. Please note: this is *not* the place to perform DOM\n    // reads/writes that would cause layout / paint, as this is called synchronously from within the constructor.\n  }\n\n  destroy() {\n    // Subclasses may implement this method to release any resources / deregister any listeners they have\n    // attached. An example of this might be deregistering a resize event from the window object.\n    this.foundation_.destroy();\n  }\n\n  /**\n   * Wrapper method to add an event listener to the component's root element. This is most useful when\n   * listening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  listen(evtType, handler) {\n    this.root_.addEventListener(evtType, handler);\n  }\n\n  /**\n   * Wrapper method to remove an event listener to the component's root element. This is most useful when\n   * unlistening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  unlisten(evtType, handler) {\n    this.root_.removeEventListener(evtType, handler);\n  }\n\n  /**\n   * Fires a cross-browser-compatible custom event from the component root of the given type,\n   * with the given data.\n   * @param {string} evtType\n   * @param {!Object} evtData\n   * @param {boolean=} shouldBubble\n   */\n  emit(evtType, evtData, shouldBubble = false) {\n    let evt;\n    if (typeof CustomEvent === 'function') {\n      evt = new CustomEvent(evtType, {\n        detail: evtData,\n        bubbles: shouldBubble,\n      });\n    } else {\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(evtType, shouldBubble, false, evtData);\n    }\n\n    this.root_.dispatchEvent(evt);\n  }\n}\n\nexport default MDCComponent;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * @template A\n */\nclass MDCFoundation {\n  /** @return enum{cssClasses} */\n  static get cssClasses() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports every\n    // CSS class the foundation class needs as a property. e.g. {ACTIVE: 'mdc-component--active'}\n    return {};\n  }\n\n  /** @return enum{strings} */\n  static get strings() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // semantic strings as constants. e.g. {ARIA_ROLE: 'tablist'}\n    return {};\n  }\n\n  /** @return enum{numbers} */\n  static get numbers() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // of its semantic numbers as constants. e.g. {ANIMATION_DELAY_MS: 350}\n    return {};\n  }\n\n  /** @return {!Object} */\n  static get defaultAdapter() {\n    // Classes extending MDCFoundation may choose to implement this getter in order to provide a convenient\n    // way of viewing the necessary methods of an adapter. In the future, this could also be used for adapter\n    // validation.\n    return {};\n  }\n\n  /**\n   * @param {A=} adapter\n   */\n  constructor(adapter = {}) {\n    /** @protected {!A} */\n    this.adapter_ = adapter;\n  }\n\n  init() {\n    // Subclasses should override this method to perform initialization routines (registering events, etc.)\n  }\n\n  destroy() {\n    // Subclasses should override this method to perform de-initialization routines (de-registering events, etc.)\n  }\n}\n\nexport default MDCFoundation;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/** @enum {string} */\nconst strings = {\n  ENTRY_ANIMATION_NAME: 'mdc-chip-entry',\n  INTERACTION_EVENT: 'MDCChip:interaction',\n  SELECTION_EVENT: 'MDCChip:selection',\n  TRAILING_ICON_INTERACTION_EVENT: 'MDCChip:trailingIconInteraction',\n  REMOVAL_EVENT: 'MDCChip:removal',\n  CHECKMARK_SELECTOR: '.mdc-chip__checkmark',\n  LEADING_ICON_SELECTOR: '.mdc-chip__icon--leading',\n  TRAILING_ICON_SELECTOR: '.mdc-chip__icon--trailing',\n};\n\n/** @enum {string} */\nconst cssClasses = {\n  CHECKMARK: 'mdc-chip__checkmark',\n  CHIP_EXIT: 'mdc-chip--exit',\n  HIDDEN_LEADING_ICON: 'mdc-chip__icon--leading-hidden',\n  LEADING_ICON: 'mdc-chip__icon--leading',\n  TRAILING_ICON: 'mdc-chip__icon--trailing',\n  SELECTED: 'mdc-chip--selected',\n};\n\nexport {strings, cssClasses};\n"],"names":["MDCComponent","MDCChipSet","root","foundation_","getSelectedChipIds","i","chips","id","chipId","length","chipFactory","el","idCounter","chipElements","map","slice","call","root_","querySelectorAll","MDCChipSetFoundation","strings","CHIP_SELECTOR","index","selected","findChipIndex_","setSelected","splice","destroy","removeChip","classList","contains","className","hasClass","Object","assign","push","chipFactory_","chipEl","removeEventListener","MDCChipFoundation","REMOVAL_EVENT","handleChipRemoval_","SELECTION_EVENT","handleChipSelection_","INTERACTION_EVENT","handleChipInteraction_","chip","forEach","addEventListener","handleChipRemoval","evt","detail","handleChipSelection","handleChipInteraction","select","instantiateChips_","MDCChip","args","MDCFoundation","adapter_","deselect_","chipIsSelected","selectedChipIds_","indexOf","toggleSelect_","cssClasses","CHOICE","FILTER","previouslySelectedChip","defaultAdapter","adapter","MDCChipSetAdapter","ripple_","setShouldRemoveOnTrailingIconClick","shouldRemove","getShouldRemoveOnTrailingIconClick","isSelected","checkmark_","getBoundingClientRect","getCheckmarkBoundingClientRect","getRootBoundingClientRect","leadingIcon_","hasLeadingIcon","style","setProperty","propertyName","value","setStyleProperty","window","getComputedStyle","getPropertyValue","getComputedStyleValue","emit","notifyRemoval","TRAILING_ICON_INTERACTION_EVENT","notifyTrailingIconInteraction","notifySelection","notifyInteraction","target","eventTargetHasClass","remove","removeClassFromLeadingIcon","add","addClassToLeadingIcon","removeClass","addClass","beginExit","trailingIcon_","evtType","handleTrailingIconInteraction_","INTERACTION_EVENTS","handleTransitionEnd_","handleInteraction_","handleTrailingIconInteraction","handleTransitionEnd","handleInteraction","rippleFactory","MDCRippleFoundation","getDimensions","computeBoundingRect","MDCRipple","createAdapter","querySelector","CHECKMARK_SELECTOR","TRAILING_ICON_SELECTOR","LEADING_ICON_SELECTOR","foundation","shouldRemoveOnTrailingIconClick_","type","key","keyCode","stopPropagation","HIDDEN_LEADING_ICON","CHECKMARK","SELECTED","LEADING_ICON","requestAnimationFrame","chipWidth","CHIP_EXIT","width","height","MDCChipAdapter","RippleCapableSurface","prototype","disabled","unbounded","y","pageYOffset","x","pageXOffset","getWindowPageOffset","instance","varName","updateCssVariable","handler","deregisterResizeHandler","registerResizeHandler","document","documentElement","util","deregisterDocumentInteractionHandler","registerDocumentInteractionHandler","deregisterInteractionHandler","registerInteractionHandler","containsEventTarget","isSurfaceDisabled","MATCHES","isSurfaceActive","isUnbounded","browserSupportsCssVars","HTMLElement","ripple","undefined","setUnbounded_","unbounded_","Boolean","dataset","layout","deactivate","activate","setUnbounded","BG_FOCUSED","UNBOUNDED","VAR_TOP","unboundedCoords_","top","VAR_LEFT","left","Math","round","frame_","initialSize_","VAR_FG_SCALE","fgScale_","VAR_FG_SIZE","updateLayoutCssVars_","maxRadius_","floor","maxDim","numbers","INITIAL_ORIGIN_SCALE","getBoundedRadius","hypotenuse","PADDING","sqrt","pow","max","layoutFrame_","layoutInternal_","cancelAnimationFrame","runDeactivationUXLogicIfReady_","wasActivatedByPointer","wasElementMadeActive","deactivate_","resetActivationState_","animateDeactivation_","state","activationState_","hasDeactivationUXRun","deregisterDeactivationHandlers_","activationState","isProgrammatic","isActivated","TAP_DELAY_MS","previousActivationEvent_","setTimeout","defaultActivationState_","activationEvent","activationAnimationHasEnded_","FG_ACTIVATION","FG_DEACTIVATION_MS","FG_DEACTIVATION","fgDeactivationRemovalTimer_","rmBoundedActivationClasses_","activationHasEnded","endPoint","startPoint","getNormalizedEventCoords","DEACTIVATION_TIMEOUT_MS","activationTimerCallback_","activationTimer_","clearTimeout","VAR_FG_TRANSLATE_END","translateEnd","VAR_FG_TRANSLATE_START","translateStart","getFgTranslationCoordinates_","activate_","event","e","animateActivation_","checkElementMadeActive_","activatedTargets","registerDeactivationHandlers_","hasActivatedChild","some","isSameInteraction","previousActivationEvent","k","keys","deactivateHandler_","POINTER_DEACTIVATION_EVENT_TYPES","resizeHandler_","blurHandler_","focusHandler_","activateHandler_","ACTIVATION_EVENT_TYPES","supportsPressRipple","deregisterRootHandlers_","removeCssVars_","ROOT","supportsPressRipple_","registerRootHandlers_","handleBlur","handleFocus","normalizedY","normalizedX","ev","pageY","documentY","pageX","documentX","changedTouches","clientRect","pageOffset","method","matchesMethod","HTMLElementPrototype","matchesMethods","getMatchesProperty","passive","supportsPassive_","isSupported","globalObj","forceRefresh","applyPassive","supportsCssVariables","supportsCssVariables_","detectEdgePseudoVarBug","windowObj","explicitlySupportsCssVars","weAreFeatureDetectingSafari10plus","CSS","supports","supportsFunctionPresent","hasPseudoVarBug","node","computedStyle","borderTopStyle","body","appendChild","createElement","MDCRippleAdapter","dispatchEvent","initCustomEvent","shouldBubble","evtData","createEvent","bubbles","CustomEvent","Error","initialSyncWithDOM","init","getDefaultFoundation","initialize","TRAILING_ICON","ENTRY_ANIMATION_NAME"],"mappings":"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"}