/**
 * @license
 * Copyright (c) 2018 Dominic Carretto
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/trimox/angular-mdc-web/blob/master/LICENSE
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular-mdc/web/icon"),require("rxjs"),require("rxjs/operators"),require("@angular-mdc/web/common"),require("@angular-mdc/web/ripple"),require("@angular/forms")):"function"==typeof define&&define.amd?define("@angular-mdc/web/chips",["exports","@angular/core","@angular/common","@angular-mdc/web/icon","rxjs","rxjs/operators","@angular-mdc/web/common","@angular-mdc/web/ripple","@angular/forms"],t):t(((e=e||self).ng=e.ng||{},e.ng.web=e.ng.web||{},e.ng.web.chips={}),e.ng.core,e.ng.common,e.ng.web.icon,e.rxjs,e.rxjs.operators,e.ng.web.common,e.ng.web.ripple,e.ng.forms)}(this,function(e,t,n,i,o,r,c,s,a){"use strict";var l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
var p={ENTRY_ANIMATION_NAME:"mdc-chip-entry",INTERACTION_EVENT:"MDCChip:interaction",SELECTION_EVENT:"MDCChip:selection",TRAILING_ICON_INTERACTION_EVENT:"MDCChip:trailingIconInteraction",REMOVAL_EVENT:"MDCChip:removal",CHECKMARK_SELECTOR:".mdc-chip__checkmark",LEADING_ICON_SELECTOR:".mdc-chip__icon--leading",TRAILING_ICON_SELECTOR:".mdc-chip__icon--trailing"},u={CHECKMARK:"mdc-chip__checkmark",CHIP_EXIT:"mdc-chip--exit",HIDDEN_LEADING_ICON:"mdc-chip__icon--leading-hidden",LEADING_ICON:"mdc-chip__icon--leading",TRAILING_ICON:"mdc-chip__icon--trailing",SELECTED:"mdc-chip--selected"};function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
var C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,e),this.adapter_=t}return f(e,null,[{key:"cssClasses",get:function(){return{}}},{key:"strings",get:function(){return{}}},{key:"numbers",get:function(){return{}}},{key:"defaultAdapter",get:function(){return{}}}]),f(e,[{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),e}();var I=function e(){h(this,e)};I.prototype.root_,I.prototype.unbounded,I.prototype.disabled;
/**
   * @license
   * Copyright 2017 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
var b=function(e){function t(e){var n;return h(this,t),(n=m(this,g(t).call(this,Object.assign(t.defaultAdapter,e)))).shouldRemoveOnTrailingIconClick_=!0,n}return _(t,C),f(t,null,[{key:"strings",get:function(){return p}},{key:"cssClasses",get:function(){return u}},{key:"defaultAdapter",get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){},addClassToLeadingIcon:function(){},removeClassFromLeadingIcon:function(){},eventTargetHasClass:function(){},notifyInteraction:function(){},notifySelection:function(){},notifyTrailingIconInteraction:function(){},notifyRemoval:function(){},getComputedStyleValue:function(){},setStyleProperty:function(){},hasLeadingIcon:function(){},getRootBoundingClientRect:function(){},getCheckmarkBoundingClientRect:function(){}}}}]),f(t,[{key:"isSelected",value:function(){return this.adapter_.hasClass(u.SELECTED)}},{key:"setSelected",value:function(e){e?this.adapter_.addClass(u.SELECTED):this.adapter_.removeClass(u.SELECTED),this.adapter_.notifySelection(e)}},{key:"getShouldRemoveOnTrailingIconClick",value:function(){return this.shouldRemoveOnTrailingIconClick_}},{key:"setShouldRemoveOnTrailingIconClick",value:function(e){this.shouldRemoveOnTrailingIconClick_=e}},{key:"getDimensions",value:function(){return this.adapter_.hasLeadingIcon()||null===this.adapter_.getCheckmarkBoundingClientRect()?this.adapter_.getRootBoundingClientRect():{height:this.adapter_.getRootBoundingClientRect().height,width:this.adapter_.getRootBoundingClientRect().width+this.adapter_.getCheckmarkBoundingClientRect().height}}},{key:"beginExit",value:function(){this.adapter_.addClass(u.CHIP_EXIT)}},{key:"handleInteraction",value:function(e){"click"!==e.type&&"Enter"!==e.key&&13!==e.keyCode||this.adapter_.notifyInteraction()}},{key:"handleTransitionEnd",value:function(e){var t=this;if(this.adapter_.eventTargetHasClass(e.target,u.CHIP_EXIT)){if("width"===e.propertyName)this.adapter_.notifyRemoval();else if("opacity"===e.propertyName){var n=this.adapter_.getComputedStyleValue("width");requestAnimationFrame(function(){t.adapter_.setStyleProperty("width",n),t.adapter_.setStyleProperty("padding","0"),t.adapter_.setStyleProperty("margin","0"),requestAnimationFrame(function(){t.adapter_.setStyleProperty("width","0")})})}}else"opacity"===e.propertyName&&(this.adapter_.eventTargetHasClass(e.target,u.LEADING_ICON)&&this.adapter_.hasClass(u.SELECTED)?this.adapter_.addClassToLeadingIcon(u.HIDDEN_LEADING_ICON):this.adapter_.eventTargetHasClass(e.target,u.CHECKMARK)&&!this.adapter_.hasClass(u.SELECTED)&&this.adapter_.removeClassFromLeadingIcon(u.HIDDEN_LEADING_ICON))}},{key:"handleTrailingIconInteraction",value:function(e){e.stopPropagation(),"click"!==e.type&&"Enter"!==e.key&&13!==e.keyCode||(this.adapter_.notifyTrailingIconInteraction(),this.shouldRemoveOnTrailingIconClick_&&this.beginExit())}}]),t}(),v=new t.InjectionToken("MDC_CHIPSET_PARENT_COMPONENT"),E=0,O=function(){function e(e){this.elementRef=e}return e.decorators=[{type:t.Component,args:[{selector:"mdc-chip-checkmark",exportAs:"mdcChipCheckmark",template:'\n  <div class="mdc-chip__checkmark">\n    <svg\n      class="mdc-chip__checkmark-svg"\n      viewBox="-2 -3 30 30"\n      focusable="false">\n      <path class="mdc-chip__checkmark-path" fill="none" stroke="black" d="M1.73,12.91 8.1,19.28 22.79,4.59"/>\n    </svg>\n  </div>',encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:t.ElementRef}]},e}(),R=function(){function e(e){this.elementRef=e}return e.decorators=[{type:t.Directive,args:[{selector:"mdc-chip-text, [mdcChipText]",host:{class:"mdc-chip__text"}}]}],e.ctorParameters=function(){return[{type:t.ElementRef}]},e}(),S=function(){function e(e,n,i,r,c,s){this._platform=e,this._ngZone=n,this._changeDetectorRef=i,this._ripple=r,this.elementRef=c,this._parent=s,this._destroyed=new o.Subject,this._id="mdc-chip-"+E++,this._selected=!1,this._filter=!1,this._choice=!1,this._input=!1,this._primary=!1,this._secondary=!1,this._removable=!0,this._disabled=!1,this._disableRipple=!1,this.selectionChange=new t.EventEmitter,this.trailingIconInteraction=new t.EventEmitter,this.removed=new t.EventEmitter,this._foundation=new b(this._createAdapter())}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leadingIcon",{get:function(){return this._icons.find(function(e){return e.leading})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){var t=c.toBoolean(e);this._selected=t,this._foundation.setSelected(t),this.filter&&this.leadingIcon&&this.leadingIcon.elementRef.nativeElement.classList.remove(u.HIDDEN_LEADING_ICON)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){return this._filter},set:function(e){var t=c.toBoolean(e);t!==this._filter&&(this._filter=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"choice",{get:function(){return this._choice},set:function(e){this._choice=c.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"input",{get:function(){return this._input},set:function(e){this._input=c.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"primary",{get:function(){return this._primary},set:function(e){this._primary=c.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secondary",{get:function(){return this._secondary},set:function(e){this._secondary=c.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"removable",{get:function(){return this._removable},set:function(e){c.toBoolean(e)!==this._removable&&(this._removable=e,this._foundation.setShouldRemoveOnTrailingIconClick(this._removable))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=c.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disableRipple",{get:function(){return this._disableRipple},set:function(e){this._disableRipple=c.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return void 0!==this._value?this._value:this.elementRef.nativeElement.textContent},set:function(e){this._value=e},enumerable:!0,configurable:!0}),e.prototype._createAdapter=function(){var e=this;return{addClass:function(t){return e._getHostElement().classList.add(t)},removeClass:function(t){return e._getHostElement().classList.remove(t)},hasClass:function(t){return e._getHostElement().classList.contains(t)},addClassToLeadingIcon:function(t){e.leadingIcon&&e.leadingIcon.elementRef.nativeElement.classList.add(t)},removeClassFromLeadingIcon:function(t){e.leadingIcon&&e.leadingIcon.elementRef.nativeElement.classList.remove(t)},eventTargetHasClass:function(e,t){return e.classList.contains(t)},notifyInteraction:function(){return e._emitSelectionChangeEvent(!0)},notifyTrailingIconInteraction:function(){return e.trailingIconInteraction.emit({detail:{chipId:e.id}})},notifyRemoval:function(){return e.removed.emit({detail:{chipId:e.id,root:e}})},getComputedStyleValue:function(t){if(e._platform.isBrowser)return window.getComputedStyle(e._getHostElement()).getPropertyValue(t)},setStyleProperty:function(t,n){return e._getHostElement().style.setProperty(t,n)},hasLeadingIcon:function(){return!!e.leadingIcon},getRootBoundingClientRect:function(){return e._getHostElement().getBoundingClientRect()},getCheckmarkBoundingClientRect:function(){return e._checkmark?e._checkmark.elementRef.nativeElement.getBoundingClientRect():null}}},e.prototype.ngAfterViewInit=function(){this._foundation.init(),this._setVariantFromChipSet(),this._initRipple(),this._loadListeners()},e.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete(),this._ripple.destroy(),this._foundation&&this._foundation.destroy()},e.prototype.select=function(){this._selected||(this._selected=!0,this._emitSelectionChangeEvent())},e.prototype.deselect=function(){this._selected&&(this._selected=!1,this._emitSelectionChangeEvent())},e.prototype.selectViaInteraction=function(){this._selected||(this._selected=!0,this._emitSelectionChangeEvent(!0))},e.prototype.focus=function(){this._getHostElement().focus()},e.prototype._handleInteraction=function(e){this._selected=!this._selected,this._foundation.handleInteraction(e)},e.prototype._handleTrailingIconInteraction=function(e){this._foundation.handleTrailingIconInteraction(e)},e.prototype._initRipple=function(){var e=this;this._ripple.init({surface:this._getHostElement()},Object.assign(this._ripple.createAdapter(),{isSurfaceDisabled:function(){return e._disableRipple},computeBoundingRect:function(){return e._foundation.getDimensions()}}))},e.prototype._setVariantFromChipSet=function(){this._parent&&(this.input=this._parent.input,this.filter=this._parent.filter,this.choice=this._parent.choice,this._changeDetectorRef.detectChanges())},e.prototype._loadListeners=function(){var e=this;this._ngZone.runOutsideAngular(function(){return o.fromEvent(e._getHostElement(),"transitionend").pipe(r.takeUntil(e._destroyed)).subscribe(function(t){return e._ngZone.run(function(){return e._foundation.handleTransitionEnd(t)})})})},e.prototype._emitRemovedEvent=function(){this.removed.emit({detail:{chipId:this.id,root:this}})},e.prototype._emitSelectionChangeEvent=function(e){this.selectionChange.emit({isUserInput:e,detail:{chipId:this.id,selected:this._selected,value:this._value}})},e.prototype._getHostElement=function(){return this.elementRef.nativeElement},e.decorators=[{type:t.Component,args:[{selector:"mdc-chip",exportAs:"mdcChip",host:{"[id]":"id","[attr.tabindex]":"disabled ? null : 0",class:"mdc-chip","[class.ngx-mdc-chip--primary]":"primary","[class.ngx-mdc-chip--secondary]":"secondary","(click)":"_handleInteraction($event)","(keydown)":"_handleInteraction($event)"},template:'\n  <ng-content select="mdc-chip-icon[leading]"></ng-content>\n  <mdc-chip-checkmark *ngIf="filter"></mdc-chip-checkmark>\n  <div class="mdc-chip__text" *ngIf="label">{{label}}</div>\n  <ng-content></ng-content>',encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush,providers:[s.MdcRipple]}]}],e.ctorParameters=function(){return[{type:c.Platform},{type:t.NgZone},{type:t.ChangeDetectorRef},{type:s.MdcRipple},{type:t.ElementRef},{type:void 0,decorators:[{type:t.Optional},{type:t.Inject,args:[v]}]}]},e.propDecorators={label:[{type:t.Input}],selected:[{type:t.Input}],filter:[{type:t.Input}],choice:[{type:t.Input}],input:[{type:t.Input}],primary:[{type:t.Input}],secondary:[{type:t.Input}],removable:[{type:t.Input}],disabled:[{type:t.Input}],disableRipple:[{type:t.Input}],value:[{type:t.Input}],selectionChange:[{type:t.Output}],trailingIconInteraction:[{type:t.Output}],removed:[{type:t.Output}],_checkmark:[{type:t.ContentChild,args:[O]}],_icons:[{type:t.ContentChildren,args:[t.forwardRef(function(){return k}),{descendants:!0}]}]},e}(),k=function(e){function n(t,n,i,o,r){var c=e.call(this,n,i,o,r)||this;return c._parentChip=t,c._leading=!1,c._trailing=!1,c}return function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(n,e),Object.defineProperty(n.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading=c.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"trailing",{get:function(){return this._trailing},set:function(e){this._trailing=c.toBoolean(e)},enumerable:!0,configurable:!0}),n.prototype.ngAfterContentInit=function(){this.trailing&&(this.tabIndex=0,this.role="button")},n.prototype._onIconInteraction=function(e){this.trailing&&(this._parentChip._handleTrailingIconInteraction(e),this._parentChip.removable&&this._parentChip.input&&this._parentChip._emitRemovedEvent())},n.decorators=[{type:t.Component,args:[{selector:"mdc-chip-icon, [mdcChipIcon]",exportAs:"mdcChipIcon",host:{class:"mdc-chip__icon ngx-mdc-icon","[attr.role]":"role","[attr.tabindex]":"tabIndex","[class.ngx-mdc-icon--clickable]":"clickable","[class.ngx-mdc-icon--inline]":"inline","[class.mdc-chip__icon--leading]":"leading","[class.mdc-chip__icon--trailing]":"trailing","(click)":"_onIconInteraction($event)","(keydown)":"_onIconInteraction($event)"},template:"<ng-content></ng-content>",encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush}]}],n.ctorParameters=function(){return[{type:S},{type:t.ElementRef},{type:i.MdcIconRegistry},{type:String,decorators:[{type:t.Attribute,args:["aria-hidden"]}]},{type:void 0,decorators:[{type:t.Inject,args:[i.MDC_ICON_LOCATION]}]}]},n.propDecorators={leading:[{type:t.Input}],trailing:[{type:t.Input}]},n}(i.MdcIcon),T={CHIP_SELECTOR:".mdc-chip"},P={CHOICE:"mdc-chip-set--choice",FILTER:"mdc-chip-set--filter"},N=function(e){function t(e){var n;return h(this,t),(n=m(this,g(t).call(this,Object.assign(t.defaultAdapter,e)))).selectedChipIds_=[],n}return _(t,C),f(t,null,[{key:"strings",get:function(){return T}},{key:"cssClasses",get:function(){return P}},{key:"defaultAdapter",get:function(){return{hasClass:function(){},removeChip:function(){},setSelected:function(){}}}}]),f(t,[{key:"getSelectedChipIds",value:function(){return this.selectedChipIds_}},{key:"toggleSelect_",value:function(e){this.selectedChipIds_.indexOf(e)>=0?this.deselect_(e):this.select(e)}},{key:"select",value:function(e){if(!(this.selectedChipIds_.indexOf(e)>=0)){if(this.adapter_.hasClass(P.CHOICE)&&this.selectedChipIds_.length>0){var t=this.selectedChipIds_[0];this.selectedChipIds_.length=0,this.adapter_.setSelected(t,!1)}this.selectedChipIds_.push(e),this.adapter_.setSelected(e,!0)}}},{key:"deselect_",value:function(e){var t=this.selectedChipIds_.indexOf(e);t>=0&&(this.selectedChipIds_.splice(t,1),this.adapter_.setSelected(e,!1))}},{key:"handleChipInteraction",value:function(e){(this.adapter_.hasClass(P.CHOICE)||this.adapter_.hasClass(P.FILTER))&&this.toggleSelect_(e)}},{key:"handleChipSelection",value:function(e,t){var n=this.selectedChipIds_.indexOf(e)>=0;t&&!n?this.select(e):!t&&n&&this.deselect_(e)}},{key:"handleChipRemoval",value:function(e){this.deselect_(e),this.adapter_.removeChip(e)}}]),t}(),w=function(){return function(e,t){this.source=e,this.value=t}}(),D=function(){function e(e,n,i,r,c){this._changeDetectorRef=e,this.elementRef=n,this.ngControl=c,this._destroyed=new o.Subject,this._choice=!1,this._filter=!1,this._input=!1,this._compareWith=function(e,t){return e===t},this.change=new t.EventEmitter,this._onTouched=function(){},this._onChange=function(){},this._chipSelectionSubscription=null,this._chipRemoveSubscription=null,this._chipInteractionSubscription=null,this._foundation=new N(this._createAdapter()),this.ngControl&&(this.ngControl.valueAccessor=this)}return Object.defineProperty(e.prototype,"choice",{get:function(){return this._choice},set:function(e){this._choice=c.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){return this._filter},set:function(e){this._filter=c.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"input",{get:function(){return this._input},set:function(e){this._input=c.toBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this.writeValue(e),this._value=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chipSelections",{get:function(){return o.merge.apply(void 0,this.chips.map(function(e){return e.selectionChange}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chipInteractions",{get:function(){return o.merge.apply(void 0,this.chips.map(function(e){return e.trailingIconInteraction}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chipRemoveChanges",{get:function(){return o.merge.apply(void 0,this.chips.map(function(e){return e.removed}))},enumerable:!0,configurable:!0}),e.prototype._createAdapter=function(){var e=this;return{hasClass:function(t){return e._getHostElement().classList.contains(t)},removeChip:function(t){var n=e._findChipIndex(t);e.chips.toArray().splice(n,1)},setSelected:function(t,n){var i=e.getChipById(t);i&&(i.selected=n)}}},e.prototype.ngAfterContentInit=function(){var e=this;this._foundation.init(),this.chips.changes.pipe(r.startWith(null),r.takeUntil(this._destroyed)).subscribe(function(){e.chips.length>0&&(e._resetChipSet(),e._initializeSelection())})},e.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete(),this._dropSubscriptions(),this._chipRemoveSubscription&&this._chipRemoveSubscription.unsubscribe(),this._foundation.destroy()},e.prototype.writeValue=function(e){this.chips&&this.selectByValue(e,!1)},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.getSelectedChipIds=function(){return this._foundation.getSelectedChipIds()},e.prototype.select=function(e){this._foundation.select(e)},e.prototype.getChipById=function(e){return this.chips.find(function(t){return t.id===e})},e.prototype.selectByValue=function(e,t){var n=this;void 0===t&&(t=!0),this.chips.forEach(function(e){return e.deselect()}),Array.isArray(e)?e.forEach(function(e){return n._selectValue(e,t)}):this._selectValue(e,t)},e.prototype._selectValue=function(e,t){var n=this;void 0===t&&(t=!0);var i=this.chips.find(function(t){return null!=t.value&&n._compareWith(t.value,e)});return i&&(t?i.selectViaInteraction():i.select()),i},e.prototype._initializeSelection=function(){var e=this;Promise.resolve().then(function(){(e.ngControl||e._value)&&e.selectByValue(e.ngControl?e.ngControl.value:e._value,!1)})},e.prototype._propagateChanges=function(e){this._value=e.detail.value,this.change.emit(new w(this,e.detail)),this._onChange(this._value),this._changeDetectorRef.markForCheck()},e.prototype._resetChipSet=function(){this._dropSubscriptions(),this._listenForChipSelection(),this._listenToChipsInteraction(),this._listenToChipsRemoved()},e.prototype._dropSubscriptions=function(){this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipInteractionSubscription&&(this._chipInteractionSubscription.unsubscribe(),this._chipInteractionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)},e.prototype._listenForChipSelection=function(){var e=this;this._chipSelectionSubscription=this.chipSelections.subscribe(function(t){e._foundation.handleChipSelection(t.detail.chipId,t.detail.selected),t.isUserInput&&e._propagateChanges(t)})},e.prototype._listenToChipsInteraction=function(){var e=this;this._chipInteractionSubscription=this.chipInteractions.subscribe(function(t){return e._foundation.handleChipInteraction(t.detail.chipId)})},e.prototype._listenToChipsRemoved=function(){var e=this;this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(function(t){return e._foundation.handleChipRemoval(t.detail.chipId)})},e.prototype._findChipIndex=function(e){return this.chips.toArray().findIndex(function(t){return t.id===e})},e.prototype._getHostElement=function(){return this.elementRef.nativeElement},e.decorators=[{type:t.Component,args:[{selector:"mdc-chip-set",exportAs:"mdcChipSet",host:{class:"mdc-chip-set","[class.mdc-chip-set--choice]":"choice","[class.mdc-chip-set--filter]":"filter","[class.mdc-chip-set--input]":"input"},template:"<ng-content></ng-content>",encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush,providers:[{provide:v,useExisting:e}]}]}],e.ctorParameters=function(){return[{type:t.ChangeDetectorRef},{type:t.ElementRef},{type:a.NgForm,decorators:[{type:t.Optional}]},{type:a.FormGroupDirective,decorators:[{type:t.Optional}]},{type:a.NgControl,decorators:[{type:t.Optional}]}]},e.propDecorators={choice:[{type:t.Input}],filter:[{type:t.Input}],input:[{type:t.Input}],value:[{type:t.Input}],change:[{type:t.Output}],chips:[{type:t.ContentChildren,args:[S,{descendants:!0}]}]},e}(),A=[S,O,k,D,R],j=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule,i.MdcIconModule],exports:A,declarations:A}]}],e}();e.CHIP_DECLARATIONS=A,e.MdcChipsModule=j,e.MDC_CHIPSET_PARENT_COMPONENT=v,e.MdcChipCheckmark=O,e.MdcChipText=R,e.MdcChip=S,e.MdcChipIcon=k,e.MdcChipSetChange=w,e.MdcChipSet=D,Object.defineProperty(e,"__esModule",{value:!0})});