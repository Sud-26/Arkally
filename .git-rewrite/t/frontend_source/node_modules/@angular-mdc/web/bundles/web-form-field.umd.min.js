/**
 * @license
 * Copyright (c) 2018 Dominic Carretto
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/trimox/angular-mdc-web/blob/master/LICENSE
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("@angular-mdc/web/common"),require("@angular/common")):"function"==typeof define&&define.amd?define("@angular-mdc/web/form-field",["exports","@angular/core","rxjs","rxjs/operators","@angular-mdc/web/common","@angular/common"],e):e(((t=t||self).ng=t.ng||{},t.ng.web=t.ng.web||{},t.ng.web.formField={}),t.ng.core,t.rxjs,t.rxjs.operators,t.ng.web.common,t.ng.common)}(this,function(t,e,n,r,o,i){"use strict";var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */var h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t),this.adapter_=e}return u(t,null,[{key:"cssClasses",get:function(){return{}}},{key:"strings",get:function(){return{}}},{key:"numbers",get:function(){return{}}},{key:"defaultAdapter",get:function(){return{}}}]),u(t,[{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),t}(),m={ROOT:"mdc-text-field-character-counter"},g={ROOT_SELECTOR:".".concat(m.ROOT)},y=function(t){function e(t){return s(this,e),d(this,p(e).call(this,Object.assign(e.defaultAdapter,t)))}return l(e,h),u(e,null,[{key:"cssClasses",get:function(){return m}},{key:"strings",get:function(){return g}},{key:"defaultAdapter",get:function(){return{setContent:function(){}}}}]),u(e,[{key:"setCounterValue",value:function(t,e){t=Math.min(t,e),this.adapter_.setContent("".concat(t," / ").concat(e))}}]),e}(),_=function(){function t(t){this.elementRef=t}return t.prototype.getDefaultFoundation=function(){var t=this;return new y({setContent:function(e){return t.elementRef.nativeElement.textContent=e}})},t.prototype.ngOnDestroy=function(){this.getDefaultFoundation().destroy()},t.decorators=[{type:e.Component,args:[{selector:"[mdcCharacterCounter]",exportAs:"mdcCharacterCounter",host:{class:"mdc-text-field-character-counter"},template:"<ng-content></ng-content>"}]}],t.ctorParameters=function(){return[{type:e.ElementRef}]},t}();var b=function(){function t(){}return t.prototype.isErrorState=function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=e.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),v=function(){return function(){this.value=null}}(),x=function(){function t(t){this.elementRef=t,this.characterCounter=!1,this._persistent=!1,this._validation=!1}return Object.defineProperty(t.prototype,"persistent",{get:function(){return this._persistent},set:function(t){this._persistent=o.toBoolean(t),this._foundation&&this._foundation.setPersistent(this._persistent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validation",{get:function(){return this._validation},set:function(t){this._validation=o.toBoolean(t),this._foundation&&this._foundation.setValidation(this._validation)},enumerable:!0,configurable:!0}),t.prototype.setValidity=function(t){this._foundation.setValidity(t)},t.prototype.showToScreenReader=function(){this._foundation.showToScreenReader()},t.prototype.init=function(t){this._foundation=new t(this._createAdapter()),this._foundation.setPersistent(this.persistent),this._foundation.setValidation(this.validation)},t.prototype.addHelperTextClass=function(t){this._helperTextElement.nativeElement.classList.add(t+"-helper-text")},t.prototype._createAdapter=function(){var t=this;return{addClass:function(e){return t._helperTextElement.nativeElement.classList.add(e)},removeClass:function(e){return t._helperTextElement.nativeElement.classList.remove(e)},hasClass:function(e){return t._helperTextElement.nativeElement.classList.contains(e)},setAttr:function(e,n){return t._helperTextElement.nativeElement.setAttribute(e,n)},removeAttr:function(e){return t._helperTextElement.nativeElement.removeAttribute(e)}}},t.decorators=[{type:e.Component,args:[{selector:"mdc-helper-text, [mdcHelperText],\n  mdc-text-field-helper-text, [mdcTextFieldHelperText], [mdcSelectHelperText]",exportAs:"mdcHelperText, mdcSelectHelperText",host:{class:"mdc-text-field-helper-line"},template:'<div #helperText><ng-content></ng-content></div>\n  <div mdcCharacterCounter *ngIf="characterCounter"></div>',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:e.ElementRef}]},t.propDecorators={id:[{type:e.Input}],persistent:[{type:e.Input}],validation:[{type:e.Input}],_helperTextElement:[{type:e.ViewChild,args:["helperText"]}],_characterCounterElement:[{type:e.ViewChild,args:[_]}]},t}(),E=function(){function t(t,e,r){this._changeDetectorRef=t,this._ngZone=e,this.elementRef=r,this._destroy=new n.Subject,this._fluid=!1,this._alignEnd=!1}return Object.defineProperty(t.prototype,"fluid",{get:function(){return this._fluid},set:function(t){this._fluid=o.toBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignEnd",{get:function(){return this._alignEnd},set:function(t){this._alignEnd=o.toBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;if(this._control){var e=this._control.elementRef.nativeElement;e.nextElementSibling&&"LABEL"===e.nextElementSibling.tagName&&(this.label=e.nextElementSibling,this.label&&this._control.inputId&&(this.label.setAttribute("for",this._control.inputId),this._loadListeners()))}this.assistiveElements.changes.pipe(r.startWith(null),r.takeUntil(this._destroy)).subscribe(function(){t.assistiveElements.forEach(function(e){return t._initHelperTextFoundation(e)})})},t.prototype.ngOnDestroy=function(){this._destroy.next(),this._destroy.complete()},t.prototype._initHelperTextFoundation=function(t){var e=this._control;e&&e.controlType&&(e.helperText=t,this._changeDetectorRef.markForCheck())},t.prototype._loadListeners=function(){var t=this;this._ngZone.runOutsideAngular(function(){return n.fromEvent(t.label,"click").pipe(r.takeUntil(t._destroy)).subscribe(function(){return t._ngZone.run(function(){t._control.ripple.activateRipple(),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(function(){return t._control.ripple.deactivateRipple()})})})})},t.decorators=[{type:e.Component,args:[{selector:"mdc-form-field",exportAs:"mdcFormField",host:{"[class.ngx-mdc-form-field--fluid]":"fluid","[class.mdc-form-field--align-end]":"alignEnd"},template:'<ng-content></ng-content>\n  <ng-content select="[mdcHelperText, mdc-helper-text]"></ng-content>',encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.NgZone},{type:e.ElementRef}]},t.propDecorators={fluid:[{type:e.Input}],alignEnd:[{type:e.Input}],_control:[{type:e.ContentChild,args:[v]}],assistiveElements:[{type:e.ContentChildren,args:[x,{descendants:!0}]}]},t}(),C=[_,E,x],O=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[i.CommonModule],exports:[C],declarations:[C]}]}],t}();t.MdcCharacterCounter=_,t.mixinErrorState=function(t){return function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,e)||this;return r.errorState=!1,r.required=!1,r}return function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.updateErrorState=function(){var t=this.errorState,e=this._parentFormGroup||this._parentForm,n=this.errorStateMatcher||this._defaultErrorStateMatcher,r=this.ngControl?this.ngControl.control:null,o=n.isErrorState(r,e);o!==t&&(this.errorState=o),r&&!this.required&&(this.required=r.hasError("required"))},e}(t)},t.ErrorStateMatcher=b,t.MdcFormField=E,t.MdcFormFieldControl=v,t.MdcFormFieldModule=O,t.MdcHelperText=x,Object.defineProperty(t,"__esModule",{value:!0})});