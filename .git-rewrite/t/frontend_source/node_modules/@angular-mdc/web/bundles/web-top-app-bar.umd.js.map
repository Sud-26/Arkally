{"version":3,"file":"web-top-app-bar.umd.js","sources":["../../packages/top-app-bar/top-app-bar-module.ts","../../packages/top-app-bar/top-app-bar.ts","../../node_modules/@material/top-app-bar/index.js","../../node_modules/@material/top-app-bar/standard/foundation.js","../../node_modules/@material/top-app-bar/short/foundation.js","../../node_modules/@material/top-app-bar/fixed/foundation.js","../../node_modules/@material/top-app-bar/foundation.js","../../node_modules/@material/ripple/index.js","../../node_modules/@material/ripple/foundation.js","../../node_modules/@material/ripple/util.js","../../node_modules/@material/ripple/constants.js","../../node_modules/@material/ripple/adapter.js","../../node_modules/@material/base/component.js","../../node_modules/@material/base/foundation.js","../../node_modules/@material/top-app-bar/adapter.js","../../node_modules/@material/top-app-bar/constants.js","../../packages/top-app-bar/top-app-bar.directives.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { MdcTopAppBar } from './top-app-bar';\r\nimport {\r\n  MdcTopAppBarActionItem,\r\n  MdcTopAppBarFixedAdjust,\r\n  MdcTopAppBarNavigationIcon,\r\n  MdcTopAppBarRow,\r\n  MdcTopAppBarSection,\r\n  MdcTopAppBarTitle\r\n} from './top-app-bar.directives';\r\n\r\nconst TOP_APP_BAR_DECLARATIONS = [\r\n  MdcTopAppBar,\r\n  MdcTopAppBarActionItem,\r\n  MdcTopAppBarFixedAdjust,\r\n  MdcTopAppBarNavigationIcon,\r\n  MdcTopAppBarRow,\r\n  MdcTopAppBarSection,\r\n  MdcTopAppBarTitle\r\n];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  exports: TOP_APP_BAR_DECLARATIONS,\r\n  declarations: TOP_APP_BAR_DECLARATIONS\r\n})\r\nexport class MdcTopAppBarModule { }\r\n","import {\r\n  AfterContentInit,\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  ContentChildren,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  NgZone,\r\n  OnDestroy,\r\n  Output,\r\n  QueryList,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { fromEvent, Subject, Subscription } from 'rxjs';\r\nimport { takeUntil, startWith } from 'rxjs/operators';\r\n\r\nimport { Platform, toBoolean } from '@angular-mdc/web/common';\r\n\r\nimport {\r\n  MdcTopAppBarActionItem,\r\n  MdcTopAppBarNavigationIcon,\r\n} from './top-app-bar.directives';\r\n\r\nimport { cssClasses } from '@material/top-app-bar/constants';\r\nimport {\r\n  MDCTopAppBarFoundation,\r\n  MDCShortTopAppBarFoundation,\r\n  MDCFixedTopAppBarFoundation\r\n} from '@material/top-app-bar/index';\r\n\r\n/** Event object emitted by MdcTopAppBar navigation icon selected. */\r\nexport class MdcTopAppBarNavSelected {\r\n  constructor(\r\n    public source: MdcTopAppBar) { }\r\n}\r\n\r\n@Component({\r\n  selector: 'mdc-top-app-bar, [mdc-top-app-bar]',\r\n  exportAs: 'mdcTopAppBar',\r\n  host: {\r\n    'class': 'mdc-top-app-bar',\r\n    '[class.mdc-top-app-bar--prominent]': 'prominent',\r\n    '[class.mdc-top-app-bar--dense]': 'dense',\r\n    '[class.mdc-top-app-bar--short]': 'short',\r\n    '[class.mdc-top-app-bar--fixed]': 'fixed'\r\n  },\r\n  template: '<ng-content></ng-content>',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class MdcTopAppBar implements AfterContentInit, AfterViewInit, OnDestroy {\r\n  /** Emits whenever the component is destroyed. */\r\n  private _destroyed = new Subject<void>();\r\n\r\n  private _isFoundationInit: boolean = false;\r\n\r\n  @Input()\r\n  get fixed(): boolean { return this._fixed; }\r\n  set fixed(value: boolean) {\r\n    if (value !== this._fixed) {\r\n      this.setFixed(value);\r\n    }\r\n  }\r\n  private _fixed: boolean = false;\r\n\r\n  @Input()\r\n  get prominent(): boolean { return this._prominent; }\r\n  set prominent(value: boolean) {\r\n    if (value !== this._prominent) {\r\n      this.setProminent(value);\r\n    }\r\n  }\r\n  private _prominent: boolean = false;\r\n\r\n  @Input()\r\n  get short(): boolean { return this._short; }\r\n  set short(value: boolean) {\r\n    if (value !== this._short) {\r\n      this.setShort(value);\r\n    }\r\n  }\r\n  private _short: boolean = false;\r\n\r\n  @Input()\r\n  get shortCollapsed(): boolean { return this._shortCollapsed; }\r\n  set shortCollapsed(value: boolean) {\r\n    if (value !== this._shortCollapsed) {\r\n      this.setShortCollapsed(value);\r\n    }\r\n  }\r\n  private _shortCollapsed: boolean = false;\r\n\r\n  @Input()\r\n  get dense(): boolean { return this._dense; }\r\n  set dense(value: boolean) {\r\n    if (value !== this._dense) {\r\n      this.setDense(value);\r\n    }\r\n  }\r\n  private _dense: boolean = false;\r\n\r\n  @Input()\r\n  get fixedAdjustElement(): HTMLElement | null { return this._fixedAdjustElement; }\r\n  set fixedAdjustElement(element: HTMLElement | null) {\r\n    if (this._fixedAdjustElement !== element) {\r\n      this._fixedAdjustElement = element;\r\n      this._initTopAppBar();\r\n    }\r\n  }\r\n  private _fixedAdjustElement: HTMLElement | null = null;\r\n\r\n  @Input()\r\n  get scrollTarget(): any { return this._scrollTarget; }\r\n  set scrollTarget(target: any) {\r\n    if (target !== this._scrollTarget) {\r\n      this._scrollTarget = target ? target : this._platform.isBrowser ? window : undefined;\r\n      this._initScrollHandler();\r\n    }\r\n  }\r\n  private _scrollTarget: any = this._platform.isBrowser ? this._scrollTarget || window : undefined;\r\n\r\n  /** Event emitted when the navigation icon is selected. */\r\n  @Output() readonly navigationSelected: EventEmitter<MdcTopAppBarNavSelected> =\r\n    new EventEmitter<MdcTopAppBarNavSelected>();\r\n\r\n  @ContentChild(MdcTopAppBarNavigationIcon) navigationIcon?: MdcTopAppBarNavigationIcon;\r\n  @ContentChildren(MdcTopAppBarActionItem, { descendants: true }) actions!: QueryList<MdcTopAppBarActionItem>;\r\n\r\n  private _scrollTargetSubscription: Subscription | null = null;\r\n\r\n  private _createAdapter() {\r\n    return {\r\n      hasClass: (className: string) => this._getHostElement().classList.contains(className),\r\n      addClass: (className: string) => this._getHostElement().classList.add(className),\r\n      removeClass: (className: string) => {\r\n        if (className === cssClasses.SHORT_COLLAPSED_CLASS && this.shortCollapsed) {\r\n          return;\r\n        }\r\n        this._getHostElement().classList.remove(className);\r\n      },\r\n      setStyle: (property: string, value: string) => this._getHostElement().style.setProperty(property, value),\r\n      getTopAppBarHeight: () => this._getHostElement().clientHeight,\r\n      notifyNavigationIconClicked: () => this.navigationSelected.emit({ source: this }),\r\n      registerResizeHandler: (handler: EventListener) => {\r\n        if (!this._platform.isBrowser) { return; }\r\n\r\n        window.addEventListener('resize', handler);\r\n      },\r\n      deregisterResizeHandler: (handler: EventListener) => {\r\n        if (!this._platform.isBrowser) { return; }\r\n\r\n        window.removeEventListener('resize', handler);\r\n      },\r\n      getViewportScrollY: () => {\r\n        if (!this._platform.isBrowser) { return 0; }\r\n\r\n        return this._scrollTarget[this._scrollTarget === window ? 'pageYOffset' : 'scrollTop'];\r\n      },\r\n      getTotalActionItems: () => this.actions ? this.actions.length : 0\r\n    };\r\n  }\r\n\r\n  private _foundation!: {\r\n    init(): void,\r\n    destroy(): void,\r\n    fixedScrollHandler_(): void,\r\n    shortAppBarScrollHandler_(): void,\r\n    topAppBarScrollHandler_(): void\r\n  };\r\n\r\n  constructor(\r\n    private _ngZone: NgZone,\r\n    private _platform: Platform,\r\n    private _changeDetectorRef: ChangeDetectorRef,\r\n    public elementRef: ElementRef) { }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.actions.changes.pipe(startWith(null), takeUntil(this._destroyed))\r\n      .subscribe(() => {\r\n        if (this.short && this.actions.length) {\r\n          this._getHostElement().classList.toggle(cssClasses.SHORT_HAS_ACTION_ITEM_CLASS);\r\n        }\r\n      });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (!this._isFoundationInit) {\r\n      this._initFoundation();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._destroyed.next();\r\n    this._destroyed.complete();\r\n\r\n    if (this._scrollTargetSubscription) {\r\n      this._scrollTargetSubscription.unsubscribe();\r\n    }\r\n    this._destroyFoundation();\r\n  }\r\n\r\n  /** Sets the top app bar to fixed or not. */\r\n  setFixed(fixed: boolean, isUserInput: boolean = true): void {\r\n    this._fixed = toBoolean(fixed);\r\n\r\n    if (this.fixed && this.short) {\r\n      this.setShort(false, false);\r\n    }\r\n\r\n    if (isUserInput) {\r\n      this._initFoundation();\r\n    }\r\n  }\r\n\r\n  /** Sets the top app bar to prominent or not. */\r\n  setProminent(prominent: boolean, isUserInput: boolean = true): void {\r\n    this._prominent = toBoolean(prominent);\r\n\r\n    if (this.prominent && this.short) {\r\n      this.setShort(false, false);\r\n    }\r\n\r\n    if (isUserInput) {\r\n      this._initFoundation();\r\n    }\r\n  }\r\n\r\n  /** Sets the top app bar to dense variant. */\r\n  setDense(dense: boolean, isUserInput: boolean = true): void {\r\n    this._dense = toBoolean(dense);\r\n\r\n    if (this.dense && this.short) {\r\n      this.setShort(false, false);\r\n    }\r\n\r\n    if (isUserInput) {\r\n      this._initFoundation();\r\n    }\r\n  }\r\n\r\n  /** Sets the top app bar to short or not. */\r\n  setShort(short: boolean, isUserInput: boolean = true): void {\r\n    this._short = toBoolean(short);\r\n\r\n    if (this.short) {\r\n      this.setProminent(false, false);\r\n      this.setDense(false, false);\r\n      this.setFixed(false, false);\r\n    } else {\r\n      this.setShortCollapsed(false, false);\r\n    }\r\n\r\n    if (isUserInput) {\r\n      this._initFoundation();\r\n    }\r\n  }\r\n\r\n  /** Sets the top app bar to short-collapsed or not. */\r\n  setShortCollapsed(shortCollapsed: boolean, isUserInput: boolean = true): void {\r\n    this._shortCollapsed = toBoolean(shortCollapsed);\r\n\r\n    if (this.shortCollapsed && !this.short) {\r\n      this.setShort(true, false);\r\n    }\r\n\r\n    if (isUserInput) {\r\n      this._initFoundation();\r\n    }\r\n  }\r\n\r\n  isCollapsed(): boolean {\r\n    return this._getHostElement().classList.contains(cssClasses.SHORT_COLLAPSED_CLASS);\r\n  }\r\n\r\n  private _initFoundation(): void {\r\n    this._destroyFoundation();\r\n\r\n    this._getHostElement().style.top = '0px';\r\n    this._resetFixedShort();\r\n\r\n    if (this.short) {\r\n      this._foundation = new MDCShortTopAppBarFoundation(this._createAdapter());\r\n    } else if (this.fixed) {\r\n      this._foundation = new MDCFixedTopAppBarFoundation(this._createAdapter());\r\n    } else {\r\n      this._foundation = new MDCTopAppBarFoundation(this._createAdapter());\r\n    }\r\n\r\n    this._foundation.init();\r\n    this._isFoundationInit = true;\r\n\r\n    this._initTopAppBar();\r\n    this._initScrollHandler();\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  private _resetFixedShort(): void {\r\n    this._getHostElement().classList.remove(cssClasses.SHORT_HAS_ACTION_ITEM_CLASS);\r\n    this._getHostElement().classList.remove(cssClasses.SHORT_COLLAPSED_CLASS);\r\n    this._getHostElement().classList.remove(cssClasses.FIXED_SCROLLED_CLASS);\r\n  }\r\n\r\n  private _initTopAppBar(): void {\r\n    if (!this.fixed) {\r\n      this._getHostElement().classList.remove(cssClasses.FIXED_SCROLLED_CLASS);\r\n    }\r\n\r\n    if (this.fixed && this._getScrollOffset() > 0) {\r\n      this._getHostElement().classList.add(cssClasses.FIXED_SCROLLED_CLASS);\r\n    }\r\n\r\n    if (!this.short) {\r\n      this._getHostElement().classList.remove(cssClasses.SHORT_HAS_ACTION_ITEM_CLASS);\r\n      this._getHostElement().classList.remove(cssClasses.SHORT_COLLAPSED_CLASS);\r\n    }\r\n    if (this.short && this._getScrollOffset() > 0) {\r\n      this._getHostElement().classList.add(cssClasses.SHORT_COLLAPSED_CLASS);\r\n    }\r\n\r\n    if (this.shortCollapsed) {\r\n      this._getHostElement().classList.add(cssClasses.SHORT_COLLAPSED_CLASS);\r\n    }\r\n\r\n    if (this.fixedAdjustElement) {\r\n      this._removeFixedAdjustClasses();\r\n      this._addFixedAdjustClass();\r\n    }\r\n  }\r\n\r\n  private _removeFixedAdjustClasses(): void {\r\n    this.fixedAdjustElement!.classList.remove('mdc-top-app-bar--short-fixed-adjust');\r\n    this.fixedAdjustElement!.classList.remove('mdc-top-app-bar--fixed-adjust');\r\n    this.fixedAdjustElement!.classList.remove('mdc-top-app-bar--dense-fixed-adjust');\r\n    this.fixedAdjustElement!.classList.remove('mdc-top-app-bar--prominent-fixed-adjust');\r\n    this.fixedAdjustElement!.classList.remove('mdc-top-app-bar--dense-prominent-fixed-adjust');\r\n  }\r\n\r\n  private _addFixedAdjustClass(): void {\r\n    if (this._short) {\r\n      this.fixedAdjustElement!.classList.add('mdc-top-app-bar--short-fixed-adjust');\r\n    } else if (this._dense && this._prominent) {\r\n      this.fixedAdjustElement!.classList.add('mdc-top-app-bar--dense-prominent-fixed-adjust');\r\n    } else if (this._dense) {\r\n      this.fixedAdjustElement!.classList.add('mdc-top-app-bar--dense-fixed-adjust');\r\n    } else if (this._prominent) {\r\n      this.fixedAdjustElement!.classList.add('mdc-top-app-bar--prominent-fixed-adjust');\r\n    } else {\r\n      this.fixedAdjustElement!.classList.add('mdc-top-app-bar--fixed-adjust');\r\n    }\r\n  }\r\n\r\n  private _destroyFoundation(): void {\r\n    if (this._foundation) {\r\n      this._foundation.destroy();\r\n    }\r\n  }\r\n\r\n  private _initScrollHandler(): void {\r\n    if (this._scrollTargetSubscription) {\r\n      this._scrollTargetSubscription.unsubscribe();\r\n    }\r\n    if (!this._platform.isBrowser) {\r\n      return;\r\n    }\r\n\r\n    this._scrollTargetSubscription = this._ngZone.runOutsideAngular(() =>\r\n      fromEvent<Event>(this.scrollTarget || window, 'scroll')\r\n        .subscribe(() => this._ngZone.run(() => {\r\n          if (this.fixed) {\r\n            this._foundation.fixedScrollHandler_();\r\n          } else if (this.short) {\r\n            this._foundation.shortAppBarScrollHandler_();\r\n          } else {\r\n            this._foundation.topAppBarScrollHandler_();\r\n          }\r\n        })));\r\n  }\r\n\r\n  private _getScrollOffset(): number {\r\n    if (!this._platform.isBrowser) { return 0; }\r\n    return this.scrollTarget ? this.scrollTarget.scrollTop : window.pageYOffset;\r\n  }\r\n\r\n  /** Retrieves the DOM element of the component host. */\r\n  private _getHostElement(): HTMLElement {\r\n    return this.elementRef.nativeElement;\r\n  }\r\n}\r\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCTopAppBarAdapter from './adapter';\nimport MDCComponent from '@material/base/component';\nimport {MDCRipple} from '@material/ripple/index';\nimport {cssClasses, strings} from './constants';\nimport MDCTopAppBarBaseFoundation from './foundation';\nimport MDCFixedTopAppBarFoundation from './fixed/foundation';\nimport MDCShortTopAppBarFoundation from './short/foundation';\nimport MDCTopAppBarFoundation from './standard/foundation';\n\n/**\n * @extends {MDCComponent<!MDCTopAppBarBaseFoundation>}\n * @final\n */\nclass MDCTopAppBar extends MDCComponent {\n  /**\n   * @param {...?} args\n   */\n  constructor(...args) {\n    super(...args);\n    /** @private {?Element} */\n    this.navIcon_;\n    /** @type {?Array<MDCRipple>} */\n    this.iconRipples_;\n    /** @type {Object} */\n    this.scrollTarget_;\n  }\n\n  initialize(\n    rippleFactory = (el) => MDCRipple.attachTo(el)) {\n    this.navIcon_ = this.root_.querySelector(strings.NAVIGATION_ICON_SELECTOR);\n\n    // Get all icons in the toolbar and instantiate the ripples\n    const icons = [].slice.call(this.root_.querySelectorAll(strings.ACTION_ITEM_SELECTOR));\n    if (this.navIcon_) {\n      icons.push(this.navIcon_);\n    }\n\n    this.iconRipples_ = icons.map((icon) => {\n      const ripple = rippleFactory(icon);\n      ripple.unbounded = true;\n      return ripple;\n    });\n\n    this.scrollTarget_ = window;\n  }\n\n  destroy() {\n    this.iconRipples_.forEach((iconRipple) => iconRipple.destroy());\n    super.destroy();\n  }\n\n  setScrollTarget(target) {\n    this.foundation_.destroyScrollHandler();\n    this.scrollTarget_ = target;\n    this.foundation_.initScrollHandler();\n  }\n\n  /**\n   * @param {!Element} root\n   * @return {!MDCTopAppBar}\n   */\n  static attachTo(root) {\n    return new MDCTopAppBar(root);\n  }\n\n  /**\n   * @return {!MDCTopAppBarBaseFoundation}\n   */\n  getDefaultFoundation() {\n    /** @type {!MDCTopAppBarAdapter} */\n    const adapter = /** @type {!MDCTopAppBarAdapter} */ (Object.assign({\n      hasClass: (className) => this.root_.classList.contains(className),\n      addClass: (className) => this.root_.classList.add(className),\n      removeClass: (className) => this.root_.classList.remove(className),\n      setStyle: (property, value) => this.root_.style.setProperty(property, value),\n      getTopAppBarHeight: () => this.root_.clientHeight,\n      registerNavigationIconInteractionHandler: (evtType, handler) => {\n        if (this.navIcon_) {\n          this.navIcon_.addEventListener(evtType, handler);\n        }\n      },\n      deregisterNavigationIconInteractionHandler: (evtType, handler) => {\n        if (this.navIcon_) {\n          this.navIcon_.removeEventListener(evtType, handler);\n        }\n      },\n      notifyNavigationIconClicked: () => {\n        this.emit(strings.NAVIGATION_EVENT, {});\n      },\n      registerScrollHandler: (handler) => this.scrollTarget_.addEventListener('scroll', handler),\n      deregisterScrollHandler: (handler) => this.scrollTarget_.removeEventListener('scroll', handler),\n      registerResizeHandler: (handler) => window.addEventListener('resize', handler),\n      deregisterResizeHandler: (handler) => window.removeEventListener('resize', handler),\n      getViewportScrollY: () =>\n        this.scrollTarget_[this.scrollTarget_ === window ? 'pageYOffset' : 'scrollTop'],\n      getTotalActionItems: () =>\n        this.root_.querySelectorAll(strings.ACTION_ITEM_SELECTOR).length,\n    })\n    );\n\n    /** @type {!MDCTopAppBarBaseFoundation} */\n    let foundation;\n    if (this.root_.classList.contains(cssClasses.SHORT_CLASS)) {\n      foundation = new MDCShortTopAppBarFoundation(adapter);\n    } else if (this.root_.classList.contains(cssClasses.FIXED_CLASS)) {\n      foundation = new MDCFixedTopAppBarFoundation(adapter);\n    } else {\n      foundation = new MDCTopAppBarFoundation(adapter);\n    }\n\n    return foundation;\n  }\n}\n\nexport {MDCTopAppBar, MDCTopAppBarBaseFoundation,\n  MDCTopAppBarFoundation, MDCFixedTopAppBarFoundation,\n  MDCShortTopAppBarFoundation};\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCTopAppBarAdapter from '../adapter';\nimport MDCTopAppBarBaseFoundation from '../foundation';\nimport {numbers} from '../constants';\n\nconst INITIAL_VALUE = 0;\n/**\n * @extends {MDCTopAppBarBaseFoundation<!MDCTopAppBarFoundation>}\n * @final\n */\nclass MDCTopAppBarFoundation extends MDCTopAppBarBaseFoundation {\n  /**\n   * @param {!MDCTopAppBarAdapter} adapter\n   */\n  constructor(adapter) {\n    super(adapter);\n    /**\n     * Used for diffs of current scroll position vs previous scroll position\n     * @private {number}\n     */\n    this.lastScrollPosition_ = this.adapter_.getViewportScrollY();\n\n    /**\n     * Used to verify when the top app bar is completely showing or completely hidden\n     * @private {number}\n     */\n    this.topAppBarHeight_ = this.adapter_.getTopAppBarHeight();\n\n    /**\n     * wasDocked_ is used to indicate if the top app bar was docked in the previous\n     * scroll handler iteration.\n     * @private {boolean}\n     */\n    this.wasDocked_ = true;\n\n    /**\n     * isDockedShowing_ is used to indicate if the top app bar is docked in the fully\n     * shown position.\n     * @private {boolean}\n     */\n    this.isDockedShowing_ = true;\n\n    /**\n     * Variable for current scroll position of the top app bar\n     * @private {number}\n     */\n    this.currentAppBarOffsetTop_ = 0;\n\n    /**\n     * Used to prevent the top app bar from being scrolled out of view during resize events\n     * @private {boolean} */\n    this.isCurrentlyBeingResized_ = false;\n\n    /**\n     * The timeout that's used to throttle the resize events\n     * @private {number}\n     */\n    this.resizeThrottleId_ = INITIAL_VALUE;\n\n    /**\n     * The timeout that's used to debounce toggling the isCurrentlyBeingResized_ variable after a resize\n     * @private {number}\n     */\n    this.resizeDebounceId_ = INITIAL_VALUE;\n\n    this.scrollHandler_ = () => this.topAppBarScrollHandler_();\n    this.resizeHandler_ = () => this.topAppBarResizeHandler_();\n  }\n\n  init() {\n    super.init();\n    this.adapter_.registerScrollHandler(this.scrollHandler_);\n    this.adapter_.registerResizeHandler(this.resizeHandler_);\n  }\n\n  destroy() {\n    super.destroy();\n    this.adapter_.deregisterScrollHandler(this.scrollHandler_);\n    this.adapter_.deregisterResizeHandler(this.resizeHandler_);\n    this.adapter_.setStyle('top', '');\n  }\n\n  /**\n   * Function to determine if the DOM needs to update.\n   * @return {boolean}\n   * @private\n   */\n  checkForUpdate_() {\n    const offscreenBoundaryTop = -this.topAppBarHeight_;\n    const hasAnyPixelsOffscreen = this.currentAppBarOffsetTop_ < 0;\n    const hasAnyPixelsOnscreen = this.currentAppBarOffsetTop_ > offscreenBoundaryTop;\n    const partiallyShowing = hasAnyPixelsOffscreen && hasAnyPixelsOnscreen;\n\n    // If it's partially showing, it can't be docked.\n    if (partiallyShowing) {\n      this.wasDocked_ = false;\n    } else {\n      // Not previously docked and not partially showing, it's now docked.\n      if (!this.wasDocked_) {\n        this.wasDocked_ = true;\n        return true;\n      } else if (this.isDockedShowing_ !== hasAnyPixelsOnscreen) {\n        this.isDockedShowing_ = hasAnyPixelsOnscreen;\n        return true;\n      }\n    }\n\n    return partiallyShowing;\n  }\n\n  /**\n   * Function to move the top app bar if needed.\n   * @private\n   */\n  moveTopAppBar_() {\n    if (this.checkForUpdate_()) {\n      // Once the top app bar is fully hidden we use the max potential top app bar height as our offset\n      // so the top app bar doesn't show if the window resizes and the new height > the old height.\n      let offset = this.currentAppBarOffsetTop_;\n      if (Math.abs(offset) >= this.topAppBarHeight_) {\n        offset = -numbers.MAX_TOP_APP_BAR_HEIGHT;\n      }\n\n      this.adapter_.setStyle('top', offset + 'px');\n    }\n  }\n\n  /**\n   * Scroll handler for the default scroll behavior of the top app bar.\n   * @private\n   */\n  topAppBarScrollHandler_() {\n    const currentScrollPosition = Math.max(this.adapter_.getViewportScrollY(), 0);\n    const diff = currentScrollPosition - this.lastScrollPosition_;\n    this.lastScrollPosition_ = currentScrollPosition;\n\n    // If the window is being resized the lastScrollPosition_ needs to be updated but the\n    // current scroll of the top app bar should stay in the same position.\n    if (!this.isCurrentlyBeingResized_) {\n      this.currentAppBarOffsetTop_ -= diff;\n\n      if (this.currentAppBarOffsetTop_ > 0) {\n        this.currentAppBarOffsetTop_ = 0;\n      } else if (Math.abs(this.currentAppBarOffsetTop_) > this.topAppBarHeight_) {\n        this.currentAppBarOffsetTop_ = -this.topAppBarHeight_;\n      }\n\n      this.moveTopAppBar_();\n    }\n  }\n\n  /**\n   * Top app bar resize handler that throttle/debounce functions that execute updates.\n   * @private\n   */\n  topAppBarResizeHandler_() {\n    // Throttle resize events 10 p/s\n    if (!this.resizeThrottleId_) {\n      this.resizeThrottleId_ = setTimeout(() => {\n        this.resizeThrottleId_ = INITIAL_VALUE;\n        this.throttledResizeHandler_();\n      }, numbers.DEBOUNCE_THROTTLE_RESIZE_TIME_MS);\n    }\n\n    this.isCurrentlyBeingResized_ = true;\n\n    if (this.resizeDebounceId_) {\n      clearTimeout(this.resizeDebounceId_);\n    }\n\n    this.resizeDebounceId_ = setTimeout(() => {\n      this.topAppBarScrollHandler_();\n      this.isCurrentlyBeingResized_ = false;\n      this.resizeDebounceId_ = INITIAL_VALUE;\n    }, numbers.DEBOUNCE_THROTTLE_RESIZE_TIME_MS);\n  }\n\n  /**\n   * Throttled function that updates the top app bar scrolled values if the\n   * top app bar height changes.\n   * @private\n   */\n  throttledResizeHandler_() {\n    const currentHeight = this.adapter_.getTopAppBarHeight();\n    if (this.topAppBarHeight_ !== currentHeight) {\n      this.wasDocked_ = false;\n\n      // Since the top app bar has a different height depending on the screen width, this\n      // will ensure that the top app bar remains in the correct location if\n      // completely hidden and a resize makes the top app bar a different height.\n      this.currentAppBarOffsetTop_ -= this.topAppBarHeight_ - currentHeight;\n      this.topAppBarHeight_ = currentHeight;\n    }\n    this.topAppBarScrollHandler_();\n  }\n}\n\nexport default MDCTopAppBarFoundation;\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCTopAppBarAdapter from '../adapter';\nimport MDCTopAppBarBaseFoundation from '../foundation';\nimport {cssClasses} from '../constants';\n\n/**\n * @extends {MDCTopAppBarBaseFoundation<!MDCShortTopAppBarFoundation>}\n * @final\n */\nclass MDCShortTopAppBarFoundation extends MDCTopAppBarBaseFoundation {\n  /**\n   * @param {!MDCTopAppBarAdapter} adapter\n   */\n  constructor(adapter) {\n    super(adapter);\n    // State variable for the current top app bar state\n    this.isCollapsed = false;\n\n    this.scrollHandler_ = () => this.shortAppBarScrollHandler_();\n  }\n\n  init() {\n    super.init();\n    const isAlwaysCollapsed = this.adapter_.hasClass(cssClasses.SHORT_COLLAPSED_CLASS);\n\n    if (this.adapter_.getTotalActionItems() > 0) {\n      this.adapter_.addClass(cssClasses.SHORT_HAS_ACTION_ITEM_CLASS);\n    }\n\n    if (!isAlwaysCollapsed) {\n      this.adapter_.registerScrollHandler(this.scrollHandler_);\n      this.shortAppBarScrollHandler_();\n    }\n  }\n\n  destroy() {\n    super.destroy();\n    this.adapter_.deregisterScrollHandler(this.scrollHandler_);\n  }\n\n\n  /**\n   * Scroll handler for applying/removing the collapsed modifier class\n   * on the short top app bar.\n   * @private\n   */\n  shortAppBarScrollHandler_() {\n    const currentScroll = this.adapter_.getViewportScrollY();\n\n    if (currentScroll <= 0) {\n      if (this.isCollapsed) {\n        this.adapter_.removeClass(cssClasses.SHORT_COLLAPSED_CLASS);\n        this.isCollapsed = false;\n      }\n    } else {\n      if (!this.isCollapsed) {\n        this.adapter_.addClass(cssClasses.SHORT_COLLAPSED_CLASS);\n        this.isCollapsed = true;\n      }\n    }\n  }\n}\n\nexport default MDCShortTopAppBarFoundation;\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport {cssClasses} from '../constants';\nimport MDCTopAppBarAdapter from '../adapter';\nimport MDCTopAppBarFoundation from '../foundation';\n\n/**\n * @extends {MDCTopAppBarFoundation<!MDCFixedTopAppBarFoundation>}\n * @final\n */\nclass MDCFixedTopAppBarFoundation extends MDCTopAppBarFoundation {\n  /**\n   * @param {!MDCTopAppBarAdapter} adapter\n   */\n  constructor(adapter) {\n    super(adapter);\n    /** State variable for the previous scroll iteration top app bar state */\n    this.wasScrolled_ = false;\n\n    this.scrollHandler_ = () => this.fixedScrollHandler_();\n  }\n\n  init() {\n    super.init();\n    this.adapter_.registerScrollHandler(this.scrollHandler_);\n  }\n\n  destroy() {\n    super.destroy();\n    this.adapter_.deregisterScrollHandler(this.scrollHandler_);\n  }\n\n  /**\n   * Scroll handler for applying/removing the modifier class\n   * on the fixed top app bar.\n   */\n  fixedScrollHandler_() {\n    const currentScroll = this.adapter_.getViewportScrollY();\n\n    if (currentScroll <= 0) {\n      if (this.wasScrolled_) {\n        this.adapter_.removeClass(cssClasses.FIXED_SCROLLED_CLASS);\n        this.wasScrolled_ = false;\n      }\n    } else {\n      if (!this.wasScrolled_) {\n        this.adapter_.addClass(cssClasses.FIXED_SCROLLED_CLASS);\n        this.wasScrolled_ = true;\n      }\n    }\n  }\n}\n\nexport default MDCFixedTopAppBarFoundation;\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport {strings, cssClasses, numbers} from './constants';\nimport MDCTopAppBarAdapter from './adapter';\nimport MDCFoundation from '@material/base/foundation';\n\n/**\n * @extends {MDCFoundation<!MDCTopAppBarAdapter>}\n */\nclass MDCTopAppBarBaseFoundation extends MDCFoundation {\n  /** @return enum {string} */\n  static get strings() {\n    return strings;\n  }\n\n  /** @return enum {string} */\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  /** @return enum {number} */\n  static get numbers() {\n    return numbers;\n  }\n\n  /**\n   * {@see MDCTopAppBarAdapter} for typing information on parameters and return\n   * types.\n   * @return {!MDCTopAppBarAdapter}\n   */\n  static get defaultAdapter() {\n    return /** @type {!MDCTopAppBarAdapter} */ ({\n      hasClass: (/* className: string */) => {},\n      addClass: (/* className: string */) => {},\n      removeClass: (/* className: string */) => {},\n      setStyle: (/* property: string, value: string */) => {},\n      getTopAppBarHeight: () => {},\n      registerNavigationIconInteractionHandler: (/* type: string, handler: EventListener */) => {},\n      deregisterNavigationIconInteractionHandler: (/* type: string, handler: EventListener */) => {},\n      notifyNavigationIconClicked: () => {},\n      registerScrollHandler: (/* handler: EventListener */) => {},\n      deregisterScrollHandler: (/* handler: EventListener */) => {},\n      registerResizeHandler: (/* handler: EventListener */) => {},\n      deregisterResizeHandler: (/* handler: EventListener */) => {},\n      getViewportScrollY: () => /* number */ 0,\n      getTotalActionItems: () => /* number */ 0,\n    });\n  }\n\n  /**\n   * @param {!MDCTopAppBarAdapter} adapter\n   */\n  constructor(/** @type {!MDCTopAppBarAdapter} */ adapter) {\n    super(Object.assign(MDCTopAppBarBaseFoundation.defaultAdapter, adapter));\n\n    this.navClickHandler_ = () => this.adapter_.notifyNavigationIconClicked();\n\n    this.scrollHandler_ = () => {};\n  }\n\n  init() {\n    this.adapter_.registerNavigationIconInteractionHandler('click', this.navClickHandler_);\n  }\n\n  destroy() {\n    this.adapter_.deregisterNavigationIconInteractionHandler('click', this.navClickHandler_);\n  }\n\n  initScrollHandler() {\n    this.adapter_.registerScrollHandler(this.scrollHandler_);\n  }\n\n  destroyScrollHandler() {\n    this.adapter_.deregisterScrollHandler(this.scrollHandler_);\n  }\n}\n\nexport default MDCTopAppBarBaseFoundation;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCComponent from '@material/base/component';\nimport MDCRippleAdapter from './adapter';\nimport MDCRippleFoundation from './foundation';\nimport * as util from './util';\n\n/**\n * @extends MDCComponent<!MDCRippleFoundation>\n */\nclass MDCRipple extends MDCComponent {\n  /** @param {...?} args */\n  constructor(...args) {\n    super(...args);\n\n    /** @type {boolean} */\n    this.disabled = false;\n\n    /** @private {boolean} */\n    this.unbounded_;\n  }\n\n  /**\n   * @param {!Element} root\n   * @param {{isUnbounded: (boolean|undefined)}=} options\n   * @return {!MDCRipple}\n   */\n  static attachTo(root, {isUnbounded = undefined} = {}) {\n    const ripple = new MDCRipple(root);\n    // Only override unbounded behavior if option is explicitly specified\n    if (isUnbounded !== undefined) {\n      ripple.unbounded = /** @type {boolean} */ (isUnbounded);\n    }\n    return ripple;\n  }\n\n  /**\n   * @param {!RippleCapableSurface} instance\n   * @return {!MDCRippleAdapter}\n   */\n  static createAdapter(instance) {\n    const MATCHES = util.getMatchesProperty(HTMLElement.prototype);\n\n    return {\n      browserSupportsCssVars: () => util.supportsCssVariables(window),\n      isUnbounded: () => instance.unbounded,\n      isSurfaceActive: () => instance.root_[MATCHES](':active'),\n      isSurfaceDisabled: () => instance.disabled,\n      addClass: (className) => instance.root_.classList.add(className),\n      removeClass: (className) => instance.root_.classList.remove(className),\n      containsEventTarget: (target) => instance.root_.contains(target),\n      registerInteractionHandler: (evtType, handler) =>\n        instance.root_.addEventListener(evtType, handler, util.applyPassive()),\n      deregisterInteractionHandler: (evtType, handler) =>\n        instance.root_.removeEventListener(evtType, handler, util.applyPassive()),\n      registerDocumentInteractionHandler: (evtType, handler) =>\n        document.documentElement.addEventListener(evtType, handler, util.applyPassive()),\n      deregisterDocumentInteractionHandler: (evtType, handler) =>\n        document.documentElement.removeEventListener(evtType, handler, util.applyPassive()),\n      registerResizeHandler: (handler) => window.addEventListener('resize', handler),\n      deregisterResizeHandler: (handler) => window.removeEventListener('resize', handler),\n      updateCssVariable: (varName, value) => instance.root_.style.setProperty(varName, value),\n      computeBoundingRect: () => instance.root_.getBoundingClientRect(),\n      getWindowPageOffset: () => ({x: window.pageXOffset, y: window.pageYOffset}),\n    };\n  }\n\n  /** @return {boolean} */\n  get unbounded() {\n    return this.unbounded_;\n  }\n\n  /** @param {boolean} unbounded */\n  set unbounded(unbounded) {\n    this.unbounded_ = Boolean(unbounded);\n    this.setUnbounded_();\n  }\n\n  /**\n   * Closure Compiler throws an access control error when directly accessing a\n   * protected or private property inside a getter/setter, like unbounded above.\n   * By accessing the protected property inside a method, we solve that problem.\n   * That's why this function exists.\n   * @private\n   */\n  setUnbounded_() {\n    this.foundation_.setUnbounded(this.unbounded_);\n  }\n\n  activate() {\n    this.foundation_.activate();\n  }\n\n  deactivate() {\n    this.foundation_.deactivate();\n  }\n\n  layout() {\n    this.foundation_.layout();\n  }\n\n  /**\n   * @return {!MDCRippleFoundation}\n   * @override\n   */\n  getDefaultFoundation() {\n    return new MDCRippleFoundation(MDCRipple.createAdapter(this));\n  }\n\n  /** @override */\n  initialSyncWithDOM() {\n    this.unbounded = 'mdcRippleIsUnbounded' in this.root_.dataset;\n  }\n}\n\n/**\n * See Material Design spec for more details on when to use ripples.\n * https://material.io/guidelines/motion/choreography.html#choreography-creation\n * @record\n */\nclass RippleCapableSurface {}\n\n/** @protected {!Element} */\nRippleCapableSurface.prototype.root_;\n\n/**\n * Whether or not the ripple bleeds out of the bounds of the element.\n * @type {boolean|undefined}\n */\nRippleCapableSurface.prototype.unbounded;\n\n/**\n * Whether or not the ripple is attached to a disabled component.\n * @type {boolean|undefined}\n */\nRippleCapableSurface.prototype.disabled;\n\nexport {MDCRipple, MDCRippleFoundation, RippleCapableSurface, util};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCFoundation from '@material/base/foundation';\nimport MDCRippleAdapter from './adapter';\nimport {cssClasses, strings, numbers} from './constants';\nimport {getNormalizedEventCoords} from './util';\n\n/**\n * @typedef {{\n *   isActivated: (boolean|undefined),\n *   hasDeactivationUXRun: (boolean|undefined),\n *   wasActivatedByPointer: (boolean|undefined),\n *   wasElementMadeActive: (boolean|undefined),\n *   activationEvent: (!Event|undefined),\n *   isProgrammatic: (boolean|undefined)\n * }}\n */\nlet ActivationStateType;\n\n/**\n * @typedef {{\n *   activate: (string|undefined),\n *   deactivate: (string|undefined),\n *   focus: (string|undefined),\n *   blur: (string|undefined)\n * }}\n */\nlet ListenerInfoType;\n\n/**\n * @typedef {{\n *   activate: function(!Event),\n *   deactivate: function(!Event=),\n *   focus: function(),\n *   blur: function()\n * }}\n */\nlet ListenersType;\n\n/**\n * @typedef {{\n *   x: number,\n *   y: number\n * }}\n */\nlet PointType;\n\n// Activation events registered on the root element of each instance for activation\nconst ACTIVATION_EVENT_TYPES = ['touchstart', 'pointerdown', 'mousedown', 'keydown'];\n\n// Deactivation events registered on documentElement when a pointer-related down event occurs\nconst POINTER_DEACTIVATION_EVENT_TYPES = ['touchend', 'pointerup', 'mouseup', 'contextmenu'];\n\n// Tracks activations that have occurred on the current frame, to avoid simultaneous nested activations\n/** @type {!Array<!EventTarget>} */\nlet activatedTargets = [];\n\n/**\n * @extends {MDCFoundation<!MDCRippleAdapter>}\n */\nclass MDCRippleFoundation extends MDCFoundation {\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  static get strings() {\n    return strings;\n  }\n\n  static get numbers() {\n    return numbers;\n  }\n\n  static get defaultAdapter() {\n    return {\n      browserSupportsCssVars: () => /* boolean - cached */ {},\n      isUnbounded: () => /* boolean */ {},\n      isSurfaceActive: () => /* boolean */ {},\n      isSurfaceDisabled: () => /* boolean */ {},\n      addClass: (/* className: string */) => {},\n      removeClass: (/* className: string */) => {},\n      containsEventTarget: (/* target: !EventTarget */) => {},\n      registerInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      deregisterInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      registerDocumentInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      deregisterDocumentInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      registerResizeHandler: (/* handler: EventListener */) => {},\n      deregisterResizeHandler: (/* handler: EventListener */) => {},\n      updateCssVariable: (/* varName: string, value: string */) => {},\n      computeBoundingRect: () => /* ClientRect */ {},\n      getWindowPageOffset: () => /* {x: number, y: number} */ {},\n    };\n  }\n\n  constructor(adapter) {\n    super(Object.assign(MDCRippleFoundation.defaultAdapter, adapter));\n\n    /** @private {number} */\n    this.layoutFrame_ = 0;\n\n    /** @private {!ClientRect} */\n    this.frame_ = /** @type {!ClientRect} */ ({width: 0, height: 0});\n\n    /** @private {!ActivationStateType} */\n    this.activationState_ = this.defaultActivationState_();\n\n    /** @private {number} */\n    this.initialSize_ = 0;\n\n    /** @private {number} */\n    this.maxRadius_ = 0;\n\n    /** @private {function(!Event)} */\n    this.activateHandler_ = (e) => this.activate_(e);\n\n    /** @private {function(!Event=)} */\n    this.deactivateHandler_ = () => this.deactivate_();\n\n    /** @private {function(!Event=)} */\n    this.focusHandler_ = () => this.handleFocus();\n\n    /** @private {function(!Event=)} */\n    this.blurHandler_ = () => this.handleBlur();\n\n    /** @private {!Function} */\n    this.resizeHandler_ = () => this.layout();\n\n    /** @private {{left: number, top:number}} */\n    this.unboundedCoords_ = {\n      left: 0,\n      top: 0,\n    };\n\n    /** @private {number} */\n    this.fgScale_ = 0;\n\n    /** @private {number} */\n    this.activationTimer_ = 0;\n\n    /** @private {number} */\n    this.fgDeactivationRemovalTimer_ = 0;\n\n    /** @private {boolean} */\n    this.activationAnimationHasEnded_ = false;\n\n    /** @private {!Function} */\n    this.activationTimerCallback_ = () => {\n      this.activationAnimationHasEnded_ = true;\n      this.runDeactivationUXLogicIfReady_();\n    };\n\n    /** @private {!Event|undefined} */\n    this.previousActivationEvent_;\n  }\n\n  /**\n   * We compute this property so that we are not querying information about the client\n   * until the point in time where the foundation requests it. This prevents scenarios where\n   * client-side feature-detection may happen too early, such as when components are rendered on the server\n   * and then initialized at mount time on the client.\n   * @return {boolean}\n   * @private\n   */\n  supportsPressRipple_() {\n    return this.adapter_.browserSupportsCssVars();\n  }\n\n  /**\n   * @return {!ActivationStateType}\n   */\n  defaultActivationState_() {\n    return {\n      isActivated: false,\n      hasDeactivationUXRun: false,\n      wasActivatedByPointer: false,\n      wasElementMadeActive: false,\n      activationEvent: undefined,\n      isProgrammatic: false,\n    };\n  }\n\n  /** @override */\n  init() {\n    const supportsPressRipple = this.supportsPressRipple_();\n\n    this.registerRootHandlers_(supportsPressRipple);\n\n    if (supportsPressRipple) {\n      const {ROOT, UNBOUNDED} = MDCRippleFoundation.cssClasses;\n      requestAnimationFrame(() => {\n        this.adapter_.addClass(ROOT);\n        if (this.adapter_.isUnbounded()) {\n          this.adapter_.addClass(UNBOUNDED);\n          // Unbounded ripples need layout logic applied immediately to set coordinates for both shade and ripple\n          this.layoutInternal_();\n        }\n      });\n    }\n  }\n\n  /** @override */\n  destroy() {\n    if (this.supportsPressRipple_()) {\n      if (this.activationTimer_) {\n        clearTimeout(this.activationTimer_);\n        this.activationTimer_ = 0;\n        this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_ACTIVATION);\n      }\n\n      if (this.fgDeactivationRemovalTimer_) {\n        clearTimeout(this.fgDeactivationRemovalTimer_);\n        this.fgDeactivationRemovalTimer_ = 0;\n        this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_DEACTIVATION);\n      }\n\n      const {ROOT, UNBOUNDED} = MDCRippleFoundation.cssClasses;\n      requestAnimationFrame(() => {\n        this.adapter_.removeClass(ROOT);\n        this.adapter_.removeClass(UNBOUNDED);\n        this.removeCssVars_();\n      });\n    }\n\n    this.deregisterRootHandlers_();\n    this.deregisterDeactivationHandlers_();\n  }\n\n  /**\n   * @param {boolean} supportsPressRipple Passed from init to save a redundant function call\n   * @private\n   */\n  registerRootHandlers_(supportsPressRipple) {\n    if (supportsPressRipple) {\n      ACTIVATION_EVENT_TYPES.forEach((type) => {\n        this.adapter_.registerInteractionHandler(type, this.activateHandler_);\n      });\n      if (this.adapter_.isUnbounded()) {\n        this.adapter_.registerResizeHandler(this.resizeHandler_);\n      }\n    }\n\n    this.adapter_.registerInteractionHandler('focus', this.focusHandler_);\n    this.adapter_.registerInteractionHandler('blur', this.blurHandler_);\n  }\n\n  /**\n   * @param {!Event} e\n   * @private\n   */\n  registerDeactivationHandlers_(e) {\n    if (e.type === 'keydown') {\n      this.adapter_.registerInteractionHandler('keyup', this.deactivateHandler_);\n    } else {\n      POINTER_DEACTIVATION_EVENT_TYPES.forEach((type) => {\n        this.adapter_.registerDocumentInteractionHandler(type, this.deactivateHandler_);\n      });\n    }\n  }\n\n  /** @private */\n  deregisterRootHandlers_() {\n    ACTIVATION_EVENT_TYPES.forEach((type) => {\n      this.adapter_.deregisterInteractionHandler(type, this.activateHandler_);\n    });\n    this.adapter_.deregisterInteractionHandler('focus', this.focusHandler_);\n    this.adapter_.deregisterInteractionHandler('blur', this.blurHandler_);\n\n    if (this.adapter_.isUnbounded()) {\n      this.adapter_.deregisterResizeHandler(this.resizeHandler_);\n    }\n  }\n\n  /** @private */\n  deregisterDeactivationHandlers_() {\n    this.adapter_.deregisterInteractionHandler('keyup', this.deactivateHandler_);\n    POINTER_DEACTIVATION_EVENT_TYPES.forEach((type) => {\n      this.adapter_.deregisterDocumentInteractionHandler(type, this.deactivateHandler_);\n    });\n  }\n\n  /** @private */\n  removeCssVars_() {\n    const {strings} = MDCRippleFoundation;\n    Object.keys(strings).forEach((k) => {\n      if (k.indexOf('VAR_') === 0) {\n        this.adapter_.updateCssVariable(strings[k], null);\n      }\n    });\n  }\n\n  /**\n   * @param {!Event=} e\n   * @private\n   */\n  activate_(e) {\n    if (this.adapter_.isSurfaceDisabled()) {\n      return;\n    }\n\n    const activationState = this.activationState_;\n    if (activationState.isActivated) {\n      return;\n    }\n\n    // Avoid reacting to follow-on events fired by touch device after an already-processed user interaction\n    const previousActivationEvent = this.previousActivationEvent_;\n    const isSameInteraction = previousActivationEvent && e !== undefined && previousActivationEvent.type !== e.type;\n    if (isSameInteraction) {\n      return;\n    }\n\n    activationState.isActivated = true;\n    activationState.isProgrammatic = e === undefined;\n    activationState.activationEvent = e;\n    activationState.wasActivatedByPointer = activationState.isProgrammatic ? false : e !== undefined && (\n      e.type === 'mousedown' || e.type === 'touchstart' || e.type === 'pointerdown'\n    );\n\n    const hasActivatedChild = e !== undefined && activatedTargets.length > 0 && activatedTargets.some(\n      (target) => this.adapter_.containsEventTarget(target));\n    if (hasActivatedChild) {\n      // Immediately reset activation state, while preserving logic that prevents touch follow-on events\n      this.resetActivationState_();\n      return;\n    }\n\n    if (e !== undefined) {\n      activatedTargets.push(/** @type {!EventTarget} */ (e.target));\n      this.registerDeactivationHandlers_(e);\n    }\n\n    activationState.wasElementMadeActive = this.checkElementMadeActive_(e);\n    if (activationState.wasElementMadeActive) {\n      this.animateActivation_();\n    }\n\n    requestAnimationFrame(() => {\n      // Reset array on next frame after the current event has had a chance to bubble to prevent ancestor ripples\n      activatedTargets = [];\n\n      if (!activationState.wasElementMadeActive && e !== undefined && (e.key === ' ' || e.keyCode === 32)) {\n        // If space was pressed, try again within an rAF call to detect :active, because different UAs report\n        // active states inconsistently when they're called within event handling code:\n        // - https://bugs.chromium.org/p/chromium/issues/detail?id=635971\n        // - https://bugzilla.mozilla.org/show_bug.cgi?id=1293741\n        // We try first outside rAF to support Edge, which does not exhibit this problem, but will crash if a CSS\n        // variable is set within a rAF callback for a submit button interaction (#2241).\n        activationState.wasElementMadeActive = this.checkElementMadeActive_(e);\n        if (activationState.wasElementMadeActive) {\n          this.animateActivation_();\n        }\n      }\n\n      if (!activationState.wasElementMadeActive) {\n        // Reset activation state immediately if element was not made active.\n        this.activationState_ = this.defaultActivationState_();\n      }\n    });\n  }\n\n  /**\n   * @param {!Event=} e\n   * @private\n   */\n  checkElementMadeActive_(e) {\n    return (e !== undefined && e.type === 'keydown') ? this.adapter_.isSurfaceActive() : true;\n  }\n\n  /**\n   * @param {!Event=} event Optional event containing position information.\n   */\n  activate(event) {\n    this.activate_(event);\n  }\n\n  /** @private */\n  animateActivation_() {\n    const {VAR_FG_TRANSLATE_START, VAR_FG_TRANSLATE_END} = MDCRippleFoundation.strings;\n    const {FG_DEACTIVATION, FG_ACTIVATION} = MDCRippleFoundation.cssClasses;\n    const {DEACTIVATION_TIMEOUT_MS} = MDCRippleFoundation.numbers;\n\n    this.layoutInternal_();\n\n    let translateStart = '';\n    let translateEnd = '';\n\n    if (!this.adapter_.isUnbounded()) {\n      const {startPoint, endPoint} = this.getFgTranslationCoordinates_();\n      translateStart = `${startPoint.x}px, ${startPoint.y}px`;\n      translateEnd = `${endPoint.x}px, ${endPoint.y}px`;\n    }\n\n    this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_START, translateStart);\n    this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_END, translateEnd);\n    // Cancel any ongoing activation/deactivation animations\n    clearTimeout(this.activationTimer_);\n    clearTimeout(this.fgDeactivationRemovalTimer_);\n    this.rmBoundedActivationClasses_();\n    this.adapter_.removeClass(FG_DEACTIVATION);\n\n    // Force layout in order to re-trigger the animation.\n    this.adapter_.computeBoundingRect();\n    this.adapter_.addClass(FG_ACTIVATION);\n    this.activationTimer_ = setTimeout(() => this.activationTimerCallback_(), DEACTIVATION_TIMEOUT_MS);\n  }\n\n  /**\n   * @private\n   * @return {{startPoint: PointType, endPoint: PointType}}\n   */\n  getFgTranslationCoordinates_() {\n    const {activationEvent, wasActivatedByPointer} = this.activationState_;\n\n    let startPoint;\n    if (wasActivatedByPointer) {\n      startPoint = getNormalizedEventCoords(\n        /** @type {!Event} */ (activationEvent),\n        this.adapter_.getWindowPageOffset(), this.adapter_.computeBoundingRect()\n      );\n    } else {\n      startPoint = {\n        x: this.frame_.width / 2,\n        y: this.frame_.height / 2,\n      };\n    }\n    // Center the element around the start point.\n    startPoint = {\n      x: startPoint.x - (this.initialSize_ / 2),\n      y: startPoint.y - (this.initialSize_ / 2),\n    };\n\n    const endPoint = {\n      x: (this.frame_.width / 2) - (this.initialSize_ / 2),\n      y: (this.frame_.height / 2) - (this.initialSize_ / 2),\n    };\n\n    return {startPoint, endPoint};\n  }\n\n  /** @private */\n  runDeactivationUXLogicIfReady_() {\n    // This method is called both when a pointing device is released, and when the activation animation ends.\n    // The deactivation animation should only run after both of those occur.\n    const {FG_DEACTIVATION} = MDCRippleFoundation.cssClasses;\n    const {hasDeactivationUXRun, isActivated} = this.activationState_;\n    const activationHasEnded = hasDeactivationUXRun || !isActivated;\n\n    if (activationHasEnded && this.activationAnimationHasEnded_) {\n      this.rmBoundedActivationClasses_();\n      this.adapter_.addClass(FG_DEACTIVATION);\n      this.fgDeactivationRemovalTimer_ = setTimeout(() => {\n        this.adapter_.removeClass(FG_DEACTIVATION);\n      }, numbers.FG_DEACTIVATION_MS);\n    }\n  }\n\n  /** @private */\n  rmBoundedActivationClasses_() {\n    const {FG_ACTIVATION} = MDCRippleFoundation.cssClasses;\n    this.adapter_.removeClass(FG_ACTIVATION);\n    this.activationAnimationHasEnded_ = false;\n    this.adapter_.computeBoundingRect();\n  }\n\n  resetActivationState_() {\n    this.previousActivationEvent_ = this.activationState_.activationEvent;\n    this.activationState_ = this.defaultActivationState_();\n    // Touch devices may fire additional events for the same interaction within a short time.\n    // Store the previous event until it's safe to assume that subsequent events are for new interactions.\n    setTimeout(() => this.previousActivationEvent_ = undefined, MDCRippleFoundation.numbers.TAP_DELAY_MS);\n  }\n\n  /**\n   * @private\n   */\n  deactivate_() {\n    const activationState = this.activationState_;\n    // This can happen in scenarios such as when you have a keyup event that blurs the element.\n    if (!activationState.isActivated) {\n      return;\n    }\n\n    const state = /** @type {!ActivationStateType} */ (Object.assign({}, activationState));\n\n    if (activationState.isProgrammatic) {\n      requestAnimationFrame(() => this.animateDeactivation_(state));\n      this.resetActivationState_();\n    } else {\n      this.deregisterDeactivationHandlers_();\n      requestAnimationFrame(() => {\n        this.activationState_.hasDeactivationUXRun = true;\n        this.animateDeactivation_(state);\n        this.resetActivationState_();\n      });\n    }\n  }\n\n  deactivate() {\n    this.deactivate_();\n  }\n\n  /**\n   * @param {!ActivationStateType} options\n   * @private\n   */\n  animateDeactivation_({wasActivatedByPointer, wasElementMadeActive}) {\n    if (wasActivatedByPointer || wasElementMadeActive) {\n      this.runDeactivationUXLogicIfReady_();\n    }\n  }\n\n  layout() {\n    if (this.layoutFrame_) {\n      cancelAnimationFrame(this.layoutFrame_);\n    }\n    this.layoutFrame_ = requestAnimationFrame(() => {\n      this.layoutInternal_();\n      this.layoutFrame_ = 0;\n    });\n  }\n\n  /** @private */\n  layoutInternal_() {\n    this.frame_ = this.adapter_.computeBoundingRect();\n    const maxDim = Math.max(this.frame_.height, this.frame_.width);\n\n    // Surface diameter is treated differently for unbounded vs. bounded ripples.\n    // Unbounded ripple diameter is calculated smaller since the surface is expected to already be padded appropriately\n    // to extend the hitbox, and the ripple is expected to meet the edges of the padded hitbox (which is typically\n    // square). Bounded ripples, on the other hand, are fully expected to expand beyond the surface's longest diameter\n    // (calculated based on the diagonal plus a constant padding), and are clipped at the surface's border via\n    // `overflow: hidden`.\n    const getBoundedRadius = () => {\n      const hypotenuse = Math.sqrt(Math.pow(this.frame_.width, 2) + Math.pow(this.frame_.height, 2));\n      return hypotenuse + MDCRippleFoundation.numbers.PADDING;\n    };\n\n    this.maxRadius_ = this.adapter_.isUnbounded() ? maxDim : getBoundedRadius();\n\n    // Ripple is sized as a fraction of the largest dimension of the surface, then scales up using a CSS scale transform\n    this.initialSize_ = Math.floor(maxDim * MDCRippleFoundation.numbers.INITIAL_ORIGIN_SCALE);\n    this.fgScale_ = this.maxRadius_ / this.initialSize_;\n\n    this.updateLayoutCssVars_();\n  }\n\n  /** @private */\n  updateLayoutCssVars_() {\n    const {\n      VAR_FG_SIZE, VAR_LEFT, VAR_TOP, VAR_FG_SCALE,\n    } = MDCRippleFoundation.strings;\n\n    this.adapter_.updateCssVariable(VAR_FG_SIZE, `${this.initialSize_}px`);\n    this.adapter_.updateCssVariable(VAR_FG_SCALE, this.fgScale_);\n\n    if (this.adapter_.isUnbounded()) {\n      this.unboundedCoords_ = {\n        left: Math.round((this.frame_.width / 2) - (this.initialSize_ / 2)),\n        top: Math.round((this.frame_.height / 2) - (this.initialSize_ / 2)),\n      };\n\n      this.adapter_.updateCssVariable(VAR_LEFT, `${this.unboundedCoords_.left}px`);\n      this.adapter_.updateCssVariable(VAR_TOP, `${this.unboundedCoords_.top}px`);\n    }\n  }\n\n  /** @param {boolean} unbounded */\n  setUnbounded(unbounded) {\n    const {UNBOUNDED} = MDCRippleFoundation.cssClasses;\n    if (unbounded) {\n      this.adapter_.addClass(UNBOUNDED);\n    } else {\n      this.adapter_.removeClass(UNBOUNDED);\n    }\n  }\n\n  handleFocus() {\n    requestAnimationFrame(() =>\n      this.adapter_.addClass(MDCRippleFoundation.cssClasses.BG_FOCUSED));\n  }\n\n  handleBlur() {\n    requestAnimationFrame(() =>\n      this.adapter_.removeClass(MDCRippleFoundation.cssClasses.BG_FOCUSED));\n  }\n}\n\nexport default MDCRippleFoundation;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * Stores result from supportsCssVariables to avoid redundant processing to detect CSS custom variable support.\n * @private {boolean|undefined}\n */\nlet supportsCssVariables_;\n\n/**\n * Stores result from applyPassive to avoid redundant processing to detect passive event listener support.\n * @private {boolean|undefined}\n */\nlet supportsPassive_;\n\n/**\n * @param {!Window} windowObj\n * @return {boolean}\n */\nfunction detectEdgePseudoVarBug(windowObj) {\n  // Detect versions of Edge with buggy var() support\n  // See: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11495448/\n  const document = windowObj.document;\n  const node = document.createElement('div');\n  node.className = 'mdc-ripple-surface--test-edge-var-bug';\n  document.body.appendChild(node);\n\n  // The bug exists if ::before style ends up propagating to the parent element.\n  // Additionally, getComputedStyle returns null in iframes with display: \"none\" in Firefox,\n  // but Firefox is known to support CSS custom properties correctly.\n  // See: https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n  const computedStyle = windowObj.getComputedStyle(node);\n  const hasPseudoVarBug = computedStyle !== null && computedStyle.borderTopStyle === 'solid';\n  node.remove();\n  return hasPseudoVarBug;\n}\n\n/**\n * @param {!Window} windowObj\n * @param {boolean=} forceRefresh\n * @return {boolean|undefined}\n */\n\nfunction supportsCssVariables(windowObj, forceRefresh = false) {\n  let supportsCssVariables = supportsCssVariables_;\n  if (typeof supportsCssVariables_ === 'boolean' && !forceRefresh) {\n    return supportsCssVariables;\n  }\n\n  const supportsFunctionPresent = windowObj.CSS && typeof windowObj.CSS.supports === 'function';\n  if (!supportsFunctionPresent) {\n    return;\n  }\n\n  const explicitlySupportsCssVars = windowObj.CSS.supports('--css-vars', 'yes');\n  // See: https://bugs.webkit.org/show_bug.cgi?id=154669\n  // See: README section on Safari\n  const weAreFeatureDetectingSafari10plus = (\n    windowObj.CSS.supports('(--css-vars: yes)') &&\n    windowObj.CSS.supports('color', '#00000000')\n  );\n\n  if (explicitlySupportsCssVars || weAreFeatureDetectingSafari10plus) {\n    supportsCssVariables = !detectEdgePseudoVarBug(windowObj);\n  } else {\n    supportsCssVariables = false;\n  }\n\n  if (!forceRefresh) {\n    supportsCssVariables_ = supportsCssVariables;\n  }\n  return supportsCssVariables;\n}\n\n//\n/**\n * Determine whether the current browser supports passive event listeners, and if so, use them.\n * @param {!Window=} globalObj\n * @param {boolean=} forceRefresh\n * @return {boolean|!EventListenerOptions}\n */\nfunction applyPassive(globalObj = window, forceRefresh = false) {\n  if (supportsPassive_ === undefined || forceRefresh) {\n    let isSupported = false;\n    try {\n      globalObj.document.addEventListener('test', null, {get passive() {\n        isSupported = true;\n        return isSupported;\n      }});\n    } catch (e) { }\n\n    supportsPassive_ = isSupported;\n  }\n\n  return supportsPassive_\n    ? /** @type {!EventListenerOptions} */ ({passive: true})\n    : false;\n}\n\n/**\n * @param {!Object} HTMLElementPrototype\n * @return {string}\n */\nfunction getMatchesProperty(HTMLElementPrototype) {\n  /**\n   * Order is important because we return the first existing method we find.\n   * Do not change the order of the items in the below array.\n   */\n  const matchesMethods = ['matches', 'webkitMatchesSelector', 'msMatchesSelector'];\n  let method = 'matches';\n  for (let i = 0; i < matchesMethods.length; i++) {\n    const matchesMethod = matchesMethods[i];\n    if (matchesMethod in HTMLElementPrototype) {\n      method = matchesMethod;\n      break;\n    }\n  }\n\n  return method;\n}\n\n/**\n * @param {!Event} ev\n * @param {{x: number, y: number}} pageOffset\n * @param {!ClientRect} clientRect\n * @return {{x: number, y: number}}\n */\nfunction getNormalizedEventCoords(ev, pageOffset, clientRect) {\n  const {x, y} = pageOffset;\n  const documentX = x + clientRect.left;\n  const documentY = y + clientRect.top;\n\n  let normalizedX;\n  let normalizedY;\n  // Determine touch point relative to the ripple container.\n  if (ev.type === 'touchstart') {\n    ev = /** @type {!TouchEvent} */ (ev);\n    normalizedX = ev.changedTouches[0].pageX - documentX;\n    normalizedY = ev.changedTouches[0].pageY - documentY;\n  } else {\n    ev = /** @type {!MouseEvent} */ (ev);\n    normalizedX = ev.pageX - documentX;\n    normalizedY = ev.pageY - documentY;\n  }\n\n  return {x: normalizedX, y: normalizedY};\n}\n\nexport {supportsCssVariables, applyPassive, getMatchesProperty, getNormalizedEventCoords};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nconst cssClasses = {\n  // Ripple is a special case where the \"root\" component is really a \"mixin\" of sorts,\n  // given that it's an 'upgrade' to an existing component. That being said it is the root\n  // CSS class that all other CSS classes derive from.\n  ROOT: 'mdc-ripple-upgraded',\n  UNBOUNDED: 'mdc-ripple-upgraded--unbounded',\n  BG_FOCUSED: 'mdc-ripple-upgraded--background-focused',\n  FG_ACTIVATION: 'mdc-ripple-upgraded--foreground-activation',\n  FG_DEACTIVATION: 'mdc-ripple-upgraded--foreground-deactivation',\n};\n\nconst strings = {\n  VAR_LEFT: '--mdc-ripple-left',\n  VAR_TOP: '--mdc-ripple-top',\n  VAR_FG_SIZE: '--mdc-ripple-fg-size',\n  VAR_FG_SCALE: '--mdc-ripple-fg-scale',\n  VAR_FG_TRANSLATE_START: '--mdc-ripple-fg-translate-start',\n  VAR_FG_TRANSLATE_END: '--mdc-ripple-fg-translate-end',\n};\n\nconst numbers = {\n  PADDING: 10,\n  INITIAL_ORIGIN_SCALE: 0.6,\n  DEACTIVATION_TIMEOUT_MS: 225, // Corresponds to $mdc-ripple-translate-duration (i.e. activation animation duration)\n  FG_DEACTIVATION_MS: 150, // Corresponds to $mdc-ripple-fade-out-duration (i.e. deactivation animation duration)\n  TAP_DELAY_MS: 300, // Delay between touch and simulated mouse events on touch devices\n};\n\nexport {cssClasses, strings, numbers};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDC Ripple. Provides an interface for managing\n * - classes\n * - dom\n * - CSS variables\n * - position\n * - dimensions\n * - scroll position\n * - event handlers\n * - unbounded, active and disabled states\n *\n * Additionally, provides type information for the adapter to the Closure\n * compiler.\n *\n * Implement this adapter for your framework of choice to delegate updates to\n * the component in your framework of choice. See architecture documentation\n * for more details.\n * https://github.com/material-components/material-components-web/blob/master/docs/code/architecture.md\n *\n * @record\n */\nclass MDCRippleAdapter {\n  /** @return {boolean} */\n  browserSupportsCssVars() {}\n\n  /** @return {boolean} */\n  isUnbounded() {}\n\n  /** @return {boolean} */\n  isSurfaceActive() {}\n\n  /** @return {boolean} */\n  isSurfaceDisabled() {}\n\n  /** @param {string} className */\n  addClass(className) {}\n\n  /** @param {string} className */\n  removeClass(className) {}\n\n  /** @param {!EventTarget} target */\n  containsEventTarget(target) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  registerInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  deregisterInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  registerDocumentInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  deregisterDocumentInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {!Function} handler\n   */\n  registerResizeHandler(handler) {}\n\n  /**\n   * @param {!Function} handler\n   */\n  deregisterResizeHandler(handler) {}\n\n  /**\n   * @param {string} varName\n   * @param {?number|string} value\n   */\n  updateCssVariable(varName, value) {}\n\n  /** @return {!ClientRect} */\n  computeBoundingRect() {}\n\n  /** @return {{x: number, y: number}} */\n  getWindowPageOffset() {}\n}\n\nexport default MDCRippleAdapter;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCFoundation from './foundation';\n\n/**\n * @template F\n */\nclass MDCComponent {\n  /**\n   * @param {!Element} root\n   * @return {!MDCComponent}\n   */\n  static attachTo(root) {\n    // Subclasses which extend MDCBase should provide an attachTo() method that takes a root element and\n    // returns an instantiated component with its root set to that element. Also note that in the cases of\n    // subclasses, an explicit foundation class will not have to be passed in; it will simply be initialized\n    // from getDefaultFoundation().\n    return new MDCComponent(root, new MDCFoundation());\n  }\n\n  /**\n   * @param {!Element} root\n   * @param {F=} foundation\n   * @param {...?} args\n   */\n  constructor(root, foundation = undefined, ...args) {\n    /** @protected {!Element} */\n    this.root_ = root;\n    this.initialize(...args);\n    // Note that we initialize foundation here and not within the constructor's default param so that\n    // this.root_ is defined and can be used within the foundation class.\n    /** @protected {!F} */\n    this.foundation_ = foundation === undefined ? this.getDefaultFoundation() : foundation;\n    this.foundation_.init();\n    this.initialSyncWithDOM();\n  }\n\n  initialize(/* ...args */) {\n    // Subclasses can override this to do any additional setup work that would be considered part of a\n    // \"constructor\". Essentially, it is a hook into the parent constructor before the foundation is\n    // initialized. Any additional arguments besides root and foundation will be passed in here.\n  }\n\n  /**\n   * @return {!F} foundation\n   */\n  getDefaultFoundation() {\n    // Subclasses must override this method to return a properly configured foundation class for the\n    // component.\n    throw new Error('Subclasses must override getDefaultFoundation to return a properly configured ' +\n      'foundation class');\n  }\n\n  initialSyncWithDOM() {\n    // Subclasses should override this method if they need to perform work to synchronize with a host DOM\n    // object. An example of this would be a form control wrapper that needs to synchronize its internal state\n    // to some property or attribute of the host DOM. Please note: this is *not* the place to perform DOM\n    // reads/writes that would cause layout / paint, as this is called synchronously from within the constructor.\n  }\n\n  destroy() {\n    // Subclasses may implement this method to release any resources / deregister any listeners they have\n    // attached. An example of this might be deregistering a resize event from the window object.\n    this.foundation_.destroy();\n  }\n\n  /**\n   * Wrapper method to add an event listener to the component's root element. This is most useful when\n   * listening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  listen(evtType, handler) {\n    this.root_.addEventListener(evtType, handler);\n  }\n\n  /**\n   * Wrapper method to remove an event listener to the component's root element. This is most useful when\n   * unlistening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  unlisten(evtType, handler) {\n    this.root_.removeEventListener(evtType, handler);\n  }\n\n  /**\n   * Fires a cross-browser-compatible custom event from the component root of the given type,\n   * with the given data.\n   * @param {string} evtType\n   * @param {!Object} evtData\n   * @param {boolean=} shouldBubble\n   */\n  emit(evtType, evtData, shouldBubble = false) {\n    let evt;\n    if (typeof CustomEvent === 'function') {\n      evt = new CustomEvent(evtType, {\n        detail: evtData,\n        bubbles: shouldBubble,\n      });\n    } else {\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(evtType, shouldBubble, false, evtData);\n    }\n\n    this.root_.dispatchEvent(evt);\n  }\n}\n\nexport default MDCComponent;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * @template A\n */\nclass MDCFoundation {\n  /** @return enum{cssClasses} */\n  static get cssClasses() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports every\n    // CSS class the foundation class needs as a property. e.g. {ACTIVE: 'mdc-component--active'}\n    return {};\n  }\n\n  /** @return enum{strings} */\n  static get strings() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // semantic strings as constants. e.g. {ARIA_ROLE: 'tablist'}\n    return {};\n  }\n\n  /** @return enum{numbers} */\n  static get numbers() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // of its semantic numbers as constants. e.g. {ANIMATION_DELAY_MS: 350}\n    return {};\n  }\n\n  /** @return {!Object} */\n  static get defaultAdapter() {\n    // Classes extending MDCFoundation may choose to implement this getter in order to provide a convenient\n    // way of viewing the necessary methods of an adapter. In the future, this could also be used for adapter\n    // validation.\n    return {};\n  }\n\n  /**\n   * @param {A=} adapter\n   */\n  constructor(adapter = {}) {\n    /** @protected {!A} */\n    this.adapter_ = adapter;\n  }\n\n  init() {\n    // Subclasses should override this method to perform initialization routines (registering events, etc.)\n  }\n\n  destroy() {\n    // Subclasses should override this method to perform de-initialization routines (de-registering events, etc.)\n  }\n}\n\nexport default MDCFoundation;\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDC Top App Bar\n *\n * Defines the shape of the adapter expected by the foundation. Implement this\n * adapter to integrate the Top App Bar into your framework. See\n * https://github.com/material-components/material-components-web/blob/master/docs/authoring-components.md\n * for more information.\n *\n * @record\n */\nclass MDCTopAppBarAdapter {\n  /**\n   * Adds a class to the root Element.\n   * @param {string} className\n   */\n  addClass(className) {}\n\n  /**\n   * Removes a class from the root Element.\n   * @param {string} className\n   */\n  removeClass(className) {}\n\n  /**\n   * Returns true if the root Element contains the given class.\n   * @param {string} className\n   * @return {boolean}\n   */\n  hasClass(className) {}\n\n  /**\n   * Sets the specified inline style property on the root Element to the given value.\n   * @param {string} property\n   * @param {string} value\n   */\n  setStyle(property, value) {}\n\n  /**\n   * Gets the height of the top app bar.\n   * @return {number}\n   */\n  getTopAppBarHeight() {}\n\n  /**\n   * Registers an event handler on the navigation icon element for a given event.\n   * @param {string} type\n   * @param {function(!Event): undefined} handler\n   */\n  registerNavigationIconInteractionHandler(type, handler) {}\n\n  /**\n   * Deregisters an event handler on the navigation icon element for a given event.\n   * @param {string} type\n   * @param {function(!Event): undefined} handler\n   */\n  deregisterNavigationIconInteractionHandler(type, handler) {}\n\n  /**\n   * Emits an event when the navigation icon is clicked.\n   */\n  notifyNavigationIconClicked() {}\n\n  /** @param {function(!Event)} handler */\n  registerScrollHandler(handler) {}\n\n  /** @param {function(!Event)} handler */\n  deregisterScrollHandler(handler) {}\n\n  /** @param {function(!Event)} handler */\n  registerResizeHandler(handler) {}\n\n  /** @param {function(!Event)} handler */\n  deregisterResizeHandler(handler) {}\n\n  /** @return {number} */\n  getViewportScrollY() {}\n\n  /** @return {number} */\n  getTotalActionItems() {}\n}\n\nexport default MDCTopAppBarAdapter;\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/** @enum {string} */\nconst cssClasses = {\n  FIXED_CLASS: 'mdc-top-app-bar--fixed',\n  FIXED_SCROLLED_CLASS: 'mdc-top-app-bar--fixed-scrolled',\n  SHORT_CLASS: 'mdc-top-app-bar--short',\n  SHORT_HAS_ACTION_ITEM_CLASS: 'mdc-top-app-bar--short-has-action-item',\n  SHORT_COLLAPSED_CLASS: 'mdc-top-app-bar--short-collapsed',\n};\n\n/** @enum {number} */\nconst numbers = {\n  DEBOUNCE_THROTTLE_RESIZE_TIME_MS: 100,\n  MAX_TOP_APP_BAR_HEIGHT: 128,\n};\n\n/** @enum {string} */\nconst strings = {\n  ACTION_ITEM_SELECTOR: '.mdc-top-app-bar__action-item',\n  NAVIGATION_EVENT: 'MDCTopAppBar:nav',\n  NAVIGATION_ICON_SELECTOR: '.mdc-top-app-bar__navigation-icon',\n  ROOT_SELECTOR: '.mdc-top-app-bar',\n  TITLE_SELECTOR: '.mdc-top-app-bar__title',\n};\n\nexport {strings, cssClasses, numbers};\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  Directive,\r\n  ElementRef,\r\n  Input,\r\n  OnDestroy\r\n} from '@angular/core';\r\nimport { MdcRipple } from '@angular-mdc/web/ripple';\r\n\r\n@Directive({\r\n  selector: '[mdcTopAppBarFixedAdjust]',\r\n  host: { 'class': 'mdc-top-app-bar--fixed-adjust' }\r\n})\r\nexport class MdcTopAppBarFixedAdjust {\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: 'mdc-top-app-bar-row, [mdcTopAppBarRow]',\r\n  exportAs: 'mdcTopAppBarRow',\r\n  host: { 'class': 'mdc-top-app-bar__row' }\r\n})\r\nexport class MdcTopAppBarRow {\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'mdc-top-app-bar-section, [mdcTopAppBarSection]',\r\n  exportAs: 'mdcTopAppBarSection',\r\n  host: {\r\n    'role': 'toolbar',\r\n    'class': 'mdc-top-app-bar__section',\r\n    '[class.mdc-top-app-bar__section--align-start]': 'align === \"start\"',\r\n    '[class.mdc-top-app-bar__section--align-end]': 'align === \"end\"'\r\n  },\r\n  template: `\r\n  <ng-content></ng-content>\r\n  <span class=\"mdc-top-app-bar__title\" *ngIf=\"title\">{{title}}</span>`,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class MdcTopAppBarSection {\r\n  @Input() title?: string;\r\n  @Input() align?: string;\r\n\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: '[mdcTopAppBarActionItem], mdc-top-app-bar-action-item',\r\n  exportAs: 'mdcTopAppBarActionItem',\r\n  host: {\r\n    'role': 'button',\r\n    'class': 'mdc-top-app-bar__action-item'\r\n  },\r\n  providers: [MdcRipple]\r\n})\r\nexport class MdcTopAppBarActionItem implements OnDestroy {\r\n  constructor(\r\n    public elementRef: ElementRef<HTMLElement>,\r\n    private _ripple: MdcRipple) {\r\n\r\n    this._ripple.init({ surface: this.elementRef.nativeElement, unbounded: true });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._ripple.destroy();\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: '[mdcTopAppBarNavIcon], mdc-icon[mdcTopAppBarNavigationIcon]',\r\n  exportAs: 'mdcTopAppBarNavigationIcon',\r\n  host: {\r\n    'role': 'button',\r\n    'class': 'mdc-top-app-bar__navigation-icon'\r\n  },\r\n  providers: [MdcRipple]\r\n})\r\nexport class MdcTopAppBarNavigationIcon implements OnDestroy {\r\n  constructor(\r\n    public elementRef: ElementRef<HTMLElement>,\r\n    private _ripple: MdcRipple) {\r\n\r\n    _ripple.init({ surface: this.elementRef.nativeElement, unbounded: true });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._ripple.destroy();\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: 'mdc-top-app-bar-title, [mdcTopAppBarTitle]',\r\n  exportAs: 'mdcTopAppBarTitle',\r\n  host: { 'class': 'mdc-top-app-bar__title' },\r\n})\r\nexport class MdcTopAppBarTitle {\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n"],"names":["CommonModule","NgModule","ContentChildren","ContentChild","Output","Input","ElementRef","ChangeDetectorRef","Platform","NgZone","ViewEncapsulation","ChangeDetectionStrategy","Component","fromEvent","toBoolean","startWith","takeUntil","EventEmitter","Subject","MDCComponent","MDCTopAppBar","root","foundation","MDCTopAppBarFoundation","adapter","MDCFixedTopAppBarFoundation","root_","classList","contains","cssClasses","FIXED_CLASS","MDCShortTopAppBarFoundation","SHORT_CLASS","querySelectorAll","strings","ACTION_ITEM_SELECTOR","length","getTotalActionItems","scrollTarget_","window","getViewportScrollY","removeEventListener","handler","deregisterResizeHandler","addEventListener","registerResizeHandler","deregisterScrollHandler","registerScrollHandler","emit","NAVIGATION_EVENT","notifyNavigationIconClicked","navIcon_","evtType","deregisterNavigationIconInteractionHandler","registerNavigationIconInteractionHandler","clientHeight","getTopAppBarHeight","style","setProperty","property","value","setStyle","remove","className","removeClass","add","addClass","hasClass","Object","assign","foundation_","initScrollHandler","target","destroyScrollHandler","iconRipple","destroy","iconRipples_","forEach","ripple","unbounded","rippleFactory","icon","icons","map","push","slice","call","querySelector","NAVIGATION_ICON_SELECTOR","MDCRipple","attachTo","el","args","MDCTopAppBarBaseFoundation","topAppBarScrollHandler_","topAppBarHeight_","currentHeight","currentAppBarOffsetTop_","wasDocked_","adapter_","numbers","DEBOUNCE_THROTTLE_RESIZE_TIME_MS","resizeDebounceId_","INITIAL_VALUE","isCurrentlyBeingResized_","setTimeout","clearTimeout","throttledResizeHandler_","resizeThrottleId_","moveTopAppBar_","Math","abs","diff","lastScrollPosition_","currentScrollPosition","max","offset","MAX_TOP_APP_BAR_HEIGHT","checkForUpdate_","partiallyShowing","isDockedShowing_","hasAnyPixelsOnscreen","hasAnyPixelsOffscreen","offscreenBoundaryTop","resizeHandler_","scrollHandler_","topAppBarResizeHandler_","isCollapsed","SHORT_COLLAPSED_CLASS","currentScroll","shortAppBarScrollHandler_","isAlwaysCollapsed","SHORT_HAS_ACTION_ITEM_CLASS","wasScrolled_","FIXED_SCROLLED_CLASS","fixedScrollHandler_","MDCFoundation","navClickHandler_","defaultAdapter","RippleCapableSurface","prototype","disabled","y","pageYOffset","x","pageXOffset","getWindowPageOffset","instance","getBoundingClientRect","computeBoundingRect","varName","updateCssVariable","document","documentElement","util","deregisterDocumentInteractionHandler","registerDocumentInteractionHandler","deregisterInteractionHandler","registerInteractionHandler","containsEventTarget","isSurfaceDisabled","MATCHES","isSurfaceActive","isUnbounded","browserSupportsCssVars","HTMLElement","undefined","setUnbounded_","unbounded_","Boolean","dataset","MDCRippleFoundation","createAdapter","layout","deactivate","activate","setUnbounded","BG_FOCUSED","requestAnimationFrame","UNBOUNDED","VAR_TOP","unboundedCoords_","top","VAR_LEFT","left","round","frame_","height","initialSize_","width","VAR_FG_SCALE","fgScale_","VAR_FG_SIZE","updateLayoutCssVars_","maxRadius_","floor","maxDim","INITIAL_ORIGIN_SCALE","getBoundedRadius","hypotenuse","PADDING","sqrt","pow","layoutFrame_","layoutInternal_","cancelAnimationFrame","runDeactivationUXLogicIfReady_","wasActivatedByPointer","wasElementMadeActive","deactivate_","resetActivationState_","animateDeactivation_","state","activationState_","hasDeactivationUXRun","deregisterDeactivationHandlers_","activationState","isProgrammatic","isActivated","TAP_DELAY_MS","previousActivationEvent_","defaultActivationState_","activationEvent","activationAnimationHasEnded_","FG_ACTIVATION","FG_DEACTIVATION_MS","FG_DEACTIVATION","fgDeactivationRemovalTimer_","rmBoundedActivationClasses_","activationHasEnded","endPoint","startPoint","getNormalizedEventCoords","DEACTIVATION_TIMEOUT_MS","activationTimerCallback_","activationTimer_","VAR_FG_TRANSLATE_END","translateEnd","VAR_FG_TRANSLATE_START","translateStart","getFgTranslationCoordinates_","activate_","event","e","type","animateActivation_","checkElementMadeActive_","key","keyCode","activatedTargets","registerDeactivationHandlers_","hasActivatedChild","some","isSameInteraction","previousActivationEvent","k","indexOf","keys","deactivateHandler_","POINTER_DEACTIVATION_EVENT_TYPES","blurHandler_","focusHandler_","activateHandler_","ACTIVATION_EVENT_TYPES","supportsPressRipple","deregisterRootHandlers_","removeCssVars_","ROOT","supportsPressRipple_","registerRootHandlers_","handleBlur","handleFocus","normalizedY","normalizedX","ev","pageY","documentY","pageX","documentX","changedTouches","clientRect","pageOffset","method","matchesMethod","HTMLElementPrototype","matchesMethods","i","getMatchesProperty","passive","supportsPassive_","isSupported","globalObj","forceRefresh","applyPassive","supportsCssVariables","supportsCssVariables_","detectEdgePseudoVarBug","windowObj","explicitlySupportsCssVars","weAreFeatureDetectingSafari10plus","CSS","supports","supportsFunctionPresent","hasPseudoVarBug","node","computedStyle","borderTopStyle","getComputedStyle","body","appendChild","createElement","MDCRippleAdapter","dispatchEvent","evt","initCustomEvent","shouldBubble","evtData","createEvent","bubbles","detail","CustomEvent","Error","initialSyncWithDOM","init","getDefaultFoundation","initialize","MDCTopAppBarAdapter","TITLE_SELECTOR","ROOT_SELECTOR","Directive","MdcRipple"],"mappings":"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"}