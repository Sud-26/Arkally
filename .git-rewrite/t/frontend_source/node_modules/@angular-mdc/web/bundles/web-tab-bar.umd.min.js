/**
 * @license
 * Copyright (c) 2018 Dominic Carretto
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/trimox/angular-mdc-web/blob/master/LICENSE
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular-mdc/web/tab-indicator"),require("@angular-mdc/web/tab"),require("@angular-mdc/web/tab-scroller"),require("rxjs"),require("rxjs/operators"),require("@angular-mdc/web/common")):"function"==typeof define&&define.amd?define("@angular-mdc/web/tab-bar",["exports","@angular/core","@angular-mdc/web/tab-indicator","@angular-mdc/web/tab","@angular-mdc/web/tab-scroller","rxjs","rxjs/operators","@angular-mdc/web/common"],e):e(((t=t||self).ng=t.ng||{},t.ng.web=t.ng.web||{},t.ng.web.tabBar={}),t.ng.core,t.ng.web.tabIndicator,t.ng.web.tab,t.ng.web.tabScroller,t.rxjs,t.rxjs.operators,t.ng.web.common)}(this,function(t,e,n,i,o,a,r,c){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
var h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t),this.adapter_=e}return d(t,null,[{key:"cssClasses",get:function(){return{}}},{key:"strings",get:function(){return{}}},{key:"numbers",get:function(){return{}}},{key:"defaultAdapter",get:function(){return{}}}]),d(t,[{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),t}();var p=function t(){s(this,t)};p.prototype.root_,p.prototype.unbounded,p.prototype.disabled;var g={TAB_ACTIVATED_EVENT:"MDCTabBar:activated",TAB_SCROLLER_SELECTOR:".mdc-tab-scroller",TAB_SELECTOR:".mdc-tab",ARROW_LEFT_KEY:"ArrowLeft",ARROW_RIGHT_KEY:"ArrowRight",END_KEY:"End",HOME_KEY:"Home",ENTER_KEY:"Enter",SPACE_KEY:"Space"},T={EXTRA_SCROLL_AMOUNT:20,ARROW_LEFT_KEYCODE:37,ARROW_RIGHT_KEYCODE:39,END_KEYCODE:35,HOME_KEYCODE:36,ENTER_KEYCODE:13,SPACE_KEYCODE:32},y=new Set;y.add(g.ARROW_LEFT_KEY),y.add(g.ARROW_RIGHT_KEY),y.add(g.END_KEY),y.add(g.HOME_KEY),y.add(g.ENTER_KEY),y.add(g.SPACE_KEY);var v=new Map;v.set(T.ARROW_LEFT_KEYCODE,g.ARROW_LEFT_KEY),v.set(T.ARROW_RIGHT_KEYCODE,g.ARROW_RIGHT_KEY),v.set(T.END_KEYCODE,g.END_KEY),v.set(T.HOME_KEYCODE,g.HOME_KEY),v.set(T.ENTER_KEYCODE,g.ENTER_KEY),v.set(T.SPACE_KEYCODE,g.SPACE_KEY);var A=function(t){function e(t){var n;return s(this,e),(n=_(this,f(e).call(this,Object.assign(e.defaultAdapter,t)))).useAutomaticActivation_=!1,n}return l(e,h),d(e,null,[{key:"strings",get:function(){return g}},{key:"numbers",get:function(){return T}},{key:"defaultAdapter",get:function(){return{scrollTo:function(){},incrementScroll:function(){},getScrollPosition:function(){},getScrollContentWidth:function(){},getOffsetWidth:function(){},isRTL:function(){},setActiveTab:function(){},activateTabAtIndex:function(){},deactivateTabAtIndex:function(){},focusTabAtIndex:function(){},getTabIndicatorClientRectAtIndex:function(){},getTabDimensionsAtIndex:function(){},getPreviousActiveTabIndex:function(){},getFocusedTabIndex:function(){},getIndexOfTabById:function(){},getTabListLength:function(){},notifyTabActivated:function(){}}}}]),d(e,[{key:"setUseAutomaticActivation",value:function(t){this.useAutomaticActivation_=t}},{key:"activateTab",value:function(t){var e=this.adapter_.getPreviousActiveTabIndex();this.indexIsInRange_(t)&&t!==e&&(this.adapter_.deactivateTabAtIndex(e),this.adapter_.activateTabAtIndex(t,this.adapter_.getTabIndicatorClientRectAtIndex(e)),this.scrollIntoView(t),this.adapter_.notifyTabActivated(t))}},{key:"handleKeyDown",value:function(t){var e=this.getKeyFromEvent_(t);if(void 0!==e)if(this.isActivationKey_(e)||t.preventDefault(),this.useAutomaticActivation_){if(this.isActivationKey_(e))return;var n=this.determineTargetFromKey_(this.adapter_.getPreviousActiveTabIndex(),e);this.adapter_.setActiveTab(n),this.scrollIntoView(n)}else{var i=this.adapter_.getFocusedTabIndex();if(this.isActivationKey_(e))this.adapter_.setActiveTab(i);else{var o=this.determineTargetFromKey_(i,e);this.adapter_.focusTabAtIndex(o),this.scrollIntoView(o)}}}},{key:"handleTabInteraction",value:function(t){this.adapter_.setActiveTab(this.adapter_.getIndexOfTabById(t.detail.tabId))}},{key:"scrollIntoView",value:function(t){if(this.indexIsInRange_(t))return 0===t?this.adapter_.scrollTo(0):t===this.adapter_.getTabListLength()-1?this.adapter_.scrollTo(this.adapter_.getScrollContentWidth()):this.isRTL_()?this.scrollIntoViewRTL_(t):void this.scrollIntoView_(t)}},{key:"determineTargetFromKey_",value:function(t,e){var n=this.isRTL_(),i=this.adapter_.getTabListLength()-1,o=t;return e===g.END_KEY?o=i:e===g.ARROW_LEFT_KEY&&!n||e===g.ARROW_RIGHT_KEY&&n?o-=1:e===g.ARROW_RIGHT_KEY&&!n||e===g.ARROW_LEFT_KEY&&n?o+=1:o=0,o<0?o=i:o>i&&(o=0),o}},{key:"calculateScrollIncrement_",value:function(t,e,n,i){var o=this.adapter_.getTabDimensionsAtIndex(e),a=o.contentLeft-n-i,r=o.contentRight-n-T.EXTRA_SCROLL_AMOUNT,c=a+T.EXTRA_SCROLL_AMOUNT;return e<t?Math.min(r,0):Math.max(c,0)}},{key:"calculateScrollIncrementRTL_",value:function(t,e,n,i,o){var a=this.adapter_.getTabDimensionsAtIndex(e),r=o-a.contentLeft-n,c=o-a.contentRight-n-i+T.EXTRA_SCROLL_AMOUNT,s=r-T.EXTRA_SCROLL_AMOUNT;return e>t?Math.max(c,0):Math.min(s,0)}},{key:"findAdjacentTabIndexClosestToEdge_",value:function(t,e,n,i){var o=e.rootLeft-n,a=e.rootRight-n-i,r=o+a;return o<0||r<0?t-1:a>0||r>0?t+1:-1}},{key:"findAdjacentTabIndexClosestToEdgeRTL_",value:function(t,e,n,i,o){var a=o-e.rootLeft-i-n,r=o-e.rootRight-n,c=a+r;return a>0||c>0?t+1:r<0||c<0?t-1:-1}},{key:"getKeyFromEvent_",value:function(t){return y.has(t.key)?t.key:v.get(t.keyCode)}},{key:"isActivationKey_",value:function(t){return t===g.SPACE_KEY||t===g.ENTER_KEY}},{key:"indexIsInRange_",value:function(t){return t>=0&&t<this.adapter_.getTabListLength()}},{key:"isRTL_",value:function(){return this.adapter_.isRTL()}},{key:"scrollIntoView_",value:function(t){var e=this.adapter_.getScrollPosition(),n=this.adapter_.getOffsetWidth(),i=this.adapter_.getTabDimensionsAtIndex(t),o=this.findAdjacentTabIndexClosestToEdge_(t,i,e,n);if(this.indexIsInRange_(o)){var a=this.calculateScrollIncrement_(t,o,e,n);this.adapter_.incrementScroll(a)}}},{key:"scrollIntoViewRTL_",value:function(t){var e=this.adapter_.getScrollPosition(),n=this.adapter_.getOffsetWidth(),i=this.adapter_.getTabDimensionsAtIndex(t),o=this.adapter_.getScrollContentWidth(),a=this.findAdjacentTabIndexClosestToEdgeRTL_(t,i,e,n,o);if(this.indexIsInRange_(a)){var r=this.calculateScrollIncrementRTL_(t,a,e,n,o);this.adapter_.incrementScroll(r)}}}]),e}(),I=function(){return function(t,e,n){this.source=t,this.index=e,this.tab=n}}(),E=function(){function t(t,n,i){this._platform=t,this._changeDetectorRef=n,this.elementRef=i,this._destroy=new a.Subject,this._fade=!1,this._stacked=!1,this._fixed=!1,this._align=null,this._iconIndicator=null,this._useAutomaticActivation=!0,this._activeTabIndex=0,this._focusOnActivate=!0,this.activated=new e.EventEmitter,this._changeSubscription=null,this._tabInteractionSubscription=null,this._foundation=new A(this._createAdapter())}return Object.defineProperty(t.prototype,"fade",{get:function(){return this._fade},set:function(t){this._fade=c.toBoolean(t),this._syncTabs()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stacked",{get:function(){return this._stacked},set:function(t){this._stacked=c.toBoolean(t),this._syncTabs()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fixed",{get:function(){return this._fixed},set:function(t){this._fixed=c.toBoolean(t),this._syncTabs()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align=t||"start",this.tabScroller.align=this.align},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconIndicator",{get:function(){return this._iconIndicator},set:function(t){this._iconIndicator=t,this._syncTabs()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useAutomaticActivation",{get:function(){return this._useAutomaticActivation},set:function(t){this._useAutomaticActivation=c.toBoolean(t),this._foundation.setUseAutomaticActivation(this._useAutomaticActivation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeTabIndex",{get:function(){return this._activeTabIndex},set:function(t){this.activeTabIndex!==t&&(this._activeTabIndex=t,this.activateTab(this.activeTabIndex))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusOnActivate",{get:function(){return this._focusOnActivate},set:function(t){this._focusOnActivate=c.toBoolean(t),this._syncTabs()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabInteractions",{get:function(){return a.merge.apply(void 0,this.tabs.map(function(t){return t.interacted}))},enumerable:!0,configurable:!0}),t.prototype._createAdapter=function(){var t=this;return{scrollTo:function(e){return t.tabScroller.scrollTo(e)},incrementScroll:function(e){return t.tabScroller.incrementScroll(e)},getScrollPosition:function(){return t.tabScroller.getScrollPosition()},getScrollContentWidth:function(){return t.tabScroller.getScrollContentWidth()},getOffsetWidth:function(){return t._getHostElement().offsetWidth},isRTL:function(){return!!t._platform.isBrowser&&"rtl"===window.getComputedStyle(t._getHostElement()).getPropertyValue("direction")},setActiveTab:function(e){return t.activateTab(e)},activateTabAtIndex:function(e,n){t._indexIsInRange(e)&&t.tabs.toArray()[e].activate(n)},deactivateTabAtIndex:function(e){t._indexIsInRange(e)&&t.tabs.toArray()[e].deactivate()},focusTabAtIndex:function(e){return t.tabs.toArray()[e].focus()},getTabIndicatorClientRectAtIndex:function(e){if(t._platform.isBrowser)return t._indexIsInRange(e)||(e=t.activeTabIndex),t.tabs.toArray()[e].computeIndicatorClientRect()},getTabDimensionsAtIndex:function(e){return t.tabs.toArray()[e].computeDimensions()},getPreviousActiveTabIndex:function(){return t.tabs.toArray().findIndex(function(t){return t.active})},getFocusedTabIndex:function(){return t._platform.isBrowser?t.tabs.toArray().findIndex(function(t){return t.elementRef.nativeElement===document.activeElement}):-1},getIndexOfTabById:function(e){return t.tabs.toArray().findIndex(function(t){return e===t.id})},getTabListLength:function(){return t.tabs.length},notifyTabActivated:function(e){return t.activated.emit({source:t,index:e,tab:t.tabs.toArray()[e]})}}},t.prototype.ngAfterContentInit=function(){var t=this;this._foundation.init(),this._changeSubscription=this.tabs.changes.pipe(r.startWith(null)).subscribe(function(){Promise.resolve().then(function(){t.tabs.length&&(t._syncTabs(),t.activateTab(t.activeTabIndex),t._resetTabSubscriptions())})})},t.prototype.ngOnDestroy=function(){this._destroy.next(),this._destroy.complete(),this._changeSubscription&&this._changeSubscription.unsubscribe(),this._dropSubscriptions()},t.prototype._syncTabs=function(){var t=this;this.tabs&&this.tabs.forEach(function(e){e.stacked=t._stacked,e.fixed=t._fixed,e.tabIndicator.fade=t._fade,e.tabIndicator.icon=t._iconIndicator,e.focusOnActivate=t._focusOnActivate})},t.prototype._resetTabSubscriptions=function(){this._dropSubscriptions(),this._listenToTabInteraction()},t.prototype._dropSubscriptions=function(){this._tabInteractionSubscription&&(this._tabInteractionSubscription.unsubscribe(),this._tabInteractionSubscription=null)},t.prototype._listenToTabInteraction=function(){var t=this;this._tabInteractionSubscription=this.tabInteractions.subscribe(function(e){var n=t.getActiveTab();n&&(n.tabIndicator.active=!1),e.detail.tab.tabIndicator.active=!0,t._foundation.handleTabInteraction(e)})},t.prototype.activateTab=function(t){this.tabs&&(this.activeTabIndex=t,this._platform.isBrowser&&this._foundation.activateTab(t),this._changeDetectorRef.markForCheck())},t.prototype.scrollIntoView=function(t){this._foundation.scrollIntoView(t)},t.prototype.getActiveTabIndex=function(){return this.tabs.toArray().findIndex(function(t){return t.active})},t.prototype.getActiveTab=function(){return this.tabs.toArray().find(function(t){return t.active})},t.prototype.getTabIndex=function(t){return this.tabs.toArray().indexOf(t)},t.prototype.disableTab=function(t,e){this.tabs&&(this.tabs.toArray()[t].disabled=c.toBoolean(e))},t.prototype._onKeydown=function(t){this._foundation.handleKeyDown(t)},t.prototype._indexIsInRange=function(t){return t>=0&&t<this.tabs.length},t.prototype._getHostElement=function(){return this.elementRef.nativeElement},t.decorators=[{type:e.Component,args:[{selector:"[mdcTabBar], mdc-tab-bar",exportAs:"mdcTabBar",host:{role:"tablist",class:"mdc-tab-bar","(keydown)":"_onKeydown($event)"},template:"<ng-content></ng-content>",changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,providers:[{provide:i.MDC_TAB_BAR_PARENT_COMPONENT,useExisting:t}]}]}],t.ctorParameters=function(){return[{type:c.Platform},{type:e.ChangeDetectorRef},{type:e.ElementRef}]},t.propDecorators={fade:[{type:e.Input}],stacked:[{type:e.Input}],fixed:[{type:e.Input}],align:[{type:e.Input}],iconIndicator:[{type:e.Input}],useAutomaticActivation:[{type:e.Input}],activeTabIndex:[{type:e.Input}],focusOnActivate:[{type:e.Input}],activated:[{type:e.Output}],tabScroller:[{type:e.ContentChild,args:[o.MdcTabScroller]}],tabs:[{type:e.ContentChildren,args:[i.MdcTab,{descendants:!0}]}]},t}(),m=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.MdcTabIndicatorModule,i.MdcTabModule,o.MdcTabScrollerModule],exports:[E,n.MdcTabIndicatorModule,i.MdcTabModule,o.MdcTabScrollerModule],declarations:[E]}]}],t}();t.MdcTabBarModule=m,t.MdcTabActivatedEvent=I,t.MdcTabBar=E,Object.defineProperty(t,"__esModule",{value:!0})});