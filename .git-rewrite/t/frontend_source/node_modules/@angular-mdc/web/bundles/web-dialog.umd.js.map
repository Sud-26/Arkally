{"version":3,"file":"web-dialog.umd.js","sources":["../../packages/dialog/dialog-module.ts","../../packages/dialog/dialog.ts","../../packages/dialog/dialog-portal.ts","../../packages/dialog/dialog-config.ts","../../packages/dialog/dialog.component.ts","../../node_modules/@material/dialog/index.js","../../node_modules/@material/dialog/foundation.js","../../node_modules/@material/dialog/adapter.js","../../node_modules/@material/ripple/index.js","../../node_modules/@material/ripple/foundation.js","../../node_modules/@material/ripple/util.js","../../node_modules/@material/ripple/constants.js","../../node_modules/@material/ripple/adapter.js","../../node_modules/@material/base/component.js","../../node_modules/@material/base/foundation.js","../../node_modules/@material/dom/ponyfill.js","../../node_modules/@material/dialog/constants.js","../../node_modules/@material/dialog/util.js","../../packages/dialog/dialog-ref.ts","../../packages/dialog/dialog-directives.ts","../../node_modules/focus-trap/index.js","../../node_modules/xtend/immutable.js","../../node_modules/tabbable/index.js","../../node_modules/tslib/tslib.es6.js"],"sourcesContent":["import { NgModule } from '@angular/core';\r\n\r\nimport { OverlayModule } from '@angular-mdc/web/overlay';\r\nimport { PortalModule } from '@angular-mdc/web/portal';\r\n\r\nimport { MdcDialogComponent } from './dialog.component';\r\nimport { MdcDialogPortal } from './dialog-portal';\r\nimport { MdcDialog } from './dialog';\r\n\r\nimport {\r\n  MdcDialogAction,\r\n  MdcDialogActions,\r\n  MdcDialogButton,\r\n  MdcDialogContainer,\r\n  MdcDialogContent,\r\n  MdcDialogScrim,\r\n  MdcDialogSurface,\r\n  MdcDialogTitle\r\n} from './dialog-directives';\r\n\r\nconst DIALOG_DECLARATIONS = [\r\n  MdcDialogAction,\r\n  MdcDialogActions,\r\n  MdcDialogButton,\r\n  MdcDialogComponent,\r\n  MdcDialogContainer,\r\n  MdcDialogPortal,\r\n  MdcDialogContent,\r\n  MdcDialogScrim,\r\n  MdcDialogSurface,\r\n  MdcDialogSurface,\r\n  MdcDialogTitle\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    OverlayModule,\r\n    PortalModule\r\n  ],\r\n  exports: DIALOG_DECLARATIONS,\r\n  declarations: DIALOG_DECLARATIONS,\r\n  providers: [MdcDialog],\r\n  entryComponents: [\r\n    MdcDialogPortal,\r\n    MdcDialogComponent\r\n  ]\r\n})\r\nexport class MdcDialogModule { }\r\n","import {\r\n  Inject,\r\n  Injectable,\r\n  InjectionToken,\r\n  Injector,\r\n  OnDestroy,\r\n  Optional,\r\n  SkipSelf,\r\n  TemplateRef\r\n} from '@angular/core';\r\nimport { Observable, Subject, defer } from 'rxjs';\r\nimport { startWith } from 'rxjs/operators';\r\nimport {\r\n  Overlay,\r\n  OverlayRef\r\n} from '@angular-mdc/web/overlay';\r\nimport {\r\n  ComponentPortal,\r\n  ComponentType,\r\n  PortalInjector,\r\n  TemplatePortal\r\n} from '@angular-mdc/web/portal';\r\n\r\nimport { MdcDialogRef } from './dialog-ref';\r\nimport { MdcDialogPortal } from './dialog-portal';\r\nimport { MdcDialogConfig } from './dialog-config';\r\n\r\n/** Injection token that can be used to access the data that was passed in to a dialog. */\r\nexport const MDC_DIALOG_DATA = new InjectionToken<any>('MdcDialogData');\r\n\r\n/** Injection token that can be used to specify default dialog options. */\r\nexport const MDC_DIALOG_DEFAULT_OPTIONS =\r\n  new InjectionToken<MdcDialogConfig>('mdc-dialog-default-options');\r\n\r\n@Injectable()\r\nexport class MdcDialog implements OnDestroy {\r\n  private _openDialogsAtThisLevel: MdcDialogRef<any>[] = [];\r\n  private readonly _afterAllClosedAtThisLevel = new Subject<void>();\r\n  private readonly _afterOpenedAtThisLevel = new Subject<MdcDialogRef<any>>();\r\n  private _ariaHiddenElements = new Map<Element, string | null>();\r\n\r\n  /** Keeps track of the currently-open dialogs. */\r\n  get openDialogs(): MdcDialogRef<any>[] {\r\n    return this._parentDialog ? this._parentDialog.openDialogs : this._openDialogsAtThisLevel;\r\n  }\r\n\r\n  /** Stream that emits when a dialog has been opened. */\r\n  get afterOpened(): Subject<MdcDialogRef<any>> {\r\n    return this._parentDialog ? this._parentDialog.afterOpened : this._afterOpenedAtThisLevel;\r\n  }\r\n\r\n  get _afterAllClosed(): Subject<void> {\r\n    const parent = this._parentDialog;\r\n    return parent ? parent._afterAllClosed : this._afterAllClosedAtThisLevel;\r\n  }\r\n\r\n  /**\r\n   * Stream that emits when all open dialog have finished closing.\r\n   * Will emit on subscribe if there are no open dialogs to begin with.\r\n   */\r\n  readonly afterAllClosed: Observable<any> = defer<any>(() => this.openDialogs.length ?\r\n    this._afterAllClosed :\r\n    this._afterAllClosed.pipe(startWith(undefined)));\r\n\r\n  constructor(\r\n    private _overlay: Overlay,\r\n    private _injector: Injector,\r\n    @Optional() @Inject(MDC_DIALOG_DEFAULT_OPTIONS) private _defaultOptions: MdcDialogConfig,\r\n    @Optional() @SkipSelf() private _parentDialog: MdcDialog) { }\r\n\r\n  /**\r\n   * Opens a modal dialog containing the given template.\r\n   * @param componentOrTemplateRef Type of the component to load into the dialog,\r\n   *     or a TemplateRef to instantiate as the dialog content.\r\n   * @param config Extra configuration options.\r\n   * @returns Reference to the newly-opened dialog.\r\n   */\r\n  open<T, D = any>(componentOrTemplateRef: ComponentType<T> | TemplateRef<T>,\r\n    config?: MdcDialogConfig<D>): MdcDialogRef<T, {}> {\r\n\r\n    config = _applyConfigDefaults(config, this._defaultOptions || new MdcDialogConfig());\r\n\r\n    if (config.id && this.getDialogById(config.id)) {\r\n      throw Error(`Dialog with id \"${config.id}\" exists already. The dialog id must be unique.`);\r\n    }\r\n\r\n    const overlayRef = this._createOverlay();\r\n    const dialogContainer = this._attachDialogContainer(overlayRef, config);\r\n    const dialogRef = this._attachDialogContent<T>(componentOrTemplateRef,\r\n      dialogContainer,\r\n      overlayRef,\r\n      config);\r\n\r\n    this.openDialogs.push(dialogRef);\r\n    dialogRef.afterClosed().subscribe(() => this._removeOpenDialog(dialogRef));\r\n    this.afterOpened.next(dialogRef);\r\n\r\n    return dialogRef;\r\n  }\r\n\r\n  /** Closes all of the currently-open dialogs. */\r\n  closeAll(): void {\r\n    this._closeDialogs(this.openDialogs);\r\n  }\r\n\r\n  /**\r\n   * Finds an open dialog by its id.\r\n   * @param id ID to use when looking up the dialog.\r\n   */\r\n  getDialogById(id: string): MdcDialogRef<any> | undefined {\r\n    return this.openDialogs.find(dialog => dialog.id === id);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    // Only close the dialogs at this level on destroy\r\n    // since the parent service may still be active.\r\n    this._closeDialogs(this._openDialogsAtThisLevel);\r\n    this._afterAllClosedAtThisLevel.complete();\r\n    this._afterOpenedAtThisLevel.complete();\r\n  }\r\n\r\n  /**\r\n   * Creates the overlay into which the dialog will be loaded.\r\n   * @returns A promise resolving to the OverlayRef for the created overlay.\r\n   */\r\n  private _createOverlay(): OverlayRef {\r\n    return this._overlay.create();\r\n  }\r\n\r\n  /**\r\n   * Attaches an MdcDialogPortal to a dialog's already-created overlay.\r\n   * @param overlay Reference to the dialog's underlying overlay.\r\n   * @param config The dialog configuration.\r\n   * @returns A promise resolving to a ComponentRef for the attached container.\r\n   */\r\n  private _attachDialogContainer(overlay: OverlayRef, config: MdcDialogConfig): MdcDialogPortal {\r\n    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\r\n    const injector = new PortalInjector(userInjector || this._injector, new WeakMap([\r\n      [MdcDialogConfig, config]\r\n    ]));\r\n    const containerPortal =\r\n      new ComponentPortal(MdcDialogPortal, config.viewContainerRef, injector);\r\n    const containerRef = overlay.attach<MdcDialogPortal>(containerPortal);\r\n\r\n    return containerRef.instance;\r\n  }\r\n\r\n  /**\r\n   * Attaches the user-provided component to the already-created MdcDialogPortal.\r\n   * @param componentOrTemplateRef The type of component being loaded into the dialog,\r\n   *     or a TemplateRef to instantiate as the content.\r\n   * @param dialogContainer Reference to the wrapping MdcDialogPortal.\r\n   * @param overlayRef Reference to the overlay in which the dialog resides.\r\n   * @param config The dialog configuration.\r\n   * @returns A promise resolving to the MdcDialogRef that should be returned to the user.\r\n   */\r\n  private _attachDialogContent<T>(\r\n    componentOrTemplateRef: ComponentType<T> | TemplateRef<T>,\r\n    dialogContainer: MdcDialogPortal,\r\n    overlayRef: OverlayRef,\r\n    config: MdcDialogConfig): MdcDialogRef<T> {\r\n\r\n    // Create a reference to the dialog we're creating in order to give the user a handle\r\n    // to modify and close it.\r\n    const dialogRef = new MdcDialogRef<T>(overlayRef, dialogContainer, config.id);\r\n\r\n    if (componentOrTemplateRef instanceof TemplateRef) {\r\n      dialogContainer.attachTemplatePortal(\r\n        new TemplatePortal<T>(componentOrTemplateRef, null!,\r\n          <any>{ $implicit: config.data, dialogRef }));\r\n    } else {\r\n      const injector = this._createInjector<T>(config, dialogRef, dialogContainer);\r\n      const contentRef = dialogContainer.attachComponentPortal<T>(\r\n        new ComponentPortal(componentOrTemplateRef, undefined, injector));\r\n      dialogRef.componentInstance = contentRef.instance;\r\n    }\r\n\r\n    return dialogRef;\r\n  }\r\n\r\n  /**\r\n   * Creates a custom injector to be used inside the dialog. This allows a component loaded inside\r\n   * of a dialog to close itself and, optionally, to return a value.\r\n   * @param config Config object that is used to construct the dialog.\r\n   * @param dialogRef Reference to the dialog.\r\n   * @param container Dialog container element that wraps all of the contents.\r\n   * @returns The custom injector that can be used inside the dialog.\r\n   */\r\n  private _createInjector<T>(\r\n    config: MdcDialogConfig,\r\n    dialogRef: MdcDialogRef<T>,\r\n    portalContainer: MdcDialogPortal): PortalInjector {\r\n\r\n    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\r\n\r\n    // The MdcDialogPortal is injected in the portal as the MdcDialogPortal and the dialog's\r\n    // content are created out of the same ViewContainerRef and as such, are siblings for injector\r\n    // purposes. To allow the hierarchy that is expected, the MdcDialogPortal is explicitly\r\n    // added to the injection tokens.\r\n    const injectionTokens = new WeakMap<any, any>([\r\n      [MdcDialogPortal, portalContainer],\r\n      [MDC_DIALOG_DATA, config.data],\r\n      [MdcDialogRef, dialogRef]\r\n    ]);\r\n\r\n    return new PortalInjector(userInjector || this._injector, injectionTokens);\r\n  }\r\n\r\n  /**\r\n   * Removes a dialog from the array of open dialogs.\r\n   * @param dialogRef Dialog to be removed.\r\n   */\r\n  private _removeOpenDialog(dialogRef: MdcDialogRef<any>): void {\r\n    const index = this.openDialogs.indexOf(dialogRef);\r\n\r\n    if (index > -1) {\r\n      this.openDialogs.splice(index, 1);\r\n\r\n      // If all the dialogs were closed, remove/restore the `aria-hidden`\r\n      // to a the siblings and emit to the `afterAllClosed` stream.\r\n      if (!this.openDialogs.length) {\r\n        this._ariaHiddenElements.forEach((previousValue, element) => {\r\n          if (previousValue) {\r\n            element.setAttribute('aria-hidden', previousValue);\r\n          } else {\r\n            element.removeAttribute('aria-hidden');\r\n          }\r\n        });\r\n\r\n        this._ariaHiddenElements.clear();\r\n        this._afterAllClosed.next();\r\n      }\r\n    }\r\n  }\r\n\r\n  /** Closes all of the dialogs in an array. */\r\n  private _closeDialogs(dialogs: MdcDialogRef<any>[]): void {\r\n    let i = dialogs.length;\r\n\r\n    while (i--) {\r\n      // The `_openDialogs` property isn't updated after close until the rxjs subscription\r\n      // runs on the next microtask, in addition to modifying the array as we're going\r\n      // through it. We loop through all of them and call close without assuming that\r\n      // they'll be removed from the list instantaneously.\r\n      dialogs[i].close();\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Applies default options to the dialog config.\r\n * @param config Config to be modified.\r\n * @param defaultOptions Default options provided.\r\n * @returns The new configuration object.\r\n */\r\nfunction _applyConfigDefaults(\r\n  config?: MdcDialogConfig, defaultOptions?: MdcDialogConfig): MdcDialogConfig {\r\n  return { ...defaultOptions, ...config };\r\n}\r\n","import {\r\n  Component,\r\n  ComponentRef,\r\n  EmbeddedViewRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport {\r\n  BasePortalOutlet,\r\n  ComponentPortal,\r\n  CdkPortalOutlet,\r\n  TemplatePortal\r\n} from '@angular-mdc/web/portal';\r\n\r\nimport { MdcDialogConfig } from './dialog-config';\r\n\r\n/**\r\n * Throws an exception for the case when a ComponentPortal is\r\n * attached to a DomPortalOutlet without an origin.\r\n */\r\nexport function throwMdcDialogContentAlreadyAttachedError() {\r\n  throw Error('Attempting to attach dialog content after content is already attached');\r\n}\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'mdc-dialog-portal',\r\n  host: {\r\n    '[attr.id]': '_id'\r\n  },\r\n  template: '<ng-template cdkPortalOutlet></ng-template>',\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class MdcDialogPortal extends BasePortalOutlet {\r\n  @ViewChild(CdkPortalOutlet) _portalOutlet!: CdkPortalOutlet;\r\n\r\n  /** A subject emitting after the dialog exits the view. */\r\n  _afterExit: Subject<void> = new Subject();\r\n\r\n  /** ID for the container DOM element. */\r\n  _id!: string;\r\n\r\n  /**\r\n   * Attach a ComponentPortal as content to this dialog container.\r\n   * @param portal Portal to be attached as the dialog content.\r\n   */\r\n  attachComponentPortal<T>(portal: ComponentPortal<T>): ComponentRef<T> {\r\n    if (this._portalOutlet.hasAttached()) {\r\n      throwMdcDialogContentAlreadyAttachedError();\r\n    }\r\n\r\n    return this._portalOutlet.attachComponentPortal(portal);\r\n  }\r\n\r\n  /**\r\n   * Attach a TemplatePortal as content to this dialog container.\r\n   * @param portal Portal to be attached as the dialog content.\r\n   */\r\n  attachTemplatePortal<C>(portal: TemplatePortal<C>): EmbeddedViewRef<C> {\r\n    if (this._portalOutlet.hasAttached()) {\r\n      throwMdcDialogContentAlreadyAttachedError();\r\n    }\r\n\r\n    return this._portalOutlet.attachTemplatePortal(portal);\r\n  }\r\n\r\n  constructor(public _config: MdcDialogConfig) {\r\n    super();\r\n  }\r\n}\r\n","import { ViewContainerRef } from '@angular/core';\r\n\r\nexport class MdcDialogConfig<D = any> {\r\n  viewContainerRef?: ViewContainerRef;\r\n\r\n  /** ID for the dialog. If omitted, a unique one will be generated. */\r\n  id?: string;\r\n\r\n  /** ID of the element that describes the dialog.  */\r\n  ariaDescribedBy?: string | null = null;\r\n\r\n  /** Aria label to assign to the dialog element */\r\n  ariaLabel?: string | null = null;\r\n\r\n  /** Whether the user can use escape key to close the dialog */\r\n  escapeToClose?: boolean = true;\r\n\r\n  /** Whether the user can click outside to close the dialog */\r\n  clickOutsideToClose?: boolean = true;\r\n\r\n  /** Applied automatically when the dialog has overflowing content to warrant scrolling. */\r\n  scrollable?: boolean = true;\r\n\r\n  /** Applied automatically when the dialog's action buttons can't fit on a single line and must be stacked. */\r\n  buttonsStacked?: boolean = true;\r\n\r\n  /** Data to be injected into the dialog content. */\r\n  data?: D | null = null;\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ContentChild,\r\n  ContentChildren,\r\n  ElementRef,\r\n  NgZone,\r\n  OnDestroy,\r\n  QueryList,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { merge, Observable, fromEvent, Subject, Subscription } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport createFocusTrap, { FocusTrap } from 'focus-trap';\r\n\r\nimport { Platform } from '@angular-mdc/web/common';\r\n\r\nimport {\r\n  MdcDialogButton,\r\n  MdcDialogContent,\r\n  MdcDialogSurface\r\n} from './dialog-directives';\r\nimport { MdcDialogRef } from './dialog-ref';\r\nimport { MdcDialogConfig } from './dialog-config';\r\n\r\nimport {\r\n  isScrollable,\r\n  areTopsMisaligned\r\n} from '@material/dialog/util';\r\nimport { strings } from '@material/dialog/constants';\r\nimport { closest, matches } from '@material/dom/ponyfill';\r\nimport { MDCDialogFoundation } from '@material/dialog/index';\r\n\r\nconst LAYOUT_EVENTS = ['resize', 'orientationchange'];\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'mdc-dialog',\r\n  exportAs: 'mdc-dialog',\r\n  host: {\r\n    '[attr.id]': 'config?.id',\r\n    'role': 'alertdialog',\r\n    'class': 'mdc-dialog',\r\n    '[attr.aria-modal]': 'true',\r\n    '[attr.aria-labelledby]': 'config?.ariaLabel',\r\n    '[attr.aria-label]': 'config?.ariaLabel',\r\n    '[attr.aria-describedby]': 'config?.ariaDescribedBy || null',\r\n    '(click)': '_onInteraction($event)',\r\n    '(keydown)': '_onInteraction($event)'\r\n  },\r\n  template: `\r\n  <mdc-dialog-scrim></mdc-dialog-scrim>\r\n  <ng-content></ng-content>`,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class MdcDialogComponent implements AfterViewInit, OnDestroy {\r\n  /** Emits whenever the component is destroyed. */\r\n  private _destroy = new Subject<void>();\r\n\r\n  private _focusTrapInstance: FocusTrap | null = null;\r\n\r\n  private _scrollable: boolean = true;\r\n\r\n  config: MdcDialogConfig;\r\n\r\n  @ContentChild(MdcDialogSurface) _surface!: MdcDialogSurface;\r\n  @ContentChild(MdcDialogContent) _content!: MdcDialogContent;\r\n  @ContentChildren(MdcDialogButton, { descendants: true }) _buttons?: QueryList<MdcDialogButton>;\r\n\r\n  private _layoutEventSubscription: Subscription | null = null;\r\n\r\n  /** Combined stream of all of the dialog layout events. */\r\n  get layoutEvents(): Observable<any> {\r\n    return merge(...LAYOUT_EVENTS.map(evt => fromEvent(window, evt)));\r\n  }\r\n\r\n  private _createAdapter() {\r\n    return {\r\n      addClass: (className: string) => this._getDialog().classList.add(className),\r\n      removeClass: (className: string) => this._getDialog().classList.remove(className),\r\n      hasClass: (className: string) => this._getDialog().classList.contains(className),\r\n      addBodyClass: (className: string) => {\r\n        if (this._platform.isBrowser) {\r\n          document.body!.classList.add(className);\r\n        }\r\n      },\r\n      removeBodyClass: (className: string) => {\r\n        if (this._platform.isBrowser) {\r\n          document.body!.classList.remove(className);\r\n        }\r\n      },\r\n      eventTargetMatches: (target: EventTarget, selector: string) => matches(target, selector),\r\n      trapFocus: () => this._focusTrapInstance!.activate(),\r\n      releaseFocus: () => this._focusTrapInstance!.deactivate(),\r\n      isContentScrollable: () =>\r\n        !!this._content && this._scrollable && isScrollable(this._content.elementRef.nativeElement),\r\n      areButtonsStacked: () => areTopsMisaligned(this._buttons),\r\n      getActionFromEvent: (event: Event) => {\r\n        const element = closest(event.target, `[${strings.ACTION_ATTRIBUTE}]`);\r\n        return element && element.getAttribute(strings.ACTION_ATTRIBUTE);\r\n      },\r\n      clickDefaultButton: () => {\r\n        const defaultBtn = this._getDefaultButton();\r\n        if (defaultBtn) {\r\n          defaultBtn.click();\r\n        }\r\n      },\r\n      reverseButtons: () => {\r\n        if (!this._buttons) { return; }\r\n\r\n        this._buttons.toArray().reverse();\r\n        this._buttons.forEach(button => button.getHostElement().parentElement!.appendChild(button.getHostElement()));\r\n      },\r\n      notifyOpened: () => this.dialogRef.opened(),\r\n      notifyClosed: (action: string) => this._closeDialogByRef(action)\r\n    };\r\n  }\r\n\r\n  private _foundation!: {\r\n    init(): void,\r\n    destroy(): void,\r\n    open(): void,\r\n    close(action?: string): void,\r\n    setEscapeKeyAction(action: string): void,\r\n    setScrimClickAction(action: string): void,\r\n    setAutoStackButtons(autoStack: boolean): void,\r\n    layout(): void,\r\n    handleInteraction(evt: KeyboardEvent | MouseEvent): void,\r\n    handleDocumentKeydown(evt: KeyboardEvent): void\r\n  };\r\n\r\n  constructor(\r\n    private _ngZone: NgZone,\r\n    private _platform: Platform,\r\n    private _elementRef: ElementRef<HTMLElement>,\r\n    public dialogRef: MdcDialogRef<MdcDialogComponent>) {\r\n\r\n    this.config = dialogRef._portalInstance._config;\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this._foundation = new MDCDialogFoundation(this._createAdapter());\r\n    this._focusTrapInstance = this._createFocusTrapInstance();\r\n    this._initialize();\r\n\r\n    this._loadListeners();\r\n    this._foundation.open();\r\n  }\r\n\r\n  private _initialize(): void {\r\n    this._scrollable = !!this.config.scrollable;\r\n\r\n    if (!this.config.clickOutsideToClose) {\r\n      this._foundation.setScrimClickAction('');\r\n    }\r\n    if (!this.config.escapeToClose) {\r\n      this._foundation.setEscapeKeyAction('');\r\n    }\r\n    if (!this.config.buttonsStacked) {\r\n      this._foundation.setAutoStackButtons(false);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._destroy.next();\r\n    this._destroy.complete();\r\n\r\n    if (this._layoutEventSubscription) {\r\n      this._layoutEventSubscription.unsubscribe();\r\n    }\r\n\r\n    if (this._foundation) {\r\n      this._foundation.destroy();\r\n    }\r\n  }\r\n\r\n  _onInteraction(evt: KeyboardEvent | MouseEvent): void {\r\n    this._foundation.handleInteraction(evt);\r\n  }\r\n\r\n  private _getDefaultButton(): HTMLElement | undefined {\r\n    const defaultBtn = this._buttons ? this._buttons.find(_ => _.default) : undefined;\r\n    return defaultBtn ? defaultBtn.getHostElement() : undefined;\r\n  }\r\n\r\n  private _closeDialogByRef(action?: string): void {\r\n    this.dialogRef.close(action);\r\n  }\r\n\r\n  private _loadListeners(): void {\r\n    this._layoutEventSubscription = this.layoutEvents.pipe()\r\n      .subscribe(() => this._foundation.layout());\r\n\r\n    if (this._platform.isBrowser) {\r\n      this._ngZone.runOutsideAngular(() =>\r\n        fromEvent<KeyboardEvent>(document, 'keydown').pipe(takeUntil(this._destroy))\r\n          .subscribe(evt => this._ngZone.run(() => this._foundation.handleDocumentKeydown(evt))));\r\n    }\r\n  }\r\n\r\n  private _createFocusTrapInstance(focusTrapFactory = createFocusTrap): any {\r\n    return focusTrapFactory(this._getDialog(), {\r\n      initialFocus: this._getDefaultButton(),\r\n      clickOutsideDeactivates: true, // Allow handling of scrim clicks\r\n      escapeDeactivates: false // Dialog foundation handles escape key\r\n    });\r\n  }\r\n\r\n  /** Retrieves the DOM element of the component host. */\r\n  private _getDialog(): HTMLElement {\r\n    return this._elementRef.nativeElement;\r\n  }\r\n}\r\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCComponent from '@material/base/component';\nimport {MDCRipple} from '@material/ripple/index';\n\nimport MDCDialogFoundation from './foundation';\nimport * as util from './util';\nimport {closest, matches} from '@material/dom/ponyfill';\n\nimport createFocusTrap from 'focus-trap';\n\nconst strings = MDCDialogFoundation.strings;\n\nclass MDCDialog extends MDCComponent {\n  constructor(...args) {\n    super(...args);\n\n    /**\n     * @type {!Array<!MDCRipple>}\n     * @private\n     */\n    this.buttonRipples_;\n\n    /** @private {!Array<!Element>} */\n    this.buttons_;\n\n    /** @private {?Element} */\n    this.defaultButton_;\n\n    /** @private {!Element} */\n    this.container_;\n\n    /** @private {?Element} */\n    this.content_;\n\n    /** @private {?Element} */\n    this.initialFocusEl_;\n\n    /** @private {!Function} */\n    this.focusTrapFactory_;\n\n    /** @private {!FocusTrapInstance} */\n    this.focusTrap_;\n\n    /** @private {!Function} */\n    this.handleInteraction_;\n\n    /** @private {!Function} */\n    this.handleDocumentKeydown_;\n\n    /** @private {!Function} */\n    this.handleOpening_;\n\n    /** @private {!Function} */\n    this.handleClosing_;\n\n    /** @private {Function} */\n    this.layout_;\n  }\n\n  static attachTo(root) {\n    return new MDCDialog(root);\n  }\n\n  get isOpen() {\n    return this.foundation_.isOpen();\n  }\n\n  get escapeKeyAction() {\n    return this.foundation_.getEscapeKeyAction();\n  }\n\n  set escapeKeyAction(action) {\n    this.foundation_.setEscapeKeyAction(action);\n  }\n\n  get scrimClickAction() {\n    return this.foundation_.getScrimClickAction();\n  }\n\n  set scrimClickAction(action) {\n    this.foundation_.setScrimClickAction(action);\n  }\n\n  get autoStackButtons() {\n    return this.foundation_.getAutoStackButtons();\n  }\n\n  set autoStackButtons(autoStack) {\n    this.foundation_.setAutoStackButtons(autoStack);\n  }\n\n  initialize(focusTrapFactory = createFocusTrap, initialFocusEl = null) {\n    this.container_ = /** @type {!Element} */ (this.root_.querySelector(strings.CONTAINER_SELECTOR));\n    this.content_ = this.root_.querySelector(strings.CONTENT_SELECTOR);\n    this.buttons_ = [].slice.call(this.root_.querySelectorAll(strings.BUTTON_SELECTOR));\n    this.defaultButton_ = this.root_.querySelector(strings.DEFAULT_BUTTON_SELECTOR);\n    this.buttonRipples_ = [];\n    this.focusTrapFactory_ = focusTrapFactory;\n    this.initialFocusEl_ = initialFocusEl;\n\n    for (let i = 0, buttonEl; buttonEl = this.buttons_[i]; i++) {\n      this.buttonRipples_.push(new MDCRipple(buttonEl));\n    }\n  }\n\n  initialSyncWithDOM() {\n    this.focusTrap_ = util.createFocusTrapInstance(this.container_, this.focusTrapFactory_, this.initialFocusEl_);\n\n    this.handleInteraction_ = this.foundation_.handleInteraction.bind(this.foundation_);\n    this.handleDocumentKeydown_ = this.foundation_.handleDocumentKeydown.bind(this.foundation_);\n    this.layout_ = this.layout.bind(this);\n\n    const LAYOUT_EVENTS = ['resize', 'orientationchange'];\n    this.handleOpening_ = () => {\n      LAYOUT_EVENTS.forEach((type) => window.addEventListener(type, this.layout_));\n      document.addEventListener('keydown', this.handleDocumentKeydown_);\n    };\n    this.handleClosing_ = () => {\n      LAYOUT_EVENTS.forEach((type) => window.removeEventListener(type, this.layout_));\n      document.removeEventListener('keydown', this.handleDocumentKeydown_);\n    };\n\n    this.listen('click', this.handleInteraction_);\n    this.listen('keydown', this.handleInteraction_);\n    this.listen(strings.OPENING_EVENT, this.handleOpening_);\n    this.listen(strings.CLOSING_EVENT, this.handleClosing_);\n  }\n\n  destroy() {\n    this.unlisten('click', this.handleInteraction_);\n    this.unlisten('keydown', this.handleInteraction_);\n    this.unlisten(strings.OPENING_EVENT, this.handleOpening_);\n    this.unlisten(strings.CLOSING_EVENT, this.handleClosing_);\n    this.handleClosing_();\n\n    this.buttonRipples_.forEach((ripple) => ripple.destroy());\n    super.destroy();\n  }\n\n  layout() {\n    this.foundation_.layout();\n  }\n\n  open() {\n    this.foundation_.open();\n  }\n\n  /**\n   * @param {string=} action\n   */\n  close(action = '') {\n    this.foundation_.close(action);\n  }\n\n  getDefaultFoundation() {\n    return new MDCDialogFoundation({\n      addClass: (className) => this.root_.classList.add(className),\n      removeClass: (className) => this.root_.classList.remove(className),\n      hasClass: (className) => this.root_.classList.contains(className),\n      addBodyClass: (className) => document.body.classList.add(className),\n      removeBodyClass: (className) => document.body.classList.remove(className),\n      eventTargetMatches: (target, selector) => matches(target, selector),\n      trapFocus: () => this.focusTrap_.activate(),\n      releaseFocus: () => this.focusTrap_.deactivate(),\n      isContentScrollable: () => !!this.content_ && util.isScrollable(/** @type {!Element} */ (this.content_)),\n      areButtonsStacked: () => util.areTopsMisaligned(this.buttons_),\n      getActionFromEvent: (event) => {\n        const element = closest(event.target, `[${strings.ACTION_ATTRIBUTE}]`);\n        return element && element.getAttribute(strings.ACTION_ATTRIBUTE);\n      },\n      clickDefaultButton: () => {\n        if (this.defaultButton_) {\n          this.defaultButton_.click();\n        }\n      },\n      reverseButtons: () => {\n        this.buttons_.reverse();\n        this.buttons_.forEach((button) => button.parentElement.appendChild(button));\n      },\n      notifyOpening: () => this.emit(strings.OPENING_EVENT, {}),\n      notifyOpened: () => this.emit(strings.OPENED_EVENT, {}),\n      notifyClosing: (action) => this.emit(strings.CLOSING_EVENT, action ? {action} : {}),\n      notifyClosed: (action) => this.emit(strings.CLOSED_EVENT, action ? {action} : {}),\n    });\n  }\n}\n\nexport {MDCDialog, MDCDialogFoundation, util};\n","/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCFoundation from '@material/base/foundation';\nimport MDCDialogAdapter from './adapter';\nimport {cssClasses, numbers, strings} from './constants';\n\nclass MDCDialogFoundation extends MDCFoundation {\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  static get strings() {\n    return strings;\n  }\n\n  static get numbers() {\n    return numbers;\n  }\n\n  static get defaultAdapter() {\n    return /** @type {!MDCDialogAdapter} */ ({\n      addClass: (/* className: string */) => {},\n      removeClass: (/* className: string */) => {},\n      hasClass: (/* className: string */) => {},\n      addBodyClass: (/* className: string */) => {},\n      removeBodyClass: (/* className: string */) => {},\n      eventTargetMatches: (/* target: !EventTarget, selector: string */) => {},\n      trapFocus: () => {},\n      releaseFocus: () => {},\n      isContentScrollable: () => {},\n      areButtonsStacked: () => {},\n      getActionFromEvent: (/* event: !Event */) => {},\n      clickDefaultButton: () => {},\n      reverseButtons: () => {},\n      notifyOpening: () => {},\n      notifyOpened: () => {},\n      notifyClosing: (/* action: ?string */) => {},\n      notifyClosed: (/* action: ?string */) => {},\n    });\n  }\n\n  /**\n   * @param {!MDCDialogAdapter=} adapter\n   */\n  constructor(adapter) {\n    super(Object.assign(MDCDialogFoundation.defaultAdapter, adapter));\n\n    /** @private {boolean} */\n    this.isOpen_ = false;\n\n    /** @private {number} */\n    this.animationFrame_ = 0;\n\n    /** @private {number} */\n    this.animationTimer_ = 0;\n\n    /** @private {number} */\n    this.layoutFrame_ = 0;\n\n    /** @private {string} */\n    this.escapeKeyAction_ = strings.CLOSE_ACTION;\n\n    /** @private {string} */\n    this.scrimClickAction_ = strings.CLOSE_ACTION;\n\n    /** @private {boolean} */\n    this.autoStackButtons_ = true;\n\n    /** @private {boolean} */\n    this.areButtonsStacked_ = false;\n  };\n\n  init() {\n    if (this.adapter_.hasClass(cssClasses.STACKED)) {\n      this.setAutoStackButtons(false);\n    }\n  };\n\n  destroy() {\n    if (this.isOpen_) {\n      this.close(strings.DESTROY_ACTION);\n    }\n\n    if (this.animationTimer_) {\n      clearTimeout(this.animationTimer_);\n      this.handleAnimationTimerEnd_();\n    }\n\n    if (this.layoutFrame_) {\n      cancelAnimationFrame(this.layoutFrame_);\n      this.layoutFrame_ = 0;\n    }\n  }\n\n  open() {\n    this.isOpen_ = true;\n    this.adapter_.notifyOpening();\n    this.adapter_.addClass(cssClasses.OPENING);\n\n    // Wait a frame once display is no longer \"none\", to establish basis for animation\n    this.runNextAnimationFrame_(() => {\n      this.adapter_.addClass(cssClasses.OPEN);\n      this.adapter_.addBodyClass(cssClasses.SCROLL_LOCK);\n\n      this.layout();\n\n      this.animationTimer_ = setTimeout(() => {\n        this.handleAnimationTimerEnd_();\n        this.adapter_.trapFocus();\n        this.adapter_.notifyOpened();\n      }, numbers.DIALOG_ANIMATION_OPEN_TIME_MS);\n    });\n  }\n\n  /**\n   * @param {string=} action\n   */\n  close(action = '') {\n    if (!this.isOpen_) {\n      // Avoid redundant close calls (and events), e.g. from keydown on elements that inherently emit click\n      return;\n    }\n\n    this.isOpen_ = false;\n    this.adapter_.notifyClosing(action);\n    this.adapter_.addClass(cssClasses.CLOSING);\n    this.adapter_.removeClass(cssClasses.OPEN);\n    this.adapter_.removeBodyClass(cssClasses.SCROLL_LOCK);\n\n    cancelAnimationFrame(this.animationFrame_);\n    this.animationFrame_ = 0;\n\n    clearTimeout(this.animationTimer_);\n    this.animationTimer_ = setTimeout(() => {\n      this.adapter_.releaseFocus();\n      this.handleAnimationTimerEnd_();\n      this.adapter_.notifyClosed(action);\n    }, numbers.DIALOG_ANIMATION_CLOSE_TIME_MS);\n  }\n\n  isOpen() {\n    return this.isOpen_;\n  }\n\n  /** @return {string} */\n  getEscapeKeyAction() {\n    return this.escapeKeyAction_;\n  }\n\n  /** @param {string} action */\n  setEscapeKeyAction(action) {\n    this.escapeKeyAction_ = action;\n  }\n\n  /** @return {string} */\n  getScrimClickAction() {\n    return this.scrimClickAction_;\n  }\n\n  /** @param {string} action */\n  setScrimClickAction(action) {\n    this.scrimClickAction_ = action;\n  }\n\n  /** @return {boolean} */\n  getAutoStackButtons() {\n    return this.autoStackButtons_;\n  }\n\n  /** @param {boolean} autoStack */\n  setAutoStackButtons(autoStack) {\n    this.autoStackButtons_ = autoStack;\n  }\n\n  layout() {\n    if (this.layoutFrame_) {\n      cancelAnimationFrame(this.layoutFrame_);\n    }\n    this.layoutFrame_ = requestAnimationFrame(() => {\n      this.layoutInternal_();\n      this.layoutFrame_ = 0;\n    });\n  }\n\n  layoutInternal_() {\n    if (this.autoStackButtons_) {\n      this.detectStackedButtons_();\n    }\n    this.detectScrollableContent_();\n  }\n\n  /** @private */\n  detectStackedButtons_() {\n    // Remove the class first to let us measure the buttons' natural positions.\n    this.adapter_.removeClass(cssClasses.STACKED);\n\n    const areButtonsStacked = this.adapter_.areButtonsStacked();\n\n    if (areButtonsStacked) {\n      this.adapter_.addClass(cssClasses.STACKED);\n    }\n\n    if (areButtonsStacked !== this.areButtonsStacked_) {\n      this.adapter_.reverseButtons();\n      this.areButtonsStacked_ = areButtonsStacked;\n    }\n  }\n\n  /** @private */\n  detectScrollableContent_() {\n    // Remove the class first to let us measure the natural height of the content.\n    this.adapter_.removeClass(cssClasses.SCROLLABLE);\n    if (this.adapter_.isContentScrollable()) {\n      this.adapter_.addClass(cssClasses.SCROLLABLE);\n    }\n  }\n\n  /**\n   * @param {!Event} evt\n   * @private\n   */\n  handleInteraction(evt) {\n    const isClick = evt.type === 'click';\n    const isEnter = evt.key === 'Enter' || evt.keyCode === 13;\n\n    // Check for scrim click first since it doesn't require querying ancestors\n    if (isClick && this.adapter_.eventTargetMatches(evt.target, strings.SCRIM_SELECTOR) &&\n      this.scrimClickAction_ !== '') {\n      this.close(this.scrimClickAction_);\n    } else if (isClick || evt.key === 'Space' || evt.keyCode === 32 || isEnter) {\n      const action = this.adapter_.getActionFromEvent(evt);\n      if (action) {\n        this.close(action);\n      } else if (isEnter && !this.adapter_.eventTargetMatches(evt.target, strings.SUPPRESS_DEFAULT_PRESS_SELECTOR)) {\n        this.adapter_.clickDefaultButton();\n      }\n    }\n  }\n\n  /**\n   * @param {!KeyboardEvent} evt\n   * @private\n   */\n  handleDocumentKeydown(evt) {\n    if ((evt.key === 'Escape' || evt.keyCode === 27) && this.escapeKeyAction_ !== '') {\n      this.close(this.escapeKeyAction_);\n    }\n  }\n\n  /** @private */\n  handleAnimationTimerEnd_() {\n    this.animationTimer_ = 0;\n    this.adapter_.removeClass(cssClasses.OPENING);\n    this.adapter_.removeClass(cssClasses.CLOSING);\n  }\n\n  /**\n   * Runs the given logic on the next animation frame, using setTimeout to factor in Firefox reflow behavior.\n   * @param {Function} callback\n   * @private\n   */\n  runNextAnimationFrame_(callback) {\n    cancelAnimationFrame(this.animationFrame_);\n    this.animationFrame_ = requestAnimationFrame(() => {\n      this.animationFrame_ = 0;\n      clearTimeout(this.animationTimer_);\n      this.animationTimer_ = setTimeout(callback, 0);\n    });\n  }\n}\n\nexport default MDCDialogFoundation;\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDC Dialog. Provides an interface for managing:\n * - CSS classes\n * - DOM\n * - Event handlers\n *\n * Additionally, provides type information for the adapter to the Closure\n * compiler.\n *\n * Implement this adapter for your framework of choice to delegate updates to\n * the component in your framework of choice. See architecture documentation\n * for more details.\n * https://github.com/material-components/material-components-web/blob/master/docs/code/architecture.md\n *\n * @record\n */\nclass MDCDialogAdapter {\n  /** @param {string} className */\n  addClass(className) {}\n\n  /** @param {string} className */\n  removeClass(className) {}\n\n  /**\n   * @param {string} className\n   * @return {boolean}\n   */\n  hasClass(className) {}\n\n  /** @param {string} className */\n  addBodyClass(className) {}\n\n  /** @param {string} className */\n  removeBodyClass(className) {}\n\n  /**\n   * @param {!EventTarget} target\n   * @param {string} selector\n   * @return {boolean}\n   */\n  eventTargetMatches(target, selector) {}\n\n  trapFocus() {}\n  releaseFocus() {}\n\n  /** @return {boolean} */\n  isContentScrollable() {}\n\n  /** @return {boolean} */\n  areButtonsStacked() {}\n\n  /**\n   * @param {!Event} event\n   * @return {?string}\n   */\n  getActionFromEvent(event) {}\n\n  clickDefaultButton() {}\n  reverseButtons() {}\n\n  notifyOpening() {}\n  notifyOpened() {}\n\n  /**\n   * @param {string} action\n   */\n  notifyClosing(action) {}\n\n  /**\n   * @param {string} action\n   */\n  notifyClosed(action) {}\n}\n\nexport default MDCDialogAdapter;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCComponent from '@material/base/component';\nimport MDCRippleAdapter from './adapter';\nimport MDCRippleFoundation from './foundation';\nimport * as util from './util';\n\n/**\n * @extends MDCComponent<!MDCRippleFoundation>\n */\nclass MDCRipple extends MDCComponent {\n  /** @param {...?} args */\n  constructor(...args) {\n    super(...args);\n\n    /** @type {boolean} */\n    this.disabled = false;\n\n    /** @private {boolean} */\n    this.unbounded_;\n  }\n\n  /**\n   * @param {!Element} root\n   * @param {{isUnbounded: (boolean|undefined)}=} options\n   * @return {!MDCRipple}\n   */\n  static attachTo(root, {isUnbounded = undefined} = {}) {\n    const ripple = new MDCRipple(root);\n    // Only override unbounded behavior if option is explicitly specified\n    if (isUnbounded !== undefined) {\n      ripple.unbounded = /** @type {boolean} */ (isUnbounded);\n    }\n    return ripple;\n  }\n\n  /**\n   * @param {!RippleCapableSurface} instance\n   * @return {!MDCRippleAdapter}\n   */\n  static createAdapter(instance) {\n    const MATCHES = util.getMatchesProperty(HTMLElement.prototype);\n\n    return {\n      browserSupportsCssVars: () => util.supportsCssVariables(window),\n      isUnbounded: () => instance.unbounded,\n      isSurfaceActive: () => instance.root_[MATCHES](':active'),\n      isSurfaceDisabled: () => instance.disabled,\n      addClass: (className) => instance.root_.classList.add(className),\n      removeClass: (className) => instance.root_.classList.remove(className),\n      containsEventTarget: (target) => instance.root_.contains(target),\n      registerInteractionHandler: (evtType, handler) =>\n        instance.root_.addEventListener(evtType, handler, util.applyPassive()),\n      deregisterInteractionHandler: (evtType, handler) =>\n        instance.root_.removeEventListener(evtType, handler, util.applyPassive()),\n      registerDocumentInteractionHandler: (evtType, handler) =>\n        document.documentElement.addEventListener(evtType, handler, util.applyPassive()),\n      deregisterDocumentInteractionHandler: (evtType, handler) =>\n        document.documentElement.removeEventListener(evtType, handler, util.applyPassive()),\n      registerResizeHandler: (handler) => window.addEventListener('resize', handler),\n      deregisterResizeHandler: (handler) => window.removeEventListener('resize', handler),\n      updateCssVariable: (varName, value) => instance.root_.style.setProperty(varName, value),\n      computeBoundingRect: () => instance.root_.getBoundingClientRect(),\n      getWindowPageOffset: () => ({x: window.pageXOffset, y: window.pageYOffset}),\n    };\n  }\n\n  /** @return {boolean} */\n  get unbounded() {\n    return this.unbounded_;\n  }\n\n  /** @param {boolean} unbounded */\n  set unbounded(unbounded) {\n    this.unbounded_ = Boolean(unbounded);\n    this.setUnbounded_();\n  }\n\n  /**\n   * Closure Compiler throws an access control error when directly accessing a\n   * protected or private property inside a getter/setter, like unbounded above.\n   * By accessing the protected property inside a method, we solve that problem.\n   * That's why this function exists.\n   * @private\n   */\n  setUnbounded_() {\n    this.foundation_.setUnbounded(this.unbounded_);\n  }\n\n  activate() {\n    this.foundation_.activate();\n  }\n\n  deactivate() {\n    this.foundation_.deactivate();\n  }\n\n  layout() {\n    this.foundation_.layout();\n  }\n\n  /**\n   * @return {!MDCRippleFoundation}\n   * @override\n   */\n  getDefaultFoundation() {\n    return new MDCRippleFoundation(MDCRipple.createAdapter(this));\n  }\n\n  /** @override */\n  initialSyncWithDOM() {\n    this.unbounded = 'mdcRippleIsUnbounded' in this.root_.dataset;\n  }\n}\n\n/**\n * See Material Design spec for more details on when to use ripples.\n * https://material.io/guidelines/motion/choreography.html#choreography-creation\n * @record\n */\nclass RippleCapableSurface {}\n\n/** @protected {!Element} */\nRippleCapableSurface.prototype.root_;\n\n/**\n * Whether or not the ripple bleeds out of the bounds of the element.\n * @type {boolean|undefined}\n */\nRippleCapableSurface.prototype.unbounded;\n\n/**\n * Whether or not the ripple is attached to a disabled component.\n * @type {boolean|undefined}\n */\nRippleCapableSurface.prototype.disabled;\n\nexport {MDCRipple, MDCRippleFoundation, RippleCapableSurface, util};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCFoundation from '@material/base/foundation';\nimport MDCRippleAdapter from './adapter';\nimport {cssClasses, strings, numbers} from './constants';\nimport {getNormalizedEventCoords} from './util';\n\n/**\n * @typedef {{\n *   isActivated: (boolean|undefined),\n *   hasDeactivationUXRun: (boolean|undefined),\n *   wasActivatedByPointer: (boolean|undefined),\n *   wasElementMadeActive: (boolean|undefined),\n *   activationEvent: (!Event|undefined),\n *   isProgrammatic: (boolean|undefined)\n * }}\n */\nlet ActivationStateType;\n\n/**\n * @typedef {{\n *   activate: (string|undefined),\n *   deactivate: (string|undefined),\n *   focus: (string|undefined),\n *   blur: (string|undefined)\n * }}\n */\nlet ListenerInfoType;\n\n/**\n * @typedef {{\n *   activate: function(!Event),\n *   deactivate: function(!Event=),\n *   focus: function(),\n *   blur: function()\n * }}\n */\nlet ListenersType;\n\n/**\n * @typedef {{\n *   x: number,\n *   y: number\n * }}\n */\nlet PointType;\n\n// Activation events registered on the root element of each instance for activation\nconst ACTIVATION_EVENT_TYPES = ['touchstart', 'pointerdown', 'mousedown', 'keydown'];\n\n// Deactivation events registered on documentElement when a pointer-related down event occurs\nconst POINTER_DEACTIVATION_EVENT_TYPES = ['touchend', 'pointerup', 'mouseup', 'contextmenu'];\n\n// Tracks activations that have occurred on the current frame, to avoid simultaneous nested activations\n/** @type {!Array<!EventTarget>} */\nlet activatedTargets = [];\n\n/**\n * @extends {MDCFoundation<!MDCRippleAdapter>}\n */\nclass MDCRippleFoundation extends MDCFoundation {\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  static get strings() {\n    return strings;\n  }\n\n  static get numbers() {\n    return numbers;\n  }\n\n  static get defaultAdapter() {\n    return {\n      browserSupportsCssVars: () => /* boolean - cached */ {},\n      isUnbounded: () => /* boolean */ {},\n      isSurfaceActive: () => /* boolean */ {},\n      isSurfaceDisabled: () => /* boolean */ {},\n      addClass: (/* className: string */) => {},\n      removeClass: (/* className: string */) => {},\n      containsEventTarget: (/* target: !EventTarget */) => {},\n      registerInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      deregisterInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      registerDocumentInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      deregisterDocumentInteractionHandler: (/* evtType: string, handler: EventListener */) => {},\n      registerResizeHandler: (/* handler: EventListener */) => {},\n      deregisterResizeHandler: (/* handler: EventListener */) => {},\n      updateCssVariable: (/* varName: string, value: string */) => {},\n      computeBoundingRect: () => /* ClientRect */ {},\n      getWindowPageOffset: () => /* {x: number, y: number} */ {},\n    };\n  }\n\n  constructor(adapter) {\n    super(Object.assign(MDCRippleFoundation.defaultAdapter, adapter));\n\n    /** @private {number} */\n    this.layoutFrame_ = 0;\n\n    /** @private {!ClientRect} */\n    this.frame_ = /** @type {!ClientRect} */ ({width: 0, height: 0});\n\n    /** @private {!ActivationStateType} */\n    this.activationState_ = this.defaultActivationState_();\n\n    /** @private {number} */\n    this.initialSize_ = 0;\n\n    /** @private {number} */\n    this.maxRadius_ = 0;\n\n    /** @private {function(!Event)} */\n    this.activateHandler_ = (e) => this.activate_(e);\n\n    /** @private {function(!Event=)} */\n    this.deactivateHandler_ = () => this.deactivate_();\n\n    /** @private {function(!Event=)} */\n    this.focusHandler_ = () => this.handleFocus();\n\n    /** @private {function(!Event=)} */\n    this.blurHandler_ = () => this.handleBlur();\n\n    /** @private {!Function} */\n    this.resizeHandler_ = () => this.layout();\n\n    /** @private {{left: number, top:number}} */\n    this.unboundedCoords_ = {\n      left: 0,\n      top: 0,\n    };\n\n    /** @private {number} */\n    this.fgScale_ = 0;\n\n    /** @private {number} */\n    this.activationTimer_ = 0;\n\n    /** @private {number} */\n    this.fgDeactivationRemovalTimer_ = 0;\n\n    /** @private {boolean} */\n    this.activationAnimationHasEnded_ = false;\n\n    /** @private {!Function} */\n    this.activationTimerCallback_ = () => {\n      this.activationAnimationHasEnded_ = true;\n      this.runDeactivationUXLogicIfReady_();\n    };\n\n    /** @private {!Event|undefined} */\n    this.previousActivationEvent_;\n  }\n\n  /**\n   * We compute this property so that we are not querying information about the client\n   * until the point in time where the foundation requests it. This prevents scenarios where\n   * client-side feature-detection may happen too early, such as when components are rendered on the server\n   * and then initialized at mount time on the client.\n   * @return {boolean}\n   * @private\n   */\n  supportsPressRipple_() {\n    return this.adapter_.browserSupportsCssVars();\n  }\n\n  /**\n   * @return {!ActivationStateType}\n   */\n  defaultActivationState_() {\n    return {\n      isActivated: false,\n      hasDeactivationUXRun: false,\n      wasActivatedByPointer: false,\n      wasElementMadeActive: false,\n      activationEvent: undefined,\n      isProgrammatic: false,\n    };\n  }\n\n  /** @override */\n  init() {\n    const supportsPressRipple = this.supportsPressRipple_();\n\n    this.registerRootHandlers_(supportsPressRipple);\n\n    if (supportsPressRipple) {\n      const {ROOT, UNBOUNDED} = MDCRippleFoundation.cssClasses;\n      requestAnimationFrame(() => {\n        this.adapter_.addClass(ROOT);\n        if (this.adapter_.isUnbounded()) {\n          this.adapter_.addClass(UNBOUNDED);\n          // Unbounded ripples need layout logic applied immediately to set coordinates for both shade and ripple\n          this.layoutInternal_();\n        }\n      });\n    }\n  }\n\n  /** @override */\n  destroy() {\n    if (this.supportsPressRipple_()) {\n      if (this.activationTimer_) {\n        clearTimeout(this.activationTimer_);\n        this.activationTimer_ = 0;\n        this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_ACTIVATION);\n      }\n\n      if (this.fgDeactivationRemovalTimer_) {\n        clearTimeout(this.fgDeactivationRemovalTimer_);\n        this.fgDeactivationRemovalTimer_ = 0;\n        this.adapter_.removeClass(MDCRippleFoundation.cssClasses.FG_DEACTIVATION);\n      }\n\n      const {ROOT, UNBOUNDED} = MDCRippleFoundation.cssClasses;\n      requestAnimationFrame(() => {\n        this.adapter_.removeClass(ROOT);\n        this.adapter_.removeClass(UNBOUNDED);\n        this.removeCssVars_();\n      });\n    }\n\n    this.deregisterRootHandlers_();\n    this.deregisterDeactivationHandlers_();\n  }\n\n  /**\n   * @param {boolean} supportsPressRipple Passed from init to save a redundant function call\n   * @private\n   */\n  registerRootHandlers_(supportsPressRipple) {\n    if (supportsPressRipple) {\n      ACTIVATION_EVENT_TYPES.forEach((type) => {\n        this.adapter_.registerInteractionHandler(type, this.activateHandler_);\n      });\n      if (this.adapter_.isUnbounded()) {\n        this.adapter_.registerResizeHandler(this.resizeHandler_);\n      }\n    }\n\n    this.adapter_.registerInteractionHandler('focus', this.focusHandler_);\n    this.adapter_.registerInteractionHandler('blur', this.blurHandler_);\n  }\n\n  /**\n   * @param {!Event} e\n   * @private\n   */\n  registerDeactivationHandlers_(e) {\n    if (e.type === 'keydown') {\n      this.adapter_.registerInteractionHandler('keyup', this.deactivateHandler_);\n    } else {\n      POINTER_DEACTIVATION_EVENT_TYPES.forEach((type) => {\n        this.adapter_.registerDocumentInteractionHandler(type, this.deactivateHandler_);\n      });\n    }\n  }\n\n  /** @private */\n  deregisterRootHandlers_() {\n    ACTIVATION_EVENT_TYPES.forEach((type) => {\n      this.adapter_.deregisterInteractionHandler(type, this.activateHandler_);\n    });\n    this.adapter_.deregisterInteractionHandler('focus', this.focusHandler_);\n    this.adapter_.deregisterInteractionHandler('blur', this.blurHandler_);\n\n    if (this.adapter_.isUnbounded()) {\n      this.adapter_.deregisterResizeHandler(this.resizeHandler_);\n    }\n  }\n\n  /** @private */\n  deregisterDeactivationHandlers_() {\n    this.adapter_.deregisterInteractionHandler('keyup', this.deactivateHandler_);\n    POINTER_DEACTIVATION_EVENT_TYPES.forEach((type) => {\n      this.adapter_.deregisterDocumentInteractionHandler(type, this.deactivateHandler_);\n    });\n  }\n\n  /** @private */\n  removeCssVars_() {\n    const {strings} = MDCRippleFoundation;\n    Object.keys(strings).forEach((k) => {\n      if (k.indexOf('VAR_') === 0) {\n        this.adapter_.updateCssVariable(strings[k], null);\n      }\n    });\n  }\n\n  /**\n   * @param {!Event=} e\n   * @private\n   */\n  activate_(e) {\n    if (this.adapter_.isSurfaceDisabled()) {\n      return;\n    }\n\n    const activationState = this.activationState_;\n    if (activationState.isActivated) {\n      return;\n    }\n\n    // Avoid reacting to follow-on events fired by touch device after an already-processed user interaction\n    const previousActivationEvent = this.previousActivationEvent_;\n    const isSameInteraction = previousActivationEvent && e !== undefined && previousActivationEvent.type !== e.type;\n    if (isSameInteraction) {\n      return;\n    }\n\n    activationState.isActivated = true;\n    activationState.isProgrammatic = e === undefined;\n    activationState.activationEvent = e;\n    activationState.wasActivatedByPointer = activationState.isProgrammatic ? false : e !== undefined && (\n      e.type === 'mousedown' || e.type === 'touchstart' || e.type === 'pointerdown'\n    );\n\n    const hasActivatedChild = e !== undefined && activatedTargets.length > 0 && activatedTargets.some(\n      (target) => this.adapter_.containsEventTarget(target));\n    if (hasActivatedChild) {\n      // Immediately reset activation state, while preserving logic that prevents touch follow-on events\n      this.resetActivationState_();\n      return;\n    }\n\n    if (e !== undefined) {\n      activatedTargets.push(/** @type {!EventTarget} */ (e.target));\n      this.registerDeactivationHandlers_(e);\n    }\n\n    activationState.wasElementMadeActive = this.checkElementMadeActive_(e);\n    if (activationState.wasElementMadeActive) {\n      this.animateActivation_();\n    }\n\n    requestAnimationFrame(() => {\n      // Reset array on next frame after the current event has had a chance to bubble to prevent ancestor ripples\n      activatedTargets = [];\n\n      if (!activationState.wasElementMadeActive && e !== undefined && (e.key === ' ' || e.keyCode === 32)) {\n        // If space was pressed, try again within an rAF call to detect :active, because different UAs report\n        // active states inconsistently when they're called within event handling code:\n        // - https://bugs.chromium.org/p/chromium/issues/detail?id=635971\n        // - https://bugzilla.mozilla.org/show_bug.cgi?id=1293741\n        // We try first outside rAF to support Edge, which does not exhibit this problem, but will crash if a CSS\n        // variable is set within a rAF callback for a submit button interaction (#2241).\n        activationState.wasElementMadeActive = this.checkElementMadeActive_(e);\n        if (activationState.wasElementMadeActive) {\n          this.animateActivation_();\n        }\n      }\n\n      if (!activationState.wasElementMadeActive) {\n        // Reset activation state immediately if element was not made active.\n        this.activationState_ = this.defaultActivationState_();\n      }\n    });\n  }\n\n  /**\n   * @param {!Event=} e\n   * @private\n   */\n  checkElementMadeActive_(e) {\n    return (e !== undefined && e.type === 'keydown') ? this.adapter_.isSurfaceActive() : true;\n  }\n\n  /**\n   * @param {!Event=} event Optional event containing position information.\n   */\n  activate(event) {\n    this.activate_(event);\n  }\n\n  /** @private */\n  animateActivation_() {\n    const {VAR_FG_TRANSLATE_START, VAR_FG_TRANSLATE_END} = MDCRippleFoundation.strings;\n    const {FG_DEACTIVATION, FG_ACTIVATION} = MDCRippleFoundation.cssClasses;\n    const {DEACTIVATION_TIMEOUT_MS} = MDCRippleFoundation.numbers;\n\n    this.layoutInternal_();\n\n    let translateStart = '';\n    let translateEnd = '';\n\n    if (!this.adapter_.isUnbounded()) {\n      const {startPoint, endPoint} = this.getFgTranslationCoordinates_();\n      translateStart = `${startPoint.x}px, ${startPoint.y}px`;\n      translateEnd = `${endPoint.x}px, ${endPoint.y}px`;\n    }\n\n    this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_START, translateStart);\n    this.adapter_.updateCssVariable(VAR_FG_TRANSLATE_END, translateEnd);\n    // Cancel any ongoing activation/deactivation animations\n    clearTimeout(this.activationTimer_);\n    clearTimeout(this.fgDeactivationRemovalTimer_);\n    this.rmBoundedActivationClasses_();\n    this.adapter_.removeClass(FG_DEACTIVATION);\n\n    // Force layout in order to re-trigger the animation.\n    this.adapter_.computeBoundingRect();\n    this.adapter_.addClass(FG_ACTIVATION);\n    this.activationTimer_ = setTimeout(() => this.activationTimerCallback_(), DEACTIVATION_TIMEOUT_MS);\n  }\n\n  /**\n   * @private\n   * @return {{startPoint: PointType, endPoint: PointType}}\n   */\n  getFgTranslationCoordinates_() {\n    const {activationEvent, wasActivatedByPointer} = this.activationState_;\n\n    let startPoint;\n    if (wasActivatedByPointer) {\n      startPoint = getNormalizedEventCoords(\n        /** @type {!Event} */ (activationEvent),\n        this.adapter_.getWindowPageOffset(), this.adapter_.computeBoundingRect()\n      );\n    } else {\n      startPoint = {\n        x: this.frame_.width / 2,\n        y: this.frame_.height / 2,\n      };\n    }\n    // Center the element around the start point.\n    startPoint = {\n      x: startPoint.x - (this.initialSize_ / 2),\n      y: startPoint.y - (this.initialSize_ / 2),\n    };\n\n    const endPoint = {\n      x: (this.frame_.width / 2) - (this.initialSize_ / 2),\n      y: (this.frame_.height / 2) - (this.initialSize_ / 2),\n    };\n\n    return {startPoint, endPoint};\n  }\n\n  /** @private */\n  runDeactivationUXLogicIfReady_() {\n    // This method is called both when a pointing device is released, and when the activation animation ends.\n    // The deactivation animation should only run after both of those occur.\n    const {FG_DEACTIVATION} = MDCRippleFoundation.cssClasses;\n    const {hasDeactivationUXRun, isActivated} = this.activationState_;\n    const activationHasEnded = hasDeactivationUXRun || !isActivated;\n\n    if (activationHasEnded && this.activationAnimationHasEnded_) {\n      this.rmBoundedActivationClasses_();\n      this.adapter_.addClass(FG_DEACTIVATION);\n      this.fgDeactivationRemovalTimer_ = setTimeout(() => {\n        this.adapter_.removeClass(FG_DEACTIVATION);\n      }, numbers.FG_DEACTIVATION_MS);\n    }\n  }\n\n  /** @private */\n  rmBoundedActivationClasses_() {\n    const {FG_ACTIVATION} = MDCRippleFoundation.cssClasses;\n    this.adapter_.removeClass(FG_ACTIVATION);\n    this.activationAnimationHasEnded_ = false;\n    this.adapter_.computeBoundingRect();\n  }\n\n  resetActivationState_() {\n    this.previousActivationEvent_ = this.activationState_.activationEvent;\n    this.activationState_ = this.defaultActivationState_();\n    // Touch devices may fire additional events for the same interaction within a short time.\n    // Store the previous event until it's safe to assume that subsequent events are for new interactions.\n    setTimeout(() => this.previousActivationEvent_ = undefined, MDCRippleFoundation.numbers.TAP_DELAY_MS);\n  }\n\n  /**\n   * @private\n   */\n  deactivate_() {\n    const activationState = this.activationState_;\n    // This can happen in scenarios such as when you have a keyup event that blurs the element.\n    if (!activationState.isActivated) {\n      return;\n    }\n\n    const state = /** @type {!ActivationStateType} */ (Object.assign({}, activationState));\n\n    if (activationState.isProgrammatic) {\n      requestAnimationFrame(() => this.animateDeactivation_(state));\n      this.resetActivationState_();\n    } else {\n      this.deregisterDeactivationHandlers_();\n      requestAnimationFrame(() => {\n        this.activationState_.hasDeactivationUXRun = true;\n        this.animateDeactivation_(state);\n        this.resetActivationState_();\n      });\n    }\n  }\n\n  deactivate() {\n    this.deactivate_();\n  }\n\n  /**\n   * @param {!ActivationStateType} options\n   * @private\n   */\n  animateDeactivation_({wasActivatedByPointer, wasElementMadeActive}) {\n    if (wasActivatedByPointer || wasElementMadeActive) {\n      this.runDeactivationUXLogicIfReady_();\n    }\n  }\n\n  layout() {\n    if (this.layoutFrame_) {\n      cancelAnimationFrame(this.layoutFrame_);\n    }\n    this.layoutFrame_ = requestAnimationFrame(() => {\n      this.layoutInternal_();\n      this.layoutFrame_ = 0;\n    });\n  }\n\n  /** @private */\n  layoutInternal_() {\n    this.frame_ = this.adapter_.computeBoundingRect();\n    const maxDim = Math.max(this.frame_.height, this.frame_.width);\n\n    // Surface diameter is treated differently for unbounded vs. bounded ripples.\n    // Unbounded ripple diameter is calculated smaller since the surface is expected to already be padded appropriately\n    // to extend the hitbox, and the ripple is expected to meet the edges of the padded hitbox (which is typically\n    // square). Bounded ripples, on the other hand, are fully expected to expand beyond the surface's longest diameter\n    // (calculated based on the diagonal plus a constant padding), and are clipped at the surface's border via\n    // `overflow: hidden`.\n    const getBoundedRadius = () => {\n      const hypotenuse = Math.sqrt(Math.pow(this.frame_.width, 2) + Math.pow(this.frame_.height, 2));\n      return hypotenuse + MDCRippleFoundation.numbers.PADDING;\n    };\n\n    this.maxRadius_ = this.adapter_.isUnbounded() ? maxDim : getBoundedRadius();\n\n    // Ripple is sized as a fraction of the largest dimension of the surface, then scales up using a CSS scale transform\n    this.initialSize_ = Math.floor(maxDim * MDCRippleFoundation.numbers.INITIAL_ORIGIN_SCALE);\n    this.fgScale_ = this.maxRadius_ / this.initialSize_;\n\n    this.updateLayoutCssVars_();\n  }\n\n  /** @private */\n  updateLayoutCssVars_() {\n    const {\n      VAR_FG_SIZE, VAR_LEFT, VAR_TOP, VAR_FG_SCALE,\n    } = MDCRippleFoundation.strings;\n\n    this.adapter_.updateCssVariable(VAR_FG_SIZE, `${this.initialSize_}px`);\n    this.adapter_.updateCssVariable(VAR_FG_SCALE, this.fgScale_);\n\n    if (this.adapter_.isUnbounded()) {\n      this.unboundedCoords_ = {\n        left: Math.round((this.frame_.width / 2) - (this.initialSize_ / 2)),\n        top: Math.round((this.frame_.height / 2) - (this.initialSize_ / 2)),\n      };\n\n      this.adapter_.updateCssVariable(VAR_LEFT, `${this.unboundedCoords_.left}px`);\n      this.adapter_.updateCssVariable(VAR_TOP, `${this.unboundedCoords_.top}px`);\n    }\n  }\n\n  /** @param {boolean} unbounded */\n  setUnbounded(unbounded) {\n    const {UNBOUNDED} = MDCRippleFoundation.cssClasses;\n    if (unbounded) {\n      this.adapter_.addClass(UNBOUNDED);\n    } else {\n      this.adapter_.removeClass(UNBOUNDED);\n    }\n  }\n\n  handleFocus() {\n    requestAnimationFrame(() =>\n      this.adapter_.addClass(MDCRippleFoundation.cssClasses.BG_FOCUSED));\n  }\n\n  handleBlur() {\n    requestAnimationFrame(() =>\n      this.adapter_.removeClass(MDCRippleFoundation.cssClasses.BG_FOCUSED));\n  }\n}\n\nexport default MDCRippleFoundation;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * Stores result from supportsCssVariables to avoid redundant processing to detect CSS custom variable support.\n * @private {boolean|undefined}\n */\nlet supportsCssVariables_;\n\n/**\n * Stores result from applyPassive to avoid redundant processing to detect passive event listener support.\n * @private {boolean|undefined}\n */\nlet supportsPassive_;\n\n/**\n * @param {!Window} windowObj\n * @return {boolean}\n */\nfunction detectEdgePseudoVarBug(windowObj) {\n  // Detect versions of Edge with buggy var() support\n  // See: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11495448/\n  const document = windowObj.document;\n  const node = document.createElement('div');\n  node.className = 'mdc-ripple-surface--test-edge-var-bug';\n  document.body.appendChild(node);\n\n  // The bug exists if ::before style ends up propagating to the parent element.\n  // Additionally, getComputedStyle returns null in iframes with display: \"none\" in Firefox,\n  // but Firefox is known to support CSS custom properties correctly.\n  // See: https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n  const computedStyle = windowObj.getComputedStyle(node);\n  const hasPseudoVarBug = computedStyle !== null && computedStyle.borderTopStyle === 'solid';\n  node.remove();\n  return hasPseudoVarBug;\n}\n\n/**\n * @param {!Window} windowObj\n * @param {boolean=} forceRefresh\n * @return {boolean|undefined}\n */\n\nfunction supportsCssVariables(windowObj, forceRefresh = false) {\n  let supportsCssVariables = supportsCssVariables_;\n  if (typeof supportsCssVariables_ === 'boolean' && !forceRefresh) {\n    return supportsCssVariables;\n  }\n\n  const supportsFunctionPresent = windowObj.CSS && typeof windowObj.CSS.supports === 'function';\n  if (!supportsFunctionPresent) {\n    return;\n  }\n\n  const explicitlySupportsCssVars = windowObj.CSS.supports('--css-vars', 'yes');\n  // See: https://bugs.webkit.org/show_bug.cgi?id=154669\n  // See: README section on Safari\n  const weAreFeatureDetectingSafari10plus = (\n    windowObj.CSS.supports('(--css-vars: yes)') &&\n    windowObj.CSS.supports('color', '#00000000')\n  );\n\n  if (explicitlySupportsCssVars || weAreFeatureDetectingSafari10plus) {\n    supportsCssVariables = !detectEdgePseudoVarBug(windowObj);\n  } else {\n    supportsCssVariables = false;\n  }\n\n  if (!forceRefresh) {\n    supportsCssVariables_ = supportsCssVariables;\n  }\n  return supportsCssVariables;\n}\n\n//\n/**\n * Determine whether the current browser supports passive event listeners, and if so, use them.\n * @param {!Window=} globalObj\n * @param {boolean=} forceRefresh\n * @return {boolean|!EventListenerOptions}\n */\nfunction applyPassive(globalObj = window, forceRefresh = false) {\n  if (supportsPassive_ === undefined || forceRefresh) {\n    let isSupported = false;\n    try {\n      globalObj.document.addEventListener('test', null, {get passive() {\n        isSupported = true;\n        return isSupported;\n      }});\n    } catch (e) { }\n\n    supportsPassive_ = isSupported;\n  }\n\n  return supportsPassive_\n    ? /** @type {!EventListenerOptions} */ ({passive: true})\n    : false;\n}\n\n/**\n * @param {!Object} HTMLElementPrototype\n * @return {string}\n */\nfunction getMatchesProperty(HTMLElementPrototype) {\n  /**\n   * Order is important because we return the first existing method we find.\n   * Do not change the order of the items in the below array.\n   */\n  const matchesMethods = ['matches', 'webkitMatchesSelector', 'msMatchesSelector'];\n  let method = 'matches';\n  for (let i = 0; i < matchesMethods.length; i++) {\n    const matchesMethod = matchesMethods[i];\n    if (matchesMethod in HTMLElementPrototype) {\n      method = matchesMethod;\n      break;\n    }\n  }\n\n  return method;\n}\n\n/**\n * @param {!Event} ev\n * @param {{x: number, y: number}} pageOffset\n * @param {!ClientRect} clientRect\n * @return {{x: number, y: number}}\n */\nfunction getNormalizedEventCoords(ev, pageOffset, clientRect) {\n  const {x, y} = pageOffset;\n  const documentX = x + clientRect.left;\n  const documentY = y + clientRect.top;\n\n  let normalizedX;\n  let normalizedY;\n  // Determine touch point relative to the ripple container.\n  if (ev.type === 'touchstart') {\n    ev = /** @type {!TouchEvent} */ (ev);\n    normalizedX = ev.changedTouches[0].pageX - documentX;\n    normalizedY = ev.changedTouches[0].pageY - documentY;\n  } else {\n    ev = /** @type {!MouseEvent} */ (ev);\n    normalizedX = ev.pageX - documentX;\n    normalizedY = ev.pageY - documentY;\n  }\n\n  return {x: normalizedX, y: normalizedY};\n}\n\nexport {supportsCssVariables, applyPassive, getMatchesProperty, getNormalizedEventCoords};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nconst cssClasses = {\n  // Ripple is a special case where the \"root\" component is really a \"mixin\" of sorts,\n  // given that it's an 'upgrade' to an existing component. That being said it is the root\n  // CSS class that all other CSS classes derive from.\n  ROOT: 'mdc-ripple-upgraded',\n  UNBOUNDED: 'mdc-ripple-upgraded--unbounded',\n  BG_FOCUSED: 'mdc-ripple-upgraded--background-focused',\n  FG_ACTIVATION: 'mdc-ripple-upgraded--foreground-activation',\n  FG_DEACTIVATION: 'mdc-ripple-upgraded--foreground-deactivation',\n};\n\nconst strings = {\n  VAR_LEFT: '--mdc-ripple-left',\n  VAR_TOP: '--mdc-ripple-top',\n  VAR_FG_SIZE: '--mdc-ripple-fg-size',\n  VAR_FG_SCALE: '--mdc-ripple-fg-scale',\n  VAR_FG_TRANSLATE_START: '--mdc-ripple-fg-translate-start',\n  VAR_FG_TRANSLATE_END: '--mdc-ripple-fg-translate-end',\n};\n\nconst numbers = {\n  PADDING: 10,\n  INITIAL_ORIGIN_SCALE: 0.6,\n  DEACTIVATION_TIMEOUT_MS: 225, // Corresponds to $mdc-ripple-translate-duration (i.e. activation animation duration)\n  FG_DEACTIVATION_MS: 150, // Corresponds to $mdc-ripple-fade-out-duration (i.e. deactivation animation duration)\n  TAP_DELAY_MS: 300, // Delay between touch and simulated mouse events on touch devices\n};\n\nexport {cssClasses, strings, numbers};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDC Ripple. Provides an interface for managing\n * - classes\n * - dom\n * - CSS variables\n * - position\n * - dimensions\n * - scroll position\n * - event handlers\n * - unbounded, active and disabled states\n *\n * Additionally, provides type information for the adapter to the Closure\n * compiler.\n *\n * Implement this adapter for your framework of choice to delegate updates to\n * the component in your framework of choice. See architecture documentation\n * for more details.\n * https://github.com/material-components/material-components-web/blob/master/docs/code/architecture.md\n *\n * @record\n */\nclass MDCRippleAdapter {\n  /** @return {boolean} */\n  browserSupportsCssVars() {}\n\n  /** @return {boolean} */\n  isUnbounded() {}\n\n  /** @return {boolean} */\n  isSurfaceActive() {}\n\n  /** @return {boolean} */\n  isSurfaceDisabled() {}\n\n  /** @param {string} className */\n  addClass(className) {}\n\n  /** @param {string} className */\n  removeClass(className) {}\n\n  /** @param {!EventTarget} target */\n  containsEventTarget(target) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  registerInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  deregisterInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  registerDocumentInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  deregisterDocumentInteractionHandler(evtType, handler) {}\n\n  /**\n   * @param {!Function} handler\n   */\n  registerResizeHandler(handler) {}\n\n  /**\n   * @param {!Function} handler\n   */\n  deregisterResizeHandler(handler) {}\n\n  /**\n   * @param {string} varName\n   * @param {?number|string} value\n   */\n  updateCssVariable(varName, value) {}\n\n  /** @return {!ClientRect} */\n  computeBoundingRect() {}\n\n  /** @return {{x: number, y: number}} */\n  getWindowPageOffset() {}\n}\n\nexport default MDCRippleAdapter;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCFoundation from './foundation';\n\n/**\n * @template F\n */\nclass MDCComponent {\n  /**\n   * @param {!Element} root\n   * @return {!MDCComponent}\n   */\n  static attachTo(root) {\n    // Subclasses which extend MDCBase should provide an attachTo() method that takes a root element and\n    // returns an instantiated component with its root set to that element. Also note that in the cases of\n    // subclasses, an explicit foundation class will not have to be passed in; it will simply be initialized\n    // from getDefaultFoundation().\n    return new MDCComponent(root, new MDCFoundation());\n  }\n\n  /**\n   * @param {!Element} root\n   * @param {F=} foundation\n   * @param {...?} args\n   */\n  constructor(root, foundation = undefined, ...args) {\n    /** @protected {!Element} */\n    this.root_ = root;\n    this.initialize(...args);\n    // Note that we initialize foundation here and not within the constructor's default param so that\n    // this.root_ is defined and can be used within the foundation class.\n    /** @protected {!F} */\n    this.foundation_ = foundation === undefined ? this.getDefaultFoundation() : foundation;\n    this.foundation_.init();\n    this.initialSyncWithDOM();\n  }\n\n  initialize(/* ...args */) {\n    // Subclasses can override this to do any additional setup work that would be considered part of a\n    // \"constructor\". Essentially, it is a hook into the parent constructor before the foundation is\n    // initialized. Any additional arguments besides root and foundation will be passed in here.\n  }\n\n  /**\n   * @return {!F} foundation\n   */\n  getDefaultFoundation() {\n    // Subclasses must override this method to return a properly configured foundation class for the\n    // component.\n    throw new Error('Subclasses must override getDefaultFoundation to return a properly configured ' +\n      'foundation class');\n  }\n\n  initialSyncWithDOM() {\n    // Subclasses should override this method if they need to perform work to synchronize with a host DOM\n    // object. An example of this would be a form control wrapper that needs to synchronize its internal state\n    // to some property or attribute of the host DOM. Please note: this is *not* the place to perform DOM\n    // reads/writes that would cause layout / paint, as this is called synchronously from within the constructor.\n  }\n\n  destroy() {\n    // Subclasses may implement this method to release any resources / deregister any listeners they have\n    // attached. An example of this might be deregistering a resize event from the window object.\n    this.foundation_.destroy();\n  }\n\n  /**\n   * Wrapper method to add an event listener to the component's root element. This is most useful when\n   * listening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  listen(evtType, handler) {\n    this.root_.addEventListener(evtType, handler);\n  }\n\n  /**\n   * Wrapper method to remove an event listener to the component's root element. This is most useful when\n   * unlistening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  unlisten(evtType, handler) {\n    this.root_.removeEventListener(evtType, handler);\n  }\n\n  /**\n   * Fires a cross-browser-compatible custom event from the component root of the given type,\n   * with the given data.\n   * @param {string} evtType\n   * @param {!Object} evtData\n   * @param {boolean=} shouldBubble\n   */\n  emit(evtType, evtData, shouldBubble = false) {\n    let evt;\n    if (typeof CustomEvent === 'function') {\n      evt = new CustomEvent(evtType, {\n        detail: evtData,\n        bubbles: shouldBubble,\n      });\n    } else {\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(evtType, shouldBubble, false, evtData);\n    }\n\n    this.root_.dispatchEvent(evt);\n  }\n}\n\nexport default MDCComponent;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * @template A\n */\nclass MDCFoundation {\n  /** @return enum{cssClasses} */\n  static get cssClasses() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports every\n    // CSS class the foundation class needs as a property. e.g. {ACTIVE: 'mdc-component--active'}\n    return {};\n  }\n\n  /** @return enum{strings} */\n  static get strings() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // semantic strings as constants. e.g. {ARIA_ROLE: 'tablist'}\n    return {};\n  }\n\n  /** @return enum{numbers} */\n  static get numbers() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // of its semantic numbers as constants. e.g. {ANIMATION_DELAY_MS: 350}\n    return {};\n  }\n\n  /** @return {!Object} */\n  static get defaultAdapter() {\n    // Classes extending MDCFoundation may choose to implement this getter in order to provide a convenient\n    // way of viewing the necessary methods of an adapter. In the future, this could also be used for adapter\n    // validation.\n    return {};\n  }\n\n  /**\n   * @param {A=} adapter\n   */\n  constructor(adapter = {}) {\n    /** @protected {!A} */\n    this.adapter_ = adapter;\n  }\n\n  init() {\n    // Subclasses should override this method to perform initialization routines (registering events, etc.)\n  }\n\n  destroy() {\n    // Subclasses should override this method to perform de-initialization routines (de-registering events, etc.)\n  }\n}\n\nexport default MDCFoundation;\n","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * @fileoverview A \"ponyfill\" is a polyfill that doesn't modify the global prototype chain.\n * This makes ponyfills safer than traditional polyfills, especially for libraries like MDC.\n */\n\n/**\n * @param {!Element} element\n * @param {string} selector\n * @return {?Element}\n */\nfunction closest(element, selector) {\n  if (element.closest) {\n    return element.closest(selector);\n  }\n\n  let el = element;\n  while (el) {\n    if (matches(el, selector)) {\n      return el;\n    }\n    el = el.parentElement;\n  }\n  return null;\n}\n\n/**\n * @param {!Element} element\n * @param {string} selector\n * @return {boolean}\n */\nfunction matches(element, selector) {\n  const nativeMatches = element.matches\n    || element.webkitMatchesSelector\n    || element.msMatchesSelector;\n  return nativeMatches.call(element, selector);\n}\n\nexport {closest, matches};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nconst cssClasses = {\n  OPEN: 'mdc-dialog--open',\n  OPENING: 'mdc-dialog--opening',\n  CLOSING: 'mdc-dialog--closing',\n  SCROLLABLE: 'mdc-dialog--scrollable',\n  STACKED: 'mdc-dialog--stacked',\n  SCROLL_LOCK: 'mdc-dialog-scroll-lock',\n};\n\nconst strings = {\n  SCRIM_SELECTOR: '.mdc-dialog__scrim',\n  CONTAINER_SELECTOR: '.mdc-dialog__container',\n  SURFACE_SELECTOR: '.mdc-dialog__surface',\n  CONTENT_SELECTOR: '.mdc-dialog__content',\n  BUTTON_SELECTOR: '.mdc-dialog__button',\n  DEFAULT_BUTTON_SELECTOR: '.mdc-dialog__button--default',\n  SUPPRESS_DEFAULT_PRESS_SELECTOR: [\n    'textarea',\n    '.mdc-menu .mdc-list-item',\n  ].join(', '),\n\n  OPENING_EVENT: 'MDCDialog:opening',\n  OPENED_EVENT: 'MDCDialog:opened',\n  CLOSING_EVENT: 'MDCDialog:closing',\n  CLOSED_EVENT: 'MDCDialog:closed',\n\n  ACTION_ATTRIBUTE: 'data-mdc-dialog-action',\n\n  CLOSE_ACTION: 'close',\n  DESTROY_ACTION: 'destroy',\n};\n\nconst numbers = {\n  DIALOG_ANIMATION_OPEN_TIME_MS: 150,\n  DIALOG_ANIMATION_CLOSE_TIME_MS: 75,\n};\n\nexport {cssClasses, strings, numbers};\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport createFocusTrap from 'focus-trap';\n\n/**\n * @param {!Element} surfaceEl\n * @param {?Element=} initialFocusEl\n * @param {function(!Element, !FocusTrapCreateOptions): !FocusTrapInstance} focusTrapFactory\n * @return {!FocusTrapInstance}\n */\nfunction createFocusTrapInstance(surfaceEl, focusTrapFactory = createFocusTrap, initialFocusEl = null) {\n  return focusTrapFactory(surfaceEl, {\n    initialFocus: initialFocusEl,\n    escapeDeactivates: false, // Dialog foundation handles escape key\n    clickOutsideDeactivates: true, // Allow handling of scrim clicks\n  });\n}\n\n/**\n * @param {!Element} el\n * @return {boolean}\n */\nfunction isScrollable(el) {\n  return el.scrollHeight > el.offsetHeight;\n}\n\n/**\n * @param {!Array<!Element>|!NodeList} els\n * @return {boolean}\n */\nfunction areTopsMisaligned(els) {\n  const tops = new Set();\n  [].forEach.call(els, (el) => tops.add(el.offsetTop));\n  return tops.size > 1;\n}\n\nexport {createFocusTrapInstance, isScrollable, areTopsMisaligned};\n","import { Observable, Subject } from 'rxjs';\r\nimport { OverlayRef } from '@angular-mdc/web/overlay';\r\n\r\nimport { MdcDialogPortal } from './dialog-portal';\r\n\r\n/** Unique id for the created dialog. */\r\nlet uniqueId = 0;\r\n\r\n/**  Reference to a dialog dispatched from the MdcDialog service. */\r\nexport class MdcDialogRef<T, R = any> {\r\n  /** The instance of the component in the dialog. */\r\n  componentInstance!: T;\r\n\r\n  /** Subject for notifying the user that the dialog has finished opening. */\r\n  private readonly _afterOpened = new Subject<void>();\r\n\r\n  /** Subject for notifying the user that the dialog has started closing. */\r\n  private readonly _beforeClosed = new Subject<R | undefined>();\r\n\r\n  /** Subject for notifying the user that the dialog has finished closing. */\r\n  private readonly _afterClosed = new Subject<R | undefined>();\r\n\r\n  /** Result to be passed to afterClosed. */\r\n  private _result: R | undefined;\r\n\r\n  constructor(\r\n    private _overlayRef: OverlayRef,\r\n    public _portalInstance: MdcDialogPortal,\r\n    readonly id: string = `mdc-dialog-${uniqueId++}`) {\r\n\r\n    // Pass the id along to the portal.\r\n    _portalInstance._id = id;\r\n\r\n    _overlayRef.detachments().subscribe(() => {\r\n      this._beforeClosed.next(this._result);\r\n      this._beforeClosed.complete();\r\n      this._afterClosed.next(this._result);\r\n      this._afterClosed.complete();\r\n      this.componentInstance = null!;\r\n      this._overlayRef.dispose();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Close the dialog.\r\n   * @param dialogResult Optional result to return to the dialog opener.\r\n   */\r\n  close(dialogResult?: R): void {\r\n    this._result = dialogResult;\r\n    this._overlayRef.dispose();\r\n  }\r\n\r\n  /** Marks the dialog as opened. */\r\n  opened(): void {\r\n    if (!this._afterOpened.closed) {\r\n      this._afterOpened.next();\r\n      this._afterOpened.complete();\r\n    }\r\n  }\r\n\r\n  /** Gets an observable that is notified when the dialog is finished opening. */\r\n  afterOpened(): Observable<void> {\r\n    return this._afterOpened.asObservable();\r\n  }\r\n\r\n  /** Gets an observable that is notified when the dialog has started closing. */\r\n  beforeClosed(): Observable<R | undefined> {\r\n    return this._beforeClosed.asObservable();\r\n  }\r\n\r\n  /** Gets an observable that is notified when the dialog is finished closing. */\r\n  afterClosed(): Observable<R | undefined> {\r\n    return this._afterClosed.asObservable();\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  Directive,\r\n  ElementRef,\r\n  Input,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { MdcButton } from '@angular-mdc/web/button';\r\nimport { toBoolean } from '@angular-mdc/web/common';\r\nimport { MdcRipple } from '@angular-mdc/web/ripple';\r\n\r\n@Directive({ selector: '[mdcDialogAction]' })\r\nexport class MdcDialogAction {\r\n  @Input('mdcDialogAction')\r\n  get action(): string { return this._action; }\r\n  set action(action: string) {\r\n    // If the directive is set without a name (updated programatically), then this setter will\r\n    // trigger with an empty string and should not overwrite the programatically set value.\r\n    if (!action) { return; }\r\n\r\n    this._action = action;\r\n    this.elementRef.nativeElement.setAttribute('data-mdc-dialog-action', this._action);\r\n  }\r\n  private _action: string = '';\r\n\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: 'mdc-dialog-scrim',\r\n  host: { 'class': 'mdc-dialog__scrim' }\r\n})\r\nexport class MdcDialogScrim {\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: '[mdcDialogContainer], mdc-dialog-container',\r\n  host: { 'class': 'mdc-dialog__container' }\r\n})\r\nexport class MdcDialogContainer {\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: '[mdcDialogSurface], mdc-dialog-surface',\r\n  host: { 'class': 'mdc-dialog__surface' }\r\n})\r\nexport class MdcDialogSurface {\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: '[mdcDialogTitle], mdc-dialog-title',\r\n  host: { 'class': 'mdc-dialog__title' }\r\n})\r\nexport class MdcDialogTitle {\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Directive({\r\n  selector: '[mdcDialogContent], mdc-dialog-content',\r\n  host: { 'class': 'mdc-dialog__content' }\r\n})\r\nexport class MdcDialogContent {\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'mdc-dialog-actions, [mdcDialogActions]',\r\n  template: '<ng-content></ng-content>',\r\n  exportAs: 'mdcDialogActions',\r\n  host: {\r\n    'class': 'mdc-dialog__actions',\r\n    '[class.mdc-dialog--stacked]': 'stacked'\r\n  },\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class MdcDialogActions {\r\n  @Input()\r\n  get stacked(): boolean { return this._stacked; }\r\n  set stacked(value: boolean) {\r\n    this._stacked = toBoolean(value);\r\n  }\r\n  private _stacked: boolean = false;\r\n\r\n  constructor(public elementRef: ElementRef<HTMLElement>) { }\r\n}\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: '[mdcDialogButton]',\r\n  exportAs: 'mdcDialogButton',\r\n  host: {\r\n    'class': 'mdc-dialog__button',\r\n    '[class.mdc-button]': 'true',\r\n    '[class.mdc-dialog__button--default]': 'default'\r\n  },\r\n  template: '<ng-content></ng-content>',\r\n  providers: [MdcRipple],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class MdcDialogButton extends MdcButton {\r\n  @Input()\r\n  get default(): boolean { return this._default; }\r\n  set default(value: boolean) {\r\n    this._default = toBoolean(value);\r\n  }\r\n  private _default: boolean = false;\r\n}\r\n","var tabbable = require('tabbable');\nvar xtend = require('xtend');\n\nvar activeFocusTraps = (function() {\n  var trapQueue = [];\n  return {\n    activateTrap: function(trap) {\n      if (trapQueue.length > 0) {\n        var activeTrap = trapQueue[trapQueue.length - 1];\n        if (activeTrap !== trap) {\n          activeTrap.pause();\n        }\n      }\n\n      var trapIndex = trapQueue.indexOf(trap);\n      if (trapIndex === -1) {\n        trapQueue.push(trap);\n      } else {\n        // move this existing trap to the front of the queue\n        trapQueue.splice(trapIndex, 1);\n        trapQueue.push(trap);\n      }\n    },\n\n    deactivateTrap: function(trap) {\n      var trapIndex = trapQueue.indexOf(trap);\n      if (trapIndex !== -1) {\n        trapQueue.splice(trapIndex, 1);\n      }\n\n      if (trapQueue.length > 0) {\n        trapQueue[trapQueue.length - 1].unpause();\n      }\n    }\n  };\n})();\n\nfunction focusTrap(element, userOptions) {\n  var doc = document;\n  var container =\n    typeof element === 'string' ? doc.querySelector(element) : element;\n\n  var config = xtend(\n    {\n      returnFocusOnDeactivate: true,\n      escapeDeactivates: true\n    },\n    userOptions\n  );\n\n  var state = {\n    firstTabbableNode: null,\n    lastTabbableNode: null,\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false\n  };\n\n  var trap = {\n    activate: activate,\n    deactivate: deactivate,\n    pause: pause,\n    unpause: unpause\n  };\n\n  return trap;\n\n  function activate(activateOptions) {\n    if (state.active) return;\n\n    updateTabbableNodes();\n\n    state.active = true;\n    state.paused = false;\n    state.nodeFocusedBeforeActivation = doc.activeElement;\n\n    var onActivate =\n      activateOptions && activateOptions.onActivate\n        ? activateOptions.onActivate\n        : config.onActivate;\n    if (onActivate) {\n      onActivate();\n    }\n\n    addListeners();\n    return trap;\n  }\n\n  function deactivate(deactivateOptions) {\n    if (!state.active) return;\n\n    removeListeners();\n    state.active = false;\n    state.paused = false;\n\n    activeFocusTraps.deactivateTrap(trap);\n\n    var onDeactivate =\n      deactivateOptions && deactivateOptions.onDeactivate !== undefined\n        ? deactivateOptions.onDeactivate\n        : config.onDeactivate;\n    if (onDeactivate) {\n      onDeactivate();\n    }\n\n    var returnFocus =\n      deactivateOptions && deactivateOptions.returnFocus !== undefined\n        ? deactivateOptions.returnFocus\n        : config.returnFocusOnDeactivate;\n    if (returnFocus) {\n      delay(function() {\n        tryFocus(state.nodeFocusedBeforeActivation);\n      });\n    }\n\n    return trap;\n  }\n\n  function pause() {\n    if (state.paused || !state.active) return;\n    state.paused = true;\n    removeListeners();\n  }\n\n  function unpause() {\n    if (!state.paused || !state.active) return;\n    state.paused = false;\n    addListeners();\n  }\n\n  function addListeners() {\n    if (!state.active) return;\n\n    // There can be only one listening focus trap at a time\n    activeFocusTraps.activateTrap(trap);\n\n    updateTabbableNodes();\n\n    // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n    delay(function() {\n      tryFocus(getInitialFocusNode());\n    });\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, true);\n    doc.addEventListener('touchstart', checkPointerDown, true);\n    doc.addEventListener('click', checkClick, true);\n    doc.addEventListener('keydown', checkKey, true);\n\n    return trap;\n  }\n\n  function removeListeners() {\n    if (!state.active) return;\n\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n\n    return trap;\n  }\n\n  function getNodeForOption(optionName) {\n    var optionValue = config[optionName];\n    var node = optionValue;\n    if (!optionValue) {\n      return null;\n    }\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue);\n      if (!node) {\n        throw new Error('`' + optionName + '` refers to no known node');\n      }\n    }\n    if (typeof optionValue === 'function') {\n      node = optionValue();\n      if (!node) {\n        throw new Error('`' + optionName + '` did not return a node');\n      }\n    }\n    return node;\n  }\n\n  function getInitialFocusNode() {\n    var node;\n    if (getNodeForOption('initialFocus') !== null) {\n      node = getNodeForOption('initialFocus');\n    } else if (container.contains(doc.activeElement)) {\n      node = doc.activeElement;\n    } else {\n      node = state.firstTabbableNode || getNodeForOption('fallbackFocus');\n    }\n\n    if (!node) {\n      throw new Error(\n        \"You can't have a focus-trap without at least one focusable element\"\n      );\n    }\n\n    return node;\n  }\n\n  // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n  function checkPointerDown(e) {\n    if (container.contains(e.target)) return;\n    if (config.clickOutsideDeactivates) {\n      deactivate({\n        returnFocus: !tabbable.isFocusable(e.target)\n      });\n    } else {\n      e.preventDefault();\n    }\n  }\n\n  // In case focus escapes the trap for some strange reason, pull it back in.\n  function checkFocusIn(e) {\n    // In Firefox when you Tab out of an iframe the Document is briefly focused.\n    if (container.contains(e.target) || e.target instanceof Document) {\n      return;\n    }\n    e.stopImmediatePropagation();\n    tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n  }\n\n  function checkKey(e) {\n    if (config.escapeDeactivates !== false && isEscapeEvent(e)) {\n      e.preventDefault();\n      deactivate();\n      return;\n    }\n    if (isTabEvent(e)) {\n      checkTab(e);\n      return;\n    }\n  }\n\n  // Hijack Tab events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n  function checkTab(e) {\n    updateTabbableNodes();\n    if (e.shiftKey && e.target === state.firstTabbableNode) {\n      e.preventDefault();\n      tryFocus(state.lastTabbableNode);\n      return;\n    }\n    if (!e.shiftKey && e.target === state.lastTabbableNode) {\n      e.preventDefault();\n      tryFocus(state.firstTabbableNode);\n      return;\n    }\n  }\n\n  function checkClick(e) {\n    if (config.clickOutsideDeactivates) return;\n    if (container.contains(e.target)) return;\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  }\n\n  function updateTabbableNodes() {\n    var tabbableNodes = tabbable(container);\n    state.firstTabbableNode = tabbableNodes[0] || getInitialFocusNode();\n    state.lastTabbableNode =\n      tabbableNodes[tabbableNodes.length - 1] || getInitialFocusNode();\n  }\n\n  function tryFocus(node) {\n    if (node === doc.activeElement) return;\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n\n    node.focus();\n    state.mostRecentlyFocusedNode = node;\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  }\n}\n\nfunction isSelectableInput(node) {\n  return (\n    node.tagName &&\n    node.tagName.toLowerCase() === 'input' &&\n    typeof node.select === 'function'\n  );\n}\n\nfunction isEscapeEvent(e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n}\n\nfunction isTabEvent(e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n}\n\nfunction delay(fn) {\n  return setTimeout(fn, 0);\n}\n\nmodule.exports = focusTrap;\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","var candidateSelectors = [\n  'input',\n  'select',\n  'textarea',\n  'a[href]',\n  'button',\n  '[tabindex]',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]:not([contenteditable=\"false\"])',\n];\nvar candidateSelector = candidateSelectors.join(',');\n\nvar matches = typeof Element === 'undefined'\n  ? function () {}\n  : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\nfunction tabbable(el, options) {\n  options = options || {};\n\n  var elementDocument = el.ownerDocument || el;\n  var regularTabbables = [];\n  var orderedTabbables = [];\n\n  var untouchabilityChecker = new UntouchabilityChecker(elementDocument);\n  var candidates = el.querySelectorAll(candidateSelector);\n\n  if (options.includeContainer) {\n    if (matches.call(el, candidateSelector)) {\n      candidates = Array.prototype.slice.apply(candidates);\n      candidates.unshift(el);\n    }\n  }\n\n  var i, candidate, candidateTabindex;\n  for (i = 0; i < candidates.length; i++) {\n    candidate = candidates[i];\n\n    if (!isNodeMatchingSelectorTabbable(candidate, untouchabilityChecker)) continue;\n\n    candidateTabindex = getTabindex(candidate);\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate,\n      });\n    }\n  }\n\n  var tabbableNodes = orderedTabbables\n    .sort(sortOrderedTabbables)\n    .map(function(a) { return a.node })\n    .concat(regularTabbables);\n\n  return tabbableNodes;\n}\n\ntabbable.isTabbable = isTabbable;\ntabbable.isFocusable = isFocusable;\n\nfunction isNodeMatchingSelectorTabbable(node, untouchabilityChecker) {\n  if (\n    !isNodeMatchingSelectorFocusable(node, untouchabilityChecker)\n    || isNonTabbableRadio(node)\n    || getTabindex(node) < 0\n  ) {\n    return false;\n  }\n  return true;\n}\n\nfunction isTabbable(node, untouchabilityChecker) {\n  if (!node) throw new Error('No node provided');\n  if (matches.call(node, candidateSelector) === false) return false;\n  return isNodeMatchingSelectorTabbable(node, untouchabilityChecker);\n}\n\nfunction isNodeMatchingSelectorFocusable(node, untouchabilityChecker) {\n  untouchabilityChecker = untouchabilityChecker || new UntouchabilityChecker(node.ownerDocument || node);\n  if (\n    node.disabled\n    || isHiddenInput(node)\n    || untouchabilityChecker.isUntouchable(node)\n  ) {\n    return false;\n  }\n  return true;\n}\n\nvar focusableCandidateSelector = candidateSelectors.concat('iframe').join(',');\nfunction isFocusable(node, untouchabilityChecker) {\n  if (!node) throw new Error('No node provided');\n  if (matches.call(node, focusableCandidateSelector) === false) return false;\n  return isNodeMatchingSelectorFocusable(node, untouchabilityChecker);\n}\n\nfunction getTabindex(node) {\n  var tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n  if (!isNaN(tabindexAttr)) return tabindexAttr;\n  // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n  if (isContentEditable(node)) return 0;\n  return node.tabIndex;\n}\n\nfunction sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n}\n\n// Array.prototype.find not available in IE.\nfunction find(list, predicate) {\n  for (var i = 0, length = list.length; i < length; i++) {\n    if (predicate(list[i])) return list[i];\n  }\n}\n\nfunction isContentEditable(node) {\n  return node.contentEditable === 'true';\n}\n\nfunction isInput(node) {\n  return node.tagName === 'INPUT';\n}\n\nfunction isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n}\n\nfunction isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n}\n\nfunction isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n}\n\nfunction getCheckedRadio(nodes) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked) {\n      return nodes[i];\n    }\n  }\n}\n\nfunction isTabbableRadio(node) {\n  if (!node.name) return true;\n  // This won't account for the edge case where you have radio groups with the same\n  // in separate forms on the same page.\n  var radioSet = node.ownerDocument.querySelectorAll('input[type=\"radio\"][name=\"' + node.name + '\"]');\n  var checked = getCheckedRadio(radioSet);\n  return !checked || checked === node;\n}\n\n// An element is \"untouchable\" if *it or one of its ancestors* has\n// `visibility: hidden` or `display: none`.\nfunction UntouchabilityChecker(elementDocument) {\n  this.doc = elementDocument;\n  // Node cache must be refreshed on every check, in case\n  // the content of the element has changed. The cache contains tuples\n  // mapping nodes to their boolean result.\n  this.cache = [];\n}\n\n// getComputedStyle accurately reflects `visibility: hidden` of ancestors\n// but not `display: none`, so we need to recursively check parents.\nUntouchabilityChecker.prototype.hasDisplayNone = function hasDisplayNone(node, nodeComputedStyle) {\n  if (node.nodeType !== Node.ELEMENT_NODE) return false;\n\n    // Search for a cached result.\n    var cached = find(this.cache, function(item) {\n      return item === node;\n    });\n    if (cached) return cached[1];\n\n    nodeComputedStyle = nodeComputedStyle || this.doc.defaultView.getComputedStyle(node);\n\n    var result = false;\n\n    if (nodeComputedStyle.display === 'none') {\n      result = true;\n    } else if (node.parentNode) {\n      result = this.hasDisplayNone(node.parentNode);\n    }\n\n    this.cache.push([node, result]);\n\n    return result;\n}\n\nUntouchabilityChecker.prototype.isUntouchable = function isUntouchable(node) {\n  if (node === this.doc.documentElement) return false;\n  var computedStyle = this.doc.defaultView.getComputedStyle(node);\n  if (this.hasDisplayNone(node, computedStyle)) return true;\n  return computedStyle.visibility === 'hidden';\n}\n\nmodule.exports = tabbable;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n"],"names":["PortalModule","OverlayModule","NgModule","tslib_1.__assign","Optional","SkipSelf","Inject","Injector","Overlay","Injectable","PortalInjector","ComponentPortal","TemplatePortal","TemplateRef","startWith","defer","Subject","InjectionToken","ViewEncapsulation","Component","tslib_1.__extends","ContentChildren","ElementRef","ChangeDetectionStrategy","createFocusTrap","fromEvent","takeUntil","matches","merge","MDCComponent","MDCDialog","root","foundation_","setAutoStackButtons","autoStack","getAutoStackButtons","setScrimClickAction","action","getScrimClickAction","setEscapeKeyAction","getEscapeKeyAction","isOpen","emit","strings","CLOSED_EVENT","notifyClosed","CLOSING_EVENT","notifyClosing","OPENED_EVENT","notifyOpened","OPENING_EVENT","notifyOpening","button","parentElement","appendChild","buttons_","forEach","reverse","reverseButtons","defaultButton_","click","clickDefaultButton","element","getAttribute","ACTION_ATTRIBUTE","closest","event","target","getActionFromEvent","util","areButtonsStacked","content_","isContentScrollable","focusTrap_","deactivate","releaseFocus","activate","trapFocus","selector","eventTargetMatches","document","body","classList","remove","className","removeBodyClass","add","addBodyClass","root_","contains","hasClass","removeClass","addClass","MDCDialogFoundation","close","open","layout","ripple","destroy","buttonRipples_","handleClosing_","unlisten","handleOpening_","handleInteraction_","listen","removeEventListener","handleDocumentKeydown_","window","type","layout_","LAYOUT_EVENTS","addEventListener","bind","handleDocumentKeydown","handleInteraction","container_","focusTrapFactory_","initialFocusEl_","push","MDCRipple","buttonEl","i","initialFocusEl","focusTrapFactory","querySelector","DEFAULT_BUTTON_SELECTOR","slice","call","querySelectorAll","BUTTON_SELECTOR","CONTENT_SELECTOR","CONTAINER_SELECTOR","args","MDCFoundation","animationTimer_","setTimeout","callback","clearTimeout","animationFrame_","requestAnimationFrame","cancelAnimationFrame","adapter_","cssClasses","CLOSING","OPENING","escapeKeyAction_","evt","key","keyCode","isEnter","SUPPRESS_DEFAULT_PRESS_SELECTOR","isClick","scrimClickAction_","SCRIM_SELECTOR","SCROLLABLE","areButtonsStacked_","STACKED","detectScrollableContent_","detectStackedButtons_","autoStackButtons_","layoutFrame_","layoutInternal_","isOpen_","numbers","DIALOG_ANIMATION_CLOSE_TIME_MS","handleAnimationTimerEnd_","SCROLL_LOCK","OPEN","DIALOG_ANIMATION_OPEN_TIME_MS","runNextAnimationFrame_","DESTROY_ACTION","CLOSE_ACTION","Object","assign","defaultAdapter","adapter","MDCDialogAdapter","RippleCapableSurface","prototype","disabled","unbounded","y","pageYOffset","x","pageXOffset","getWindowPageOffset","instance","getBoundingClientRect","computeBoundingRect","style","setProperty","varName","value","updateCssVariable","handler","deregisterResizeHandler","registerResizeHandler","documentElement","evtType","deregisterDocumentInteractionHandler","registerDocumentInteractionHandler","deregisterInteractionHandler","registerInteractionHandler","containsEventTarget","isSurfaceDisabled","MATCHES","isSurfaceActive","isUnbounded","browserSupportsCssVars","HTMLElement","undefined","setUnbounded_","unbounded_","Boolean","dataset","MDCRippleFoundation","createAdapter","setUnbounded","BG_FOCUSED","UNBOUNDED","VAR_TOP","unboundedCoords_","top","VAR_LEFT","left","Math","round","frame_","height","initialSize_","width","VAR_FG_SCALE","fgScale_","VAR_FG_SIZE","updateLayoutCssVars_","maxRadius_","floor","maxDim","INITIAL_ORIGIN_SCALE","getBoundedRadius","hypotenuse","PADDING","sqrt","pow","max","runDeactivationUXLogicIfReady_","wasActivatedByPointer","wasElementMadeActive","deactivate_","resetActivationState_","animateDeactivation_","state","activationState_","hasDeactivationUXRun","deregisterDeactivationHandlers_","activationState","isProgrammatic","isActivated","TAP_DELAY_MS","previousActivationEvent_","defaultActivationState_","activationEvent","activationAnimationHasEnded_","FG_ACTIVATION","FG_DEACTIVATION_MS","FG_DEACTIVATION","fgDeactivationRemovalTimer_","rmBoundedActivationClasses_","activationHasEnded","endPoint","startPoint","getNormalizedEventCoords","DEACTIVATION_TIMEOUT_MS","activationTimerCallback_","activationTimer_","VAR_FG_TRANSLATE_END","translateEnd","VAR_FG_TRANSLATE_START","translateStart","getFgTranslationCoordinates_","activate_","e","animateActivation_","checkElementMadeActive_","activatedTargets","registerDeactivationHandlers_","hasActivatedChild","length","some","isSameInteraction","previousActivationEvent","k","indexOf","keys","deactivateHandler_","POINTER_DEACTIVATION_EVENT_TYPES","resizeHandler_","blurHandler_","focusHandler_","activateHandler_","ACTIVATION_EVENT_TYPES","supportsPressRipple","deregisterRootHandlers_","removeCssVars_","ROOT","supportsPressRipple_","registerRootHandlers_","handleBlur","handleFocus","normalizedY","normalizedX","ev","pageY","documentY","pageX","documentX","changedTouches","clientRect","pageOffset","method","matchesMethod","HTMLElementPrototype","matchesMethods","getMatchesProperty","passive","supportsPassive_","isSupported","globalObj","forceRefresh","applyPassive","supportsCssVariables","supportsCssVariables_","detectEdgePseudoVarBug","windowObj","explicitlySupportsCssVars","weAreFeatureDetectingSafari10plus","CSS","supports","supportsFunctionPresent","hasPseudoVarBug","node","computedStyle","borderTopStyle","getComputedStyle","createElement","MDCRippleAdapter","dispatchEvent","initCustomEvent","shouldBubble","evtData","createEvent","bubbles","detail","CustomEvent","Error","initialSyncWithDOM","init","foundation","getDefaultFoundation","initialize","nativeMatches","webkitMatchesSelector","msMatchesSelector","el","join","SURFACE_SELECTOR","tops","size","offsetTop","els","Set","areTopsMisaligned","scrollHeight","offsetHeight","isScrollable","clickOutsideDeactivates","escapeDeactivates","initialFocus","surfaceEl","createFocusTrapInstance","Input","MdcRipple","toBoolean","Directive","focusTrap","fn","delay","isTabEvent","isEscapeEvent","tagName","toLowerCase","select","isSelectableInput","mostRecentlyFocusedNode","focus","tryFocus","getInitialFocusNode","doc","activeElement","lastTabbableNode","tabbableNodes","firstTabbableNode","tabbable","container","updateTabbableNodes","stopImmediatePropagation","preventDefault","config","checkClick","shiftKey","checkTab","checkKey","Document","checkFocusIn","returnFocus","isFocusable","checkPointerDown","getNodeForOption","optionName","optionValue","trap","active","removeListeners","activeFocusTraps","activateTrap","addListeners","paused","unpause","pause","nodeFocusedBeforeActivation","deactivateOptions","returnFocusOnDeactivate","onDeactivate","deactivateTrap","onActivate","activateOptions","userOptions","xtend","trapQueue","splice","trapIndex","activeTrap","source","hasOwnProperty","arguments","extend","visibility","hasDisplayNone","defaultView","UntouchabilityChecker","isUntouchable","result","cache","parentNode","nodeComputedStyle","display","cached","item","find","nodeType","Node","ELEMENT_NODE","elementDocument","checked","getCheckedRadio","radioSet","ownerDocument","name","isTabbableRadio","nodes","isRadio","isNonTabbableRadio","isInput","isHiddenInput","contentEditable","isContentEditable","predicate","list","a","tabIndex","b","documentOrder","sortOrderedTabbables","isNaN","tabindexAttr","parseInt","getTabindex","isNodeMatchingSelectorFocusable","untouchabilityChecker","focusableCandidateSelector","candidateSelectors","concat","isNodeMatchingSelectorTabbable","candidateSelector","isTabbable","regularTabbables","orderedTabbables","sort","map","candidate","candidateTabindex","candidates","unshift","Array","apply","options","includeContainer","Element","__assign","t","s","p","n","d","create","__","constructor","extendStatics","__extends","__proto__","setPrototypeOf"],"mappings":"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"}