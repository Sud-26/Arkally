/**
 * @license
 * Copyright (c) 2018 Dominic Carretto
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/trimox/angular-mdc-web/blob/master/LICENSE
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("@angular/common"),require("@angular-mdc/web/icon"),require("@angular/forms"),require("rxjs/operators"),require("@angular-mdc/web/common"),require("@angular-mdc/web/ripple")):"function"==typeof define&&define.amd?define("@angular-mdc/web/icon-button",["exports","@angular/core","@angular/common","@angular-mdc/web/icon","@angular/forms","rxjs/operators","@angular-mdc/web/common","@angular-mdc/web/ripple"],n):n(((t=t||self).ng=t.ng||{},t.ng.web=t.ng.web||{},t.ng.web.iconButton={}),t.ng.core,t.ng.common,t.ng.web.icon,t.ng.forms,t.rxjs.operators,t.ng.web.common,t.ng.web.ripple)}(this,function(t,n,e,o,i,r,s,c){"use strict";function u(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function a(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,n,e){return n&&a(t.prototype,n),e&&a(t,e),t}function d(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&p(t,n)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,n){return(p=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function h(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
var g=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(this,t),this.adapter_=n}return l(t,null,[{key:"cssClasses",get:function(){return{}}},{key:"strings",get:function(){return{}}},{key:"numbers",get:function(){return{}}},{key:"defaultAdapter",get:function(){return{}}}]),l(t,[{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),t}(),_={ROOT:"mdc-icon-button",ICON_BUTTON_ON:"mdc-icon-button--on"},b={ARIA_PRESSED:"aria-pressed",CHANGE_EVENT:"MDCIconButtonToggle:change"},m=function(t){function n(t){var e;return u(this,n),(e=h(this,f(n).call(this,Object.assign(n.defaultAdapter,t)))).disabled_=!1,e}return d(n,g),l(n,null,[{key:"cssClasses",get:function(){return _}},{key:"strings",get:function(){return b}},{key:"defaultAdapter",get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){},setAttr:function(){},notifyChange:function(){}}}}]),l(n,[{key:"init",value:function(){this.adapter_.setAttr(b.ARIA_PRESSED,"".concat(this.isOn()))}},{key:"handleClick",value:function(){this.toggle(),this.adapter_.notifyChange({isOn:this.isOn()})}},{key:"isOn",value:function(){return this.adapter_.hasClass(_.ICON_BUTTON_ON)}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.isOn();t?this.adapter_.addClass(_.ICON_BUTTON_ON):this.adapter_.removeClass(_.ICON_BUTTON_ON),this.adapter_.setAttr(b.ARIA_PRESSED,"".concat(t))}}]),n}();var y=function t(){u(this,t)};y.prototype.root_,y.prototype.unbounded,y.prototype.disabled;var O={provide:i.NG_VALUE_ACCESSOR,useExisting:n.forwardRef(function(){return I}),multi:!0},C=function(){return function(t,n){this.source=t,this.value=n}}(),v=0,E=function(){function t(){}return t.decorators=[{type:n.Directive,args:[{selector:"[mdcIconOn]",host:{class:"mdc-icon-button__icon--on"}}]}],t}(),I=function(){function t(t,e,o){this._changeDetectorRef=t,this.elementRef=e,this.ripple=o,this._uniqueId="mdc-icon-button-"+ ++v,this.id=this._uniqueId,this.name=null,this.icon=null,this._on=!1,this._disabled=!1,this.change=new n.EventEmitter,this._changeSubscription=null,this._onChange=function(){},this._onTouched=function(){},this._foundation=new m(this._createAdapter())}return Object.defineProperty(t.prototype,"inputId",{get:function(){return""+(this.id||this._uniqueId)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"on",{get:function(){return this._on},set:function(t){this.setOn(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this.setDisabled(t)},enumerable:!0,configurable:!0}),t.prototype._createAdapter=function(){var t=this;return{addClass:function(n){return t._getHostElement().classList.add(n)},removeClass:function(n){return t._getHostElement().classList.remove(n)},hasClass:function(n){return t._getHostElement().classList.contains(n)},setAttr:function(n,e){return t._getHostElement().setAttribute(n,e)},notifyChange:function(n){t.change.emit(new C(t,n.isOn)),t._onChange(t._foundation.isOn())}}},t.prototype.ngAfterContentInit=function(){var t=this;this._foundation.init(),this._foundation.toggle(this._on||this._foundation.isOn()),this.ripple.init({surface:this._getHostElement(),unbounded:!0}),this._changeDetectorRef.detectChanges(),this._changeSubscription=this.icons.changes.pipe(r.startWith(null)).subscribe(function(){t.icons.forEach(function(t){t.elementRef.nativeElement.classList.add("mdc-icon-button__icon"),t.tabIndex=null,t.role=null})})},t.prototype.ngOnDestroy=function(){this._changeSubscription&&this._changeSubscription.unsubscribe(),this.ripple.destroy(),this._foundation.destroy()},t.prototype.writeValue=function(t){this._onChange(t)},t.prototype.registerOnChange=function(t){this._onChange=t},t.prototype.registerOnTouched=function(t){this._onTouched=t},t.prototype.toggle=function(t){this.on=t?s.toBoolean(t):!this.on,this._foundation.toggle(this.on)},t.prototype.setOn=function(t){this._on=s.toBoolean(t),this._foundation.toggle(this.on),this._changeDetectorRef.markForCheck()},t.prototype.setDisabled=function(t){this._disabled=s.toBoolean(t),this.disabled?this._getHostElement().setAttribute("disabled",""):this._getHostElement().removeAttribute("disabled"),this._changeDetectorRef.markForCheck()},t.prototype.handleClick=function(){1!==this.icons.length&&(this.on=!this.on,this._foundation.handleClick())},t.prototype._getHostElement=function(){return this.elementRef.nativeElement},t.decorators=[{type:n.Component,args:[{selector:"[mdc-icon-button], button[mdcIconButton], a[mdcIconButton]",exportAs:"mdcIconButton",host:{"[id]":"id",class:"mdc-icon-button","[class.mdc-icon-button--on]":"on","attr.aria-pressed":"false","(click)":"handleClick()"},template:'\n  <mdc-icon *ngIf="icon">{{icon}}</mdc-icon>\n  <ng-content></ng-content>',providers:[O,c.MdcRipple],changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:n.ElementRef},{type:c.MdcRipple}]},t.propDecorators={id:[{type:n.Input}],name:[{type:n.Input}],icon:[{type:n.Input}],on:[{type:n.Input}],disabled:[{type:n.Input}],change:[{type:n.Output}],icons:[{type:n.ContentChildren,args:[o.MdcIcon,{descendants:!0}]}]},t}(),w=[I,E],A=function(){function t(){}return t.decorators=[{type:n.NgModule,args:[{imports:[e.CommonModule,o.MdcIconModule],exports:w.concat([o.MdcIconModule]),declarations:w}]}],t}();t.MdcIconButtonModule=A,t.MDC_ICON_BUTTON_CONTROL_VALUE_ACCESSOR=O,t.MdcIconButtonChange=C,t.MdcIconOn=E,t.MdcIconButton=I,Object.defineProperty(t,"__esModule",{value:!0})});