/**
 * @license
 * Copyright (c) 2018 Dominic Carretto
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/trimox/angular-mdc-web/blob/master/LICENSE
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular-mdc/web/portal"),require("@angular/common"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@angular-mdc/web/overlay",["exports","@angular/core","@angular-mdc/web/portal","@angular/common","rxjs","rxjs/operators"],e):e(((t=t||self).ng=t.ng||{},t.ng.web=t.ng.web||{},t.ng.web.overlay={}),t.ng.core,t.ng.web.portal,t.ng.common,t.rxjs,t.rxjs.operators)}(this,function(t,e,n,o,r,i){"use strict";
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */var s=function(){return function(t){var e=this;this.disposeOnNavigation=!1,t&&Object.keys(t).forEach(function(n){var o=n;void 0!==t[o]&&(e[o]=t[o])})}}(),a=function(){function t(t){this._document=t,this._containerElement=null}return t.prototype.ngOnDestroy=function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)},t.prototype.getContainerElement=function(){return this._containerElement||this._createContainer(),this._containerElement},t.prototype._createContainer=function(){var t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),this._document.body.appendChild(t),this._containerElement=t},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[o.DOCUMENT]}]}]},t.ngInjectableDef=e.defineInjectable({factory:function(){return new t(e.inject(o.DOCUMENT))},token:t,providedIn:"root"}),t}(),c=function(){function t(t,e,n,o,i,s,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=o,this._ngZone=i,this._document=s,this._location=a,this._attachments=new r.Subject,this._detachments=new r.Subject,this._locationChanges=r.Subscription.EMPTY,this._previousHostParent=null}return Object.defineProperty(t.prototype,"overlayElement",{get:function(){return this._pane},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._host},enumerable:!0,configurable:!0}),t.prototype.attach=function(t){var e=this,n=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._togglePointerEvents(!0),this._attachments.next(),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(function(){return e.dispose()})),n},t.prototype.detach=function(){if(this.hasAttached()){this._togglePointerEvents(!1);var t=this._portalOutlet.detach();return this._detachments.next(),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}},t.prototype.dispose=function(){var t=this.hasAttached();this._locationChanges.unsubscribe(),this._portalOutlet.dispose(),this._attachments.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()},t.prototype.hasAttached=function(){return this._portalOutlet.hasAttached()},t.prototype.attachments=function(){return this._attachments.asObservable()},t.prototype.detachments=function(){return this._detachments.asObservable()},t.prototype.getConfig=function(){return this._config},t.prototype._togglePointerEvents=function(t){this._pane.style.pointerEvents=t?"auto":"none"},t.prototype._updateStackingOrder=function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)},t.prototype._detachContentWhenStable=function(){var t=this;this._ngZone.runOutsideAngular(function(){var e=t._ngZone.onStable.asObservable().pipe(i.takeUntil(r.merge(t._attachments,t._detachments))).subscribe(function(){t._pane&&t._host&&0!==t._pane.children.length||(t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())})})},t}(),h=0,p=function(){function t(t,e,n,o,r,i){this._overlayContainer=t,this._componentFactoryResolver=e,this._injector=n,this._ngZone=o,this._document=r,this._location=i}return t.prototype.create=function(t){var e=this._createHostElement(),n=this._createPaneElement(e),o=this._createPortalOutlet(n),r=new s(t);return new c(o,e,n,r,this._ngZone,this._document,this._location)},t.prototype._createPaneElement=function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-"+h++,t.appendChild(e),e},t.prototype._createHostElement=function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t},t.prototype._createPortalOutlet=function(t){return this._appRef||(this._appRef=this._injector.get(e.ApplicationRef)),new n.DomPortalOutlet(t,this._componentFactoryResolver,this._appRef,this._injector)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:a},{type:e.ComponentFactoryResolver},{type:e.Injector},{type:e.NgZone},{type:void 0,decorators:[{type:e.Inject,args:[o.DOCUMENT]}]},{type:o.Location,decorators:[{type:e.Optional}]}]},t}(),u=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.PortalModule],providers:[p]}]}],t}();t.Overlay=p,t.OverlayContainer=a,t.OverlayRef=c,t.OverlayConfig=s,t.OverlayModule=u,Object.defineProperty(t,"__esModule",{value:!0})});