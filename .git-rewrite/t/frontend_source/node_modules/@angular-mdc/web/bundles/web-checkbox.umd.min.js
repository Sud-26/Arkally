/**
 * @license
 * Copyright (c) 2018 Dominic Carretto
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/trimox/angular-mdc-web/blob/master/LICENSE
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular-mdc/web/form-field"),require("rxjs"),require("rxjs/operators"),require("@angular/forms"),require("@angular-mdc/web/common"),require("@angular-mdc/web/ripple")):"function"==typeof define&&define.amd?define("@angular-mdc/web/checkbox",["exports","@angular/core","@angular-mdc/web/form-field","rxjs","rxjs/operators","@angular/forms","@angular-mdc/web/common","@angular-mdc/web/ripple"],t):t(((e=e||self).ng=e.ng||{},e.ng.web=e.ng.web||{},e.ng.web.checkbox={}),e.ng.core,e.ng.web.formField,e.rxjs,e.rxjs.operators,e.ng.forms,e.ng.web.common,e.ng.web.ripple)}(this,function(e,t,n,i,r,a,o,c){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,e),this.adapter_=t}return d(e,null,[{key:"cssClasses",get:function(){return{}}},{key:"strings",get:function(){return{}}},{key:"numbers",get:function(){return{}}},{key:"defaultAdapter",get:function(){return{}}}]),d(e,[{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),e}();var f=function e(){s(this,e)};f.prototype.root_,f.prototype.unbounded,f.prototype.disabled;var E={UPGRADED:"mdc-checkbox--upgraded",CHECKED:"mdc-checkbox--checked",INDETERMINATE:"mdc-checkbox--indeterminate",DISABLED:"mdc-checkbox--disabled",ANIM_UNCHECKED_CHECKED:"mdc-checkbox--anim-unchecked-checked",ANIM_UNCHECKED_INDETERMINATE:"mdc-checkbox--anim-unchecked-indeterminate",ANIM_CHECKED_UNCHECKED:"mdc-checkbox--anim-checked-unchecked",ANIM_CHECKED_INDETERMINATE:"mdc-checkbox--anim-checked-indeterminate",ANIM_INDETERMINATE_CHECKED:"mdc-checkbox--anim-indeterminate-checked",ANIM_INDETERMINATE_UNCHECKED:"mdc-checkbox--anim-indeterminate-unchecked"},C={NATIVE_CONTROL_SELECTOR:".".concat("mdc-checkbox","__native-control"),TRANSITION_STATE_INIT:"init",TRANSITION_STATE_CHECKED:"checked",TRANSITION_STATE_UNCHECKED:"unchecked",TRANSITION_STATE_INDETERMINATE:"indeterminate",ARIA_CHECKED_ATTR:"aria-checked",ARIA_CHECKED_INDETERMINATE_VALUE:"mixed"},b={ANIM_END_LATCH_MS:250},k=function(e){function t(e){var n;return s(this,t),(n=p(this,l(t).call(this,Object.assign(t.defaultAdapter,e)))).currentCheckState_=C.TRANSITION_STATE_INIT,n.currentAnimationClass_="",n.animEndLatchTimer_=0,n.enableAnimationEndHandler_=!1,n}return h(t,m),d(t,null,[{key:"cssClasses",get:function(){return E}},{key:"strings",get:function(){return C}},{key:"numbers",get:function(){return b}},{key:"defaultAdapter",get:function(){return{addClass:function(){},removeClass:function(){},setNativeControlAttr:function(){},removeNativeControlAttr:function(){},forceLayout:function(){},isAttachedToDOM:function(){},isIndeterminate:function(){},isChecked:function(){},hasNativeControl:function(){},setNativeControlDisabled:function(){}}}}]),d(t,[{key:"init",value:function(){this.currentCheckState_=this.determineCheckState_(),this.updateAriaChecked_(),this.adapter_.addClass(E.UPGRADED)}},{key:"destroy",value:function(){clearTimeout(this.animEndLatchTimer_)}},{key:"setDisabled",value:function(e){this.adapter_.setNativeControlDisabled(e),e?this.adapter_.addClass(E.DISABLED):this.adapter_.removeClass(E.DISABLED)}},{key:"handleAnimationEnd",value:function(){var e=this;this.enableAnimationEndHandler_&&(clearTimeout(this.animEndLatchTimer_),this.animEndLatchTimer_=setTimeout(function(){e.adapter_.removeClass(e.currentAnimationClass_),e.enableAnimationEndHandler_=!1},b.ANIM_END_LATCH_MS))}},{key:"handleChange",value:function(){this.transitionCheckState_()}},{key:"transitionCheckState_",value:function(){if(this.adapter_.hasNativeControl()){var e=this.currentCheckState_,t=this.determineCheckState_();e!==t&&(this.updateAriaChecked_(),this.currentAnimationClass_.length>0&&(clearTimeout(this.animEndLatchTimer_),this.adapter_.forceLayout(),this.adapter_.removeClass(this.currentAnimationClass_)),this.currentAnimationClass_=this.getTransitionAnimationClass_(e,t),this.currentCheckState_=t,this.adapter_.isAttachedToDOM()&&this.currentAnimationClass_.length>0&&(this.adapter_.addClass(this.currentAnimationClass_),this.enableAnimationEndHandler_=!0))}}},{key:"determineCheckState_",value:function(){var e=C.TRANSITION_STATE_INDETERMINATE,t=C.TRANSITION_STATE_CHECKED,n=C.TRANSITION_STATE_UNCHECKED;return this.adapter_.isIndeterminate()?e:this.adapter_.isChecked()?t:n}},{key:"getTransitionAnimationClass_",value:function(e,n){var i=C.TRANSITION_STATE_INIT,r=C.TRANSITION_STATE_CHECKED,a=C.TRANSITION_STATE_UNCHECKED,o=t.cssClasses,c=o.ANIM_UNCHECKED_CHECKED,s=o.ANIM_UNCHECKED_INDETERMINATE,u=o.ANIM_CHECKED_UNCHECKED,d=o.ANIM_CHECKED_INDETERMINATE,h=o.ANIM_INDETERMINATE_CHECKED,l=o.ANIM_INDETERMINATE_UNCHECKED;switch(e){case i:if(n===a)return"";case a:return n===r?c:s;case r:return n===a?u:d;default:return n===r?h:l}}},{key:"updateAriaChecked_",value:function(){this.adapter_.isIndeterminate()?this.adapter_.setNativeControlAttr(C.ARIA_CHECKED_ATTR,C.ARIA_CHECKED_INDETERMINATE_VALUE):this.adapter_.removeNativeControlAttr(C.ARIA_CHECKED_ATTR)}}]),t}();var A=0,g=function(){return function(e,t){this.source=e,this.checked=t}}(),T={provide:a.NG_VALUE_ACCESSOR,useExisting:t.forwardRef(function(){return y}),multi:!0},y=function(){function e(e,n,r,a,o,c){this._platform=e,this._ngZone=n,this._changeDetectorRef=r,this.elementRef=a,this.ripple=o,this._parentFormField=c,this._destroy=new i.Subject,this._uniqueId="mdc-checkbox-"+ ++A,this.id=this._uniqueId,this.name=null,this._checked=!1,this._disabled=!1,this.value=null,this._indeterminate=!1,this._indeterminateToChecked=!0,this.tabIndex=0,this.ariaLabel="",this.ariaLabelledby=null,this.change=new t.EventEmitter,this.indeterminateChange=new t.EventEmitter,this._onChange=function(){},this._onTouched=function(){},this._foundation=new k(this._createAdapter()),this._parentFormField&&c.elementRef.nativeElement.classList.add("mdc-form-field")}return Object.defineProperty(e.prototype,"inputId",{get:function(){return(this.id||this._uniqueId)+"-input"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(e){e!==this.checked&&(this._checked=o.toBoolean(e),this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this.setDisabledState(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indeterminate",{get:function(){return this._indeterminate},set:function(e){if(!this.disabled){var t=o.toBoolean(e);t!==this._indeterminate&&(this._indeterminate=t,t&&(this.checked=!1),this.indeterminateChange.emit({source:this,indeterminate:this._indeterminate}),this._changeDetectorRef.markForCheck(),this._foundation.handleChange())}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indeterminateToChecked",{get:function(){return this._indeterminateToChecked},set:function(e){this._indeterminateToChecked=o.toBoolean(e),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),e.prototype._createAdapter=function(){var e=this;return{addClass:function(t){return e._getHostElement().classList.add(t)},removeClass:function(t){return e._getHostElement().classList.remove(t)},setNativeControlAttr:function(t,n){return e._inputElement.nativeElement.setAttribute(t,n)},removeNativeControlAttr:function(t){return e._inputElement.nativeElement.removeAttribute(t)},isIndeterminate:function(){return e.indeterminate},isChecked:function(){return e.checked},hasNativeControl:function(){return!0},setNativeControlDisabled:function(t){return e._inputElement.nativeElement.disabled=t},forceLayout:function(){return e._getHostElement().offsetWidth},isAttachedToDOM:function(){return!0}}},e.prototype.ngAfterViewInit=function(){this._foundation.init(),this._initRipple(),this._loadListeners()},e.prototype.ngOnDestroy=function(){this._destroy.next(),this._destroy.complete(),this.ripple.destroy(),this._foundation.destroy()},e.prototype.writeValue=function(e){this.checked=!!e},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.focus=function(){this.disabled||this._inputElement.nativeElement.focus()},e.prototype.toggle=function(){this._setState()},e.prototype._onInteraction=function(e){e.stopPropagation(),this._setState(),this._onChange(this.checked),this._changeDetectorRef.markForCheck(),this.change.emit(new g(this,this.checked))},e.prototype._onInputClick=function(e){e.stopPropagation()},e.prototype.setDisabledState=function(e){this._disabled=o.toBoolean(e),this._foundation.setDisabled(this._disabled),this._changeDetectorRef.markForCheck()},e.prototype._setState=function(){var e=this;this.disabled||(this.indeterminate?(this._checked=this.indeterminateToChecked,this.indeterminate=!1):this.checked=!this.checked,this._inputElement.nativeElement.checked=this.checked,this._ngZone.runOutsideAngular(function(){return requestAnimationFrame(function(){return e._foundation.handleChange()})}))},e.prototype._initRipple=function(){var e=this;this.ripple.init({surface:this.elementRef.nativeElement,activator:this._inputElement.nativeElement},Object.assign(this.ripple.createAdapter(),{isUnbounded:function(){return!0},isSurfaceDisabled:function(){return e._disabled}}))},e.prototype._loadListeners=function(){var e=this;this._platform.isBrowser&&this._ngZone.runOutsideAngular(function(){return i.fromEvent(e._getHostElement(),"animationend").pipe(r.takeUntil(e._destroy),r.filter(function(t){return t.target===e._getHostElement()})).subscribe(function(){return e._ngZone.run(function(){return e._foundation.handleAnimationEnd()})})})},e.prototype._getHostElement=function(){return this.elementRef.nativeElement},e.decorators=[{type:t.Component,args:[{selector:"mdc-checkbox",exportAs:"mdcCheckbox",host:{"[id]":"id",class:"mdc-checkbox"},template:'\n  <input type="checkbox"\n    #input\n    class="mdc-checkbox__native-control"\n    [id]="inputId"\n    [attr.name]="name"\n    [tabIndex]="tabIndex"\n    [attr.aria-label]="ariaLabel || null"\n    [attr.aria-labelledby]="ariaLabelledby"\n    [disabled]="disabled"\n    [checked]="checked"\n    [attr.value]="value"\n    [indeterminate]="indeterminate"\n    (change)="_onInteraction($event)"\n    (click)="_onInputClick($event)"/>\n  <div class="mdc-checkbox__background">\n    <svg\n      class="mdc-checkbox__checkmark"\n      viewBox="0 0 24 24"\n      focusable="false">\n      <path class="mdc-checkbox__checkmark-path"\n        fill="none"\n        d="M1.73,12.91 8.1,19.28 22.79,4.59"/>\n    </svg>\n    <div class="mdc-checkbox__mixedmark"></div>\n  </div>\n  ',providers:[T,c.MdcRipple,{provide:n.MdcFormFieldControl,useExisting:e}],encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:o.Platform},{type:t.NgZone},{type:t.ChangeDetectorRef},{type:t.ElementRef},{type:c.MdcRipple},{type:n.MdcFormField,decorators:[{type:t.Optional}]}]},e.propDecorators={id:[{type:t.Input}],name:[{type:t.Input}],checked:[{type:t.Input}],disabled:[{type:t.Input}],value:[{type:t.Input}],indeterminate:[{type:t.Input}],indeterminateToChecked:[{type:t.Input}],tabIndex:[{type:t.Input}],ariaLabel:[{type:t.Input,args:["aria-label"]}],ariaLabelledby:[{type:t.Input,args:["aria-labelledby"]}],change:[{type:t.Output}],indeterminateChange:[{type:t.Output}],_inputElement:[{type:t.ViewChild,args:["input"]}]},e}(),I=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[n.MdcFormFieldModule],exports:[n.MdcFormFieldModule,y],declarations:[y]}]}],e}();e.MdcCheckboxModule=I,e.MdcCheckboxChange=g,e.MDC_CHECKBOX_CONTROL_VALUE_ACCESSOR=T,e.MdcCheckbox=y,Object.defineProperty(e,"__esModule",{value:!0})});