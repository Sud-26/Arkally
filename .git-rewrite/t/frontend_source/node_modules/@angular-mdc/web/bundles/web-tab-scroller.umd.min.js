/**
 * @license
 * Copyright (c) 2018 Dominic Carretto
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/trimox/angular-mdc-web/blob/master/LICENSE
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators"),require("@angular-mdc/web/common")):"function"==typeof define&&define.amd?define("@angular-mdc/web/tab-scroller",["exports","@angular/core","rxjs","rxjs/operators","@angular-mdc/web/common"],e):e(((t=t||self).ng=t.ng||{},t.ng.web=t.ng.web||{},t.ng.web.tabScroller={}),t.ng.core,t.rxjs,t.rxjs.operators,t.ng.web.common)}(this,function(t,e,r,n,l){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}
/**
   * @license
   * Copyright 2016 Google Inc.
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   */
var h,p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t),this.adapter_=e}return a(t,null,[{key:"cssClasses",get:function(){return{}}},{key:"strings",get:function(){return{}}},{key:"numbers",get:function(){return{}}},{key:"defaultAdapter",get:function(){return{}}}]),a(t,[{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),t}(),S={ANIMATING:"mdc-tab-scroller--animating",SCROLL_TEST:"mdc-tab-scroller__test",SCROLL_AREA_SCROLL:"mdc-tab-scroller__scroll-area--scroll"},d={AREA_SELECTOR:".mdc-tab-scroller__scroll-area",CONTENT_SELECTOR:".mdc-tab-scroller__scroll-content"},_=function(){function t(e){o(this,t),this.adapter_=e}return a(t,[{key:"getScrollPositionRTL",value:function(t){}},{key:"scrollToRTL",value:function(t){}},{key:"incrementScrollRTL",value:function(t){}},{key:"getAnimatingScrollPosition",value:function(t,e){}}]),t}(),g=function(t){function e(){return o(this,e),f(this,s(e).apply(this,arguments))}return c(e,_),a(e,[{key:"getScrollPositionRTL",value:function(){var t=this.adapter_.getScrollAreaScrollLeft(),e=this.calculateScrollEdges_().right;return Math.round(e-t)}},{key:"scrollToRTL",value:function(t){var e=this.calculateScrollEdges_(),r=this.adapter_.getScrollAreaScrollLeft(),n=this.clampScrollValue_(e.right-t);return{finalScrollPosition:n,scrollDelta:n-r}}},{key:"incrementScrollRTL",value:function(t){var e=this.adapter_.getScrollAreaScrollLeft(),r=this.clampScrollValue_(e-t);return{finalScrollPosition:r,scrollDelta:r-e}}},{key:"getAnimatingScrollPosition",value:function(t){return t}},{key:"calculateScrollEdges_",value:function(){return{left:0,right:this.adapter_.getScrollContentOffsetWidth()-this.adapter_.getScrollAreaOffsetWidth()}}},{key:"clampScrollValue_",value:function(t){var e=this.calculateScrollEdges_();return Math.min(Math.max(e.left,t),e.right)}}]),e}(),m=function(t){function e(){return o(this,e),f(this,s(e).apply(this,arguments))}return c(e,_),a(e,[{key:"getScrollPositionRTL",value:function(t){var e=this.adapter_.getScrollAreaScrollLeft();return Math.round(t-e)}},{key:"scrollToRTL",value:function(t){var e=this.adapter_.getScrollAreaScrollLeft(),r=this.clampScrollValue_(-t);return{finalScrollPosition:r,scrollDelta:r-e}}},{key:"incrementScrollRTL",value:function(t){var e=this.adapter_.getScrollAreaScrollLeft(),r=this.clampScrollValue_(e-t);return{finalScrollPosition:r,scrollDelta:r-e}}},{key:"getAnimatingScrollPosition",value:function(t,e){return t-e}},{key:"calculateScrollEdges_",value:function(){var t=this.adapter_.getScrollContentOffsetWidth();return{left:this.adapter_.getScrollAreaOffsetWidth()-t,right:0}}},{key:"clampScrollValue_",value:function(t){var e=this.calculateScrollEdges_();return Math.max(Math.min(e.right,t),e.left)}}]),e}(),y=function(t){function e(){return o(this,e),f(this,s(e).apply(this,arguments))}return c(e,_),a(e,[{key:"getScrollPositionRTL",value:function(t){var e=this.adapter_.getScrollAreaScrollLeft();return Math.round(e-t)}},{key:"scrollToRTL",value:function(t){var e=this.adapter_.getScrollAreaScrollLeft(),r=this.clampScrollValue_(t);return{finalScrollPosition:r,scrollDelta:e-r}}},{key:"incrementScrollRTL",value:function(t){var e=this.adapter_.getScrollAreaScrollLeft(),r=this.clampScrollValue_(e+t);return{finalScrollPosition:r,scrollDelta:e-r}}},{key:"getAnimatingScrollPosition",value:function(t,e){return t+e}},{key:"calculateScrollEdges_",value:function(){return{left:this.adapter_.getScrollContentOffsetWidth()-this.adapter_.getScrollAreaOffsetWidth(),right:0}}},{key:"clampScrollValue_",value:function(t){var e=this.calculateScrollEdges_();return Math.min(Math.max(e.right,t),e.left)}}]),e}(),v=function(t){function e(t){var r;return o(this,e),(r=f(this,s(e).call(this,Object.assign(e.defaultAdapter,t)))).isAnimating_=!1,r.rtlScrollerInstance_,r}return c(e,p),a(e,null,[{key:"cssClasses",get:function(){return S}},{key:"strings",get:function(){return d}},{key:"defaultAdapter",get:function(){return{eventTargetMatchesSelector:function(){},addClass:function(){},removeClass:function(){},addScrollAreaClass:function(){},setScrollAreaStyleProperty:function(){},setScrollContentStyleProperty:function(){},getScrollContentStyleValue:function(){},setScrollAreaScrollLeft:function(){},getScrollAreaScrollLeft:function(){},getScrollContentOffsetWidth:function(){},getScrollAreaOffsetWidth:function(){},computeScrollAreaClientRect:function(){},computeScrollContentClientRect:function(){},computeHorizontalScrollbarHeight:function(){}}}}]),a(e,[{key:"init",value:function(){var t=this.adapter_.computeHorizontalScrollbarHeight();this.adapter_.setScrollAreaStyleProperty("margin-bottom",-t+"px"),this.adapter_.addScrollAreaClass(e.cssClasses.SCROLL_AREA_SCROLL)}},{key:"getScrollPosition",value:function(){if(this.isRTL_())return this.computeCurrentScrollPositionRTL_();var t=this.calculateCurrentTranslateX_();return this.adapter_.getScrollAreaScrollLeft()-t}},{key:"handleInteraction",value:function(){this.isAnimating_&&this.stopScrollAnimation_()}},{key:"handleTransitionEnd",value:function(t){this.isAnimating_&&this.adapter_.eventTargetMatchesSelector(t.target,e.strings.CONTENT_SELECTOR)&&(this.isAnimating_=!1,this.adapter_.removeClass(e.cssClasses.ANIMATING))}},{key:"incrementScroll",value:function(t){if(0!==t)return this.isRTL_()?this.incrementScrollRTL_(t):void this.incrementScroll_(t)}},{key:"scrollTo",value:function(t){if(this.isRTL_())return this.scrollToRTL_(t);this.scrollTo_(t)}},{key:"getRTLScroller",value:function(){return this.rtlScrollerInstance_||(this.rtlScrollerInstance_=this.rtlScrollerFactory_()),this.rtlScrollerInstance_}},{key:"calculateCurrentTranslateX_",value:function(){var t=this.adapter_.getScrollContentStyleValue("transform");if("none"===t)return 0;var e=/\((.+)\)/.exec(t)[1].split(",");return parseFloat(e[4])}},{key:"clampScrollValue_",value:function(t){var e=this.calculateScrollEdges_();return Math.min(Math.max(e.left,t),e.right)}},{key:"computeCurrentScrollPositionRTL_",value:function(){var t=this.calculateCurrentTranslateX_();return this.getRTLScroller().getScrollPositionRTL(t)}},{key:"calculateScrollEdges_",value:function(){return{left:0,right:this.adapter_.getScrollContentOffsetWidth()-this.adapter_.getScrollAreaOffsetWidth()}}},{key:"scrollTo_",value:function(t){var e=this.getScrollPosition(),r=this.clampScrollValue_(t),n=r-e;this.animate_({finalScrollPosition:r,scrollDelta:n})}},{key:"scrollToRTL_",value:function(t){var e=this.getRTLScroller().scrollToRTL(t);this.animate_(e)}},{key:"incrementScroll_",value:function(t){var e=this.getScrollPosition(),r=t+e,n=this.clampScrollValue_(r),l=n-e;this.animate_({finalScrollPosition:n,scrollDelta:l})}},{key:"incrementScrollRTL_",value:function(t){var e=this.getRTLScroller().incrementScrollRTL(t);this.animate_(e)}},{key:"animate_",value:function(t){var r=this;0!==t.scrollDelta&&(this.stopScrollAnimation_(),this.adapter_.setScrollAreaScrollLeft(t.finalScrollPosition),this.adapter_.setScrollContentStyleProperty("transform","translateX(".concat(t.scrollDelta,"px)")),this.adapter_.computeScrollAreaClientRect(),requestAnimationFrame(function(){r.adapter_.addClass(e.cssClasses.ANIMATING),r.adapter_.setScrollContentStyleProperty("transform","none")}),this.isAnimating_=!0)}},{key:"stopScrollAnimation_",value:function(){this.isAnimating_=!1;var t=this.getAnimatingScrollPosition_();this.adapter_.removeClass(e.cssClasses.ANIMATING),this.adapter_.setScrollContentStyleProperty("transform","translateX(0px)"),this.adapter_.setScrollAreaScrollLeft(t)}},{key:"getAnimatingScrollPosition_",value:function(){var t=this.calculateCurrentTranslateX_(),e=this.adapter_.getScrollAreaScrollLeft();return this.isRTL_()?this.getRTLScroller().getAnimatingScrollPosition(e,t):e-t}},{key:"rtlScrollerFactory_",value:function(){var t=this.adapter_.getScrollAreaScrollLeft();this.adapter_.setScrollAreaScrollLeft(t-1);var e=this.adapter_.getScrollAreaScrollLeft();if(e<0)return this.adapter_.setScrollAreaScrollLeft(t),new m(this.adapter_);var r=this.adapter_.computeScrollAreaClientRect(),n=this.adapter_.computeScrollContentClientRect(),l=Math.round(n.right-r.right);return this.adapter_.setScrollAreaScrollLeft(t),l===e?new y(this.adapter_):new g(this.adapter_)}},{key:"isRTL_",value:function(){return"rtl"===this.adapter_.getScrollContentStyleValue("direction")}}]),e}();function A(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e&&void 0!==h)return h;var r=t.createElement("div");r.classList.add(S.SCROLL_TEST),t.body.appendChild(r);var n=r.offsetHeight-r.clientHeight;return t.body.removeChild(r),e&&(h=n),n}function L(t){return["msMatchesSelector","matches"].filter(function(e){return e in t}).pop()}var T=["keydown","mousedown","pointerdown","touchstart","wheel"],C=function(){function t(t,e,n){this._ngZone=t,this._platform=e,this.elementRef=n,this._destroy=new r.Subject,this._align=null,this._scrollAreaEventsSubscription=null,this._foundation=new v(this._createAdapter())}return Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this.setAlign(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollAreaEvents",{get:function(){var t=this;return r.merge.apply(void 0,T.map(function(e){return r.fromEvent(t._getScrollArea(),e)}))},enumerable:!0,configurable:!0}),t.prototype._createAdapter=function(){var t=this;return{eventTargetMatchesSelector:function(t,e){return t[L(HTMLElement.prototype)](e)},addClass:function(e){return t._getHostElement().classList.add(e)},removeClass:function(e){return t._getHostElement().classList.remove(e)},addScrollAreaClass:function(e){return t.area.nativeElement.classList.add(e)},setScrollAreaStyleProperty:function(e,r){return t.area.nativeElement.style.setProperty(e,r)},setScrollContentStyleProperty:function(e,r){return t.content.nativeElement.style.setProperty(e,r)},getScrollContentStyleValue:function(e){return t._platform.isBrowser?window.getComputedStyle(t.content.nativeElement).getPropertyValue(e):""},setScrollAreaScrollLeft:function(e){return t.area.nativeElement.scrollLeft=e},getScrollAreaScrollLeft:function(){return t.area.nativeElement.scrollLeft},getScrollContentOffsetWidth:function(){return t.content.nativeElement.offsetWidth},getScrollAreaOffsetWidth:function(){return t.area.nativeElement.offsetWidth},computeScrollAreaClientRect:function(){return t._platform.isBrowser?t.area.nativeElement.getBoundingClientRect():{}},computeScrollContentClientRect:function(){return t._platform.isBrowser?t.content.nativeElement.getBoundingClientRect():{}},computeHorizontalScrollbarHeight:function(){return t._platform.isBrowser?A(document):0}}},t.prototype.ngAfterViewInit=function(){this._foundation.init(),this._loadListeners()},t.prototype.ngOnDestroy=function(){this._destroy.next(),this._destroy.complete(),this._scrollAreaEventsSubscription&&this._scrollAreaEventsSubscription.unsubscribe()},t.prototype.setAlign=function(t){this._getHostElement().classList.remove("mdc-tab-scroller--align-"+this._align),this._align=t,t&&this._getHostElement().classList.add("mdc-tab-scroller--align-"+t)},t.prototype.getScrollPosition=function(){return this._platform.isBrowser?this._foundation.getScrollPosition():-1},t.prototype.getScrollContentWidth=function(){return this.content.nativeElement.offsetWidth},t.prototype.incrementScroll=function(t){if(!this._platform.isBrowser)return-1;this._foundation.incrementScroll(t)},t.prototype.scrollTo=function(t){this._foundation.scrollTo(t)},t.prototype._loadListeners=function(){var t=this;this._scrollAreaEventsSubscription=this.scrollAreaEvents.pipe().subscribe(function(){return t._foundation.handleInteraction()}),this._ngZone.runOutsideAngular(function(){return r.fromEvent(t._getScrollContent(),"transitionend").pipe(n.takeUntil(t._destroy),n.filter(function(e){return e.target===t._getScrollContent()})).subscribe(function(e){return t._ngZone.run(function(){return t._foundation.handleTransitionEnd(e)})})})},t.prototype._getScrollArea=function(){return this.area.nativeElement},t.prototype._getScrollContent=function(){return this.content.nativeElement},t.prototype._getHostElement=function(){return this.elementRef.nativeElement},t.decorators=[{type:e.Component,args:[{selector:"[mdcTabScroller], mdc-tab-scroller",exportAs:"mdcTabScroller",host:{class:"mdc-tab-scroller"},template:'\n  <div #area class="mdc-tab-scroller__scroll-area">\n    <div #content class="mdc-tab-scroller__scroll-content">\n      <ng-content></ng-content>\n    </div>\n  </div>\n  ',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:e.NgZone},{type:l.Platform},{type:e.ElementRef}]},t.propDecorators={align:[{type:e.Input}],area:[{type:e.ViewChild,args:["area"]}],content:[{type:e.ViewChild,args:["content"]}]},t}(),b=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{exports:[C],declarations:[C]}]}],t}();t.MdcTabScrollerModule=b,t.MdcTabScroller=C,Object.defineProperty(t,"__esModule",{value:!0})});