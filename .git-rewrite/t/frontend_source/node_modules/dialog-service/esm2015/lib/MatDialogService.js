/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable } from '@angular/core';
import { DialogService } from './DialogService';
import { MatDialog } from '@angular/material/dialog';
import { concatMap, finalize, map, tap } from 'rxjs/operators';
import { AlertComponent } from './mat/Alert.component';
import { ProgressComponent } from './mat/Progress.component';
import { ConfirmComponent } from './mat/Confirm.component';
import { FormComponent } from './mat/Form.component';
import * as i0 from "@angular/core";
import * as i1 from "@angular/material/dialog";
export class MatDialogService extends DialogService {
    /**
     * @param {?} dialog
     */
    constructor(dialog) {
        super();
        this.dialog = dialog;
    }
    /**
     * @template T
     * @param {?} work
     * @param {?=} title
     * @param {?=} options
     * @return {?}
     */
    withProgress(work, title, options) {
        title = title || 'Please Wait...';
        /** @type {?} */
        let workOutput;
        /** @type {?} */
        const ref = this.dialog.open(ProgressComponent, Object.assign({ disableClose: true, data: { title } }, (options && options.dialogOptions || {})));
        ref.afterOpened().pipe(concatMap((/**
         * @return {?}
         */
        () => work)), tap((/**
         * @param {?} val
         * @return {?}
         */
        val => workOutput = val)), // set workOutput
        finalize((/**
         * @return {?}
         */
        () => ref.close()))).subscribe();
        return ref.afterClosed().pipe(map((/**
         * @return {?}
         */
        () => workOutput)) // return workOutput
        );
    }
    /**
     * @param {?} title
     * @param {?=} options
     * @return {?}
     */
    withAlert(title, options) {
        options = options || {};
        options.acceptButton = options.acceptButton || 'OK';
        /** @type {?} */
        const dialogRef = this.dialog.open(AlertComponent, Object.assign({ disableClose: true, minWidth: 200, data: Object.assign({ title }, options) }, (options && options.dialogOptions || {})));
        return dialogRef.afterClosed().pipe(map((/**
         * @param {?} result
         * @return {?}
         */
        result => result === true)));
    }
    /**
     * @param {?=} title
     * @param {?=} options
     * @return {?}
     */
    withConfirm(title, options) {
        title = title || 'Confirm?';
        options = options || {};
        options.acceptButton = options.acceptButton || 'Yes';
        options.cancelButton = options.cancelButton || 'No';
        /** @type {?} */
        const ref = this.dialog.open(ConfirmComponent, Object.assign({ disableClose: true, data: Object.assign({ title }, options) }, (options && options.dialogOptions || {})));
        return ref.afterClosed().pipe(map((/**
         * @param {?} result
         * @return {?}
         */
        result => result)));
    }
    /**
     * @param {?} title
     * @param {?} fields
     * @param {?=} options
     * @return {?}
     */
    withForm(title, fields, options) {
        options = options || {};
        options.submitButton = options.submitButton || 'Submit';
        options.cancelButton = options.cancelButton || 'Cancel';
        options.cancelMessage = options.cancelMessage || 'Cancel?';
        options.rawValue = options.rawValue || false;
        /** @type {?} */
        const ref = this.dialog.open(FormComponent, Object.assign({ disableClose: true, data: Object.assign({ title, fields }, options) }, (options && options.dialogOptions || {})));
        return ref.afterClosed();
    }
}
MatDialogService.decorators = [
    { type: Injectable, args: [{
                providedIn: 'root'
            },] }
];
/** @nocollapse */
MatDialogService.ctorParameters = () => [
    { type: MatDialog }
];
/** @nocollapse */ MatDialogService.ngInjectableDef = i0.ɵɵdefineInjectable({ factory: function MatDialogService_Factory() { return new MatDialogService(i0.ɵɵinject(i1.MatDialog)); }, token: MatDialogService, providedIn: "root" });
if (false) {
    /**
     * @type {?}
     * @private
     */
    MatDialogService.prototype.dialog;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWF0RGlhbG9nU2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2RpYWxvZy1zZXJ2aWNlLyIsInNvdXJjZXMiOlsibGliL01hdERpYWxvZ1NlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBcUIsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFBO0FBRTdELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQTtBQUMvQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sMEJBQTBCLENBQUE7QUFDcEQsT0FBTyxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxNQUFNLGdCQUFnQixDQUFBO0FBQzlELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQTtBQUN0RCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQTtBQUM1RCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQTtBQUMxRCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sc0JBQXNCLENBQUE7OztBQU9wRCxNQUFNLE9BQU8sZ0JBQWlCLFNBQVEsYUFBYTs7OztJQUNqRCxZQUFxQixNQUFpQjtRQUNwQyxLQUFLLEVBQUUsQ0FBQTtRQURZLFdBQU0sR0FBTixNQUFNLENBQVc7SUFFdEMsQ0FBQzs7Ozs7Ozs7SUFFRCxZQUFZLENBQ1YsSUFBbUIsRUFBRSxLQUFjLEVBQ25DLE9BRUM7UUFDRCxLQUFLLEdBQUcsS0FBSyxJQUFJLGdCQUFnQixDQUFBOztZQUM3QixVQUFhOztjQUVYLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsa0JBQzVDLFlBQVksRUFBRSxJQUFJLEVBQ2xCLElBQUksRUFBRSxFQUFFLEtBQUssRUFBRSxJQUNaLENBQUMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxhQUFhLElBQUksRUFBRSxDQUFDLEVBQzNDO1FBRUYsR0FB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QUFVLFNBQUM7Z0JBQ1YsVUFBVSxFQUFFLE1BQU07YUFDbkI7Ozs7WUFYUSxTQUFTOzs7Ozs7OztJQWFILGtDQUF5QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYW5nZURldGVjdG9yUmVmLCBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSdcbmltcG9ydCB7IE9ic2VydmFibGUsIFN1YmplY3QgfSBmcm9tICdyeGpzJ1xuaW1wb3J0IHsgRGlhbG9nU2VydmljZSB9IGZyb20gJy4vRGlhbG9nU2VydmljZSdcbmltcG9ydCB7IE1hdERpYWxvZyB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2RpYWxvZydcbmltcG9ydCB7IGNvbmNhdE1hcCwgZmluYWxpemUsIG1hcCwgdGFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnXG5pbXBvcnQgeyBBbGVydENvbXBvbmVudCB9IGZyb20gJy4vbWF0L0FsZXJ0LmNvbXBvbmVudCdcbmltcG9ydCB7IFByb2dyZXNzQ29tcG9uZW50IH0gZnJvbSAnLi9tYXQvUHJvZ3Jlc3MuY29tcG9uZW50J1xuaW1wb3J0IHsgQ29uZmlybUNvbXBvbmVudCB9IGZyb20gJy4vbWF0L0NvbmZpcm0uY29tcG9uZW50J1xuaW1wb3J0IHsgRm9ybUNvbXBvbmVudCB9IGZyb20gJy4vbWF0L0Zvcm0uY29tcG9uZW50J1xuaW1wb3J0IHsgUXVpY2tGb3JtRmllbGQgfSBmcm9tICduZy1xdWljay1mb3JtJ1xuaW1wb3J0IHsgRm9ybUdyb3VwIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnXG5cbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIE1hdERpYWxvZ1NlcnZpY2UgZXh0ZW5kcyBEaWFsb2dTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IgKHByaXZhdGUgZGlhbG9nOiBNYXREaWFsb2cpIHtcbiAgICBzdXBlcigpXG4gIH1cblxuICB3aXRoUHJvZ3Jlc3M8VCA9IGFueT4gKFxuICAgIHdvcms6IE9ic2VydmFibGU8VD4sIHRpdGxlPzogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiB7XG4gICAgICBkaWFsb2dPcHRpb25zPzogeyBbIGtleTogc3RyaW5nIF06IGFueSB9XG4gICAgfSk6IE9ic2VydmFibGU8VCB8IHVuZGVmaW5lZD4ge1xuICAgIHRpdGxlID0gdGl0bGUgfHwgJ1BsZWFzZSBXYWl0Li4uJ1xuICAgIGxldCB3b3JrT3V0cHV0OiBUXG5cbiAgICBjb25zdCByZWYgPSB0aGlzLmRpYWxvZy5vcGVuKFByb2dyZXNzQ29tcG9uZW50LCB7XG4gICAgICBkaXNhYmxlQ2xvc2U6IHRydWUsXG4gICAgICBkYXRhOiB7IHRpdGxlIH0sXG4gICAgICAuLi4ob3B0aW9ucyAmJiBvcHRpb25zLmRpYWxvZ09wdGlvbnMgfHwge30pXG4gICAgfSlcblxuICAgIHJlZi5hZnRlck9wZW5lZCgpLnBpcGUoXG4gICAgICBjb25jYXRNYXAoKCkgPT4gd29yayksXG4gICAgICB0YXAodmFsID0+IHdvcmtPdXRwdXQgPSB2YWwpLCAvLyBzZXQgd29ya091dHB1dFxuICAgICAgZmluYWxpemUoKCkgPT4gcmVmLmNsb3NlKCkpXG4gICAgKS5zdWJzY3JpYmUoKVxuXG4gICAgcmV0dXJuIHJlZi5hZnRlckNsb3NlZCgpLnBpcGUoXG4gICAgICBtYXAoKCkgPT4gd29ya091dHB1dCkgLy8gcmV0dXJuIHdvcmtPdXRwdXRcbiAgICApXG4gIH1cblxuICB3aXRoQWxlcnQgKHRpdGxlOiBzdHJpbmcsIG9wdGlvbnM/OiB7XG4gICAgY29udGVudD86IHN0cmluZ1xuICAgIGFjY2VwdEJ1dHRvbj86IHN0cmluZ1xuICAgIGRpYWxvZ09wdGlvbnM/OiB7IFsga2V5OiBzdHJpbmcgXTogYW55IH1cbiAgfSk6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gICAgb3B0aW9ucy5hY2NlcHRCdXR0b24gPSBvcHRpb25zLmFjY2VwdEJ1dHRvbiB8fCAnT0snXG5cbiAgICBjb25zdCBkaWFsb2dSZWYgPSB0aGlzLmRpYWxvZy5vcGVuKEFsZXJ0Q29tcG9uZW50LCB7XG4gICAgICBkaXNhYmxlQ2xvc2U6IHRydWUsXG4gICAgICBtaW5XaWR0aDogMjAwLFxuICAgICAgZGF0YTogeyB0aXRsZSwgLi4ub3B0aW9ucyB9LFxuICAgICAgLi4uKG9wdGlvbnMgJiYgb3B0aW9ucy5kaWFsb2dPcHRpb25zIHx8IHt9KVxuICAgIH0pXG5cbiAgICByZXR1cm4gZGlhbG9nUmVmLmFmdGVyQ2xvc2VkKCkucGlwZShcbiAgICAgIG1hcChyZXN1bHQgPT4gcmVzdWx0ID09PSB0cnVlKVxuICAgIClcbiAgfVxuXG4gIHdpdGhDb25maXJtICh0aXRsZT86IHN0cmluZywgb3B0aW9ucz86IHtcbiAgICBjb250ZW50Pzogc3RyaW5nXG4gICAgYWNjZXB0QnV0dG9uPzogc3RyaW5nXG4gICAgY2FuY2VsQnV0dG9uPzogc3RyaW5nXG4gICAgZGlhbG9nT3B0aW9ucz86IHsgWyBrZXk6IHN0cmluZyBdOiBhbnkgfVxuICB9KTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gICAgdGl0bGUgPSB0aXRsZSB8fCAnQ29uZmlybT8nXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgICBvcHRpb25zLmFjY2VwdEJ1dHRvbiA9IG9wdGlvbnMuYWNjZXB0QnV0dG9uIHx8ICdZZXMnXG4gICAgb3B0aW9ucy5jYW5jZWxCdXR0b24gPSBvcHRpb25zLmNhbmNlbEJ1dHRvbiB8fCAnTm8nXG5cbiAgICBjb25zdCByZWYgPSB0aGlzLmRpYWxvZy5vcGVuKENvbmZpcm1Db21wb25lbnQsIHtcbiAgICAgIGRpc2FibGVDbG9zZTogdHJ1ZSxcbiAgICAgIGRhdGE6IHsgdGl0bGUsIC4uLm9wdGlvbnMgfSxcbiAgICAgIC4uLihvcHRpb25zICYmIG9wdGlvbnMuZGlhbG9nT3B0aW9ucyB8fCB7fSlcbiAgICB9KVxuICAgIHJldHVybiByZWYuYWZ0ZXJDbG9zZWQoKS5waXBlKFxuICAgICAgbWFwKHJlc3VsdCA9PiByZXN1bHQpXG4gICAgKVxuICB9XG5cbiAgd2l0aEZvcm0gKHRpdGxlOiBzdHJpbmcsIGZpZWxkczogUXVpY2tGb3JtRmllbGRbXSwgb3B0aW9ucz86IHtcbiAgICBjb250ZW50Pzogc3RyaW5nXG4gICAgc3VibWl0QnV0dG9uPzogc3RyaW5nXG4gICAgY2FuY2VsQnV0dG9uPzogc3RyaW5nXG4gICAgY2FuY2VsTWVzc2FnZT86IHN0cmluZ1xuICAgIHJhd1ZhbHVlPzogYm9vbGVhblxuICAgIGxheW91dD86IHtcbiAgICAgIGZsZXhDZWxsPzogYm9vbGVhbiB8IDYgfCAxMlxuICAgICAgZ3V0dGVyPzogYm9vbGVhblxuICAgICAgZ3Jvd0l0ZW1zPzogYm9vbGVhblxuICAgICAgZGVidWc/OiBib29sZWFuXG4gICAgfSxcbiAgICB2YWx1ZUNoYW5nZXM/OiBTdWJqZWN0PHsgdmFsdWU6IGFueSwgZm9ybTogRm9ybUdyb3VwLCBjZDogQ2hhbmdlRGV0ZWN0b3JSZWYgfT5cbiAgICBmb3JtQ3JlYXRlZD86IChmb3JtOiBGb3JtR3JvdXAsIGNkOiBDaGFuZ2VEZXRlY3RvclJlZikgPT4gdm9pZFxuICAgIGRpYWxvZ09wdGlvbnM/OiB7IFsga2V5OiBzdHJpbmcgXTogYW55IH1cbiAgfSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgICBvcHRpb25zLnN1Ym1pdEJ1dHRvbiA9IG9wdGlvbnMuc3VibWl0QnV0dG9uIHx8ICdTdWJtaXQnXG4gICAgb3B0aW9ucy5jYW5jZWxCdXR0b24gPSBvcHRpb25zLmNhbmNlbEJ1dHRvbiB8fCAnQ2FuY2VsJ1xuICAgIG9wdGlvbnMuY2FuY2VsTWVzc2FnZSA9IG9wdGlvbnMuY2FuY2VsTWVzc2FnZSB8fCAnQ2FuY2VsPydcbiAgICBvcHRpb25zLnJhd1ZhbHVlID0gb3B0aW9ucy5yYXdWYWx1ZSB8fCBmYWxzZVxuXG4gICAgY29uc3QgcmVmID0gdGhpcy5kaWFsb2cub3BlbihGb3JtQ29tcG9uZW50LCB7XG4gICAgICBkaXNhYmxlQ2xvc2U6IHRydWUsXG4gICAgICBkYXRhOiB7IHRpdGxlLCBmaWVsZHMsIC4uLm9wdGlvbnMgfSxcbiAgICAgIC4uLihvcHRpb25zICYmIG9wdGlvbnMuZGlhbG9nT3B0aW9ucyB8fCB7fSlcbiAgICB9KVxuXG4gICAgcmV0dXJuIHJlZi5hZnRlckNsb3NlZCgpXG4gIH1cbn1cbiJdfQ==