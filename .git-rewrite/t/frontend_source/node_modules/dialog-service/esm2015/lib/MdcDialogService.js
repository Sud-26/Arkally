/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { MdcDialog } from '@angular-mdc/web';
import { Injectable } from '@angular/core';
import { throwError } from 'rxjs';
import { concatMap, finalize, map, tap } from 'rxjs/operators';
import { DialogService } from './DialogService';
import { ProgressComponent } from './mdc/Progress.component';
import { AlertComponent } from './mdc/Alert.component';
import { ConfirmComponent } from './mdc/Confirm.component';
import * as i0 from "@angular/core";
import * as i1 from "@angular-mdc/web/dialog";
/**
 * @deprecated No longer supported. Not enough time to maintain this implementation, contributions
 * welcomed.
 */
export class MdcDialogService extends DialogService {
    /**
     * @param {?} dialog
     */
    constructor(dialog) {
        super();
        this.dialog = dialog;
    }
    /**
     * @template T
     * @param {?} work
     * @param {?=} title
     * @return {?}
     */
    withProgress(work, title) {
        title = title || 'Please Wait...';
        /** @type {?} */
        let workOutput;
        /** @type {?} */
        const ref = this.dialog.open(ProgressComponent, {
            clickOutsideToClose: false,
            escapeToClose: false,
            data: { title }
        });
        ref.afterOpened().pipe(concatMap((/**
         * @return {?}
         */
        () => work)), tap((/**
         * @param {?} val
         * @return {?}
         */
        val => workOutput = val)), // set workOutput
        finalize((/**
         * @return {?}
         */
        () => ref.close()))).subscribe();
        return ref.afterClosed().pipe(map((/**
         * @return {?}
         */
        () => workOutput)) // return workOutput
        );
    }
    /**
     * @param {?} title
     * @param {?=} options
     * @return {?}
     */
    withAlert(title, options) {
        options = options || {};
        options.acceptButton = options.acceptButton || 'OK';
        /** @type {?} */
        const dialogRef = this.dialog.open(AlertComponent, {
            escapeToClose: false,
            clickOutsideToClose: false,
            data: Object.assign({ title }, options)
        });
        return dialogRef.afterClosed().pipe(map((/**
         * @param {?} result
         * @return {?}
         */
        result => result === 'accept')));
    }
    /**
     * @param {?=} title
     * @param {?=} options
     * @return {?}
     */
    withConfirm(title, options) {
        title = title || 'Confirm?';
        options = options || {};
        options.acceptButton = options.acceptButton || 'Yes';
        options.cancelButton = options.cancelButton || 'No';
        /** @type {?} */
        const ref = this.dialog.open(ConfirmComponent, {
            escapeToClose: false,
            clickOutsideToClose: false,
            data: Object.assign({ title }, options)
        });
        return ref.afterClosed().pipe(map((/**
         * @param {?} result
         * @return {?}
         */
        result => result === 'accept')));
    }
    /**
     * @param {?} title
     * @param {?} fields
     * @param {?=} options
     * @return {?}
     */
    withForm(title, fields, options) {
        return throwError('withForm() is not supported in MDC mode');
    }
}
MdcDialogService.decorators = [
    { type: Injectable, args: [{
                providedIn: 'root'
            },] }
];
/** @nocollapse */
MdcDialogService.ctorParameters = () => [
    { type: MdcDialog }
];
/** @nocollapse */ MdcDialogService.ngInjectableDef = i0.ɵɵdefineInjectable({ factory: function MdcDialogService_Factory() { return new MdcDialogService(i0.ɵɵinject(i1.MdcDialog)); }, token: MdcDialogService, providedIn: "root" });
if (false) {
    /**
     * @type {?}
     * @private
     */
    MdcDialogService.prototype.dialog;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWRjRGlhbG9nU2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2RpYWxvZy1zZXJ2aWNlLyIsInNvdXJjZXMiOlsibGliL01kY0RpYWxvZ1NlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQTtBQUM1QyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFBO0FBQzFDLE9BQU8sRUFBYyxVQUFVLEVBQUUsTUFBTSxNQUFNLENBQUE7QUFDN0MsT0FBTyxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxNQUFNLGdCQUFnQixDQUFBO0FBQzlELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQTtBQUMvQyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQTtBQUM1RCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sdUJBQXVCLENBQUE7QUFDdEQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0seUJBQXlCLENBQUE7Ozs7Ozs7QUFVMUQsTUFBTSxPQUFPLGdCQUFpQixTQUFRLGFBQWE7Ozs7SUFDakQsWUFBcUIsTUFBaUI7UUFDcEMsS0FBSyxFQUFFLENBQUE7UUFEWSxXQUFNLEdBQU4sTUFBTSxDQUFXO0lBRXRDLENBQUM7Ozs7Ozs7SUFFRCxZQUFZLENBQVcsSUFBbUIsRUFBRSxLQUFjO1FBQ3hELEtBQUssR0FBRyxLQUFLLElBQUksZ0JBQWdCLENBQUE7O1lBQzdCLFVBQWE7O2NBRVgsR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFO1lBQzlDLG1CQUFtQixFQUFFLEtBQUs7WUFDMUIsYUFBYSxFQUFFLEtBQUs7WUFDcEIsSUFBSSxFQUFFLEVBQUUsS0FBSyxFQUFFO1NBQ2hCLENBQUM7UUFFRixHQUFHLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxDQUNwQixTQUFTOzs7UUFBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLEVBQUMsRUFDckIsR0FBRzs7OztRQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsVUFBVSxHQUFHLEdBQUcsRUFBQyxFQUFFLGlCQUFpQjtRQUMvQyxRQUFROzs7UUFBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLEVBQUMsQ0FDNUIsQ0FBQyxTQUFTLEVBQUUsQ0FBQTtRQUViLE9BQU8sR0FBRyxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksQ0FDM0IsR0FBRzs7O1FBQUMsR0FBRyxFQUFFLENBQUMsVUFBVSxFQUFDLENBQUMsb0JBQW9CO1NBQzNDLENBQUE7SUFDSCxDQUFDOzs7Ozs7SUFFRCxTQUFTLENBQUUsS0FBYSxFQUFFLE9BQXFEO1FBQzdFLE9BQU8sR0FBRyxPQUFPLElBQUksRUFBRSxDQUFBO1FBQ3ZCLE9BQU8sQ0FBQyxZQUFZLEdBQUcsT0FBTyxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUE7O2NBRTdDLFNBQVMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDakQsYUFBYSxFQUFFLEtBQUs7WUFDcEIsbUJBQW1CLEVBQUUsS0FBSztZQUMxQixJQUFJLGtCQUFJLEtBQUssSUFBSyxPQUFPLENBQUU7U0FDNUIsQ0FBQztRQUVGLE9BQU8sU0FBUyxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksQ0FDakMsR0FBRzs7OztRQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxLQUFLLFFBQVEsRUFBQyxDQUNuQyxDQUFBO0lBQ0gsQ0FBQzs7Ozs7O0lBRUQsV0FBVyxDQUFFLEtBQWMsRUFBRSxPQUk1QjtRQUNDLEtBQUssR0FBRyxLQUFLLElBQUksVUFBVSxDQUFBO1FBQzNCLE9BQU8sR0FBRyxPQUFPLElBQUksRUFBRSxDQUFBO1FBQ3ZCLE9BQU8sQ0FBQyxZQUFZLEdBQUcsT0FBTyxDQUFDLFlBQVksSUFBSSxLQUFLLENBQUE7UUFDcEQsT0FBTyxDQUFDLFlBQVksR0FBRyxPQUFPLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQTs7Y0FFN0MsR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFO1lBQzdDLGFBQWEsRUFBRSxLQUFLO1lBQ3BCLG1CQUFtQixFQUFFLEtBQUs7WUFDMUIsSUFBSSxrQkFBSSxLQUFLLElBQUssT0FBTyxDQUFFO1NBQzVCLENBQUM7UUFDRixPQUFPLEdBQUcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLENBQzNCLEdBQUc7Ozs7UUFBQyxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sS0FBSyxRQUFRLEVBQUMsQ0FDbkMsQ0FBQTtJQUNILENBQUM7Ozs7Ozs7SUFFRCxRQUFRLENBQUUsS0FBYSxFQUFFLE1BQXdCLEVBQUUsT0FLbEQ7UUFDQyxPQUFPLFVBQVUsQ0FBQyx5Q0FBeUMsQ0FBQyxDQUFBO0lBQzlELENBQUM7OztZQXZFRixVQUFVLFNBQUM7Z0JBQ1YsVUFBVSxFQUFFLE1BQU07YUFDbkI7Ozs7WUFoQlEsU0FBUzs7Ozs7Ozs7SUFrQkgsa0NBQXlCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWRjRGlhbG9nIH0gZnJvbSAnQGFuZ3VsYXItbWRjL3dlYidcbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJ1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnXG5pbXBvcnQgeyBjb25jYXRNYXAsIGZpbmFsaXplLCBtYXAsIHRhcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJ1xuaW1wb3J0IHsgRGlhbG9nU2VydmljZSB9IGZyb20gJy4vRGlhbG9nU2VydmljZSdcbmltcG9ydCB7IFByb2dyZXNzQ29tcG9uZW50IH0gZnJvbSAnLi9tZGMvUHJvZ3Jlc3MuY29tcG9uZW50J1xuaW1wb3J0IHsgQWxlcnRDb21wb25lbnQgfSBmcm9tICcuL21kYy9BbGVydC5jb21wb25lbnQnXG5pbXBvcnQgeyBDb25maXJtQ29tcG9uZW50IH0gZnJvbSAnLi9tZGMvQ29uZmlybS5jb21wb25lbnQnXG5pbXBvcnQgeyBRdWlja0Zvcm1GaWVsZCB9IGZyb20gJ25nLXF1aWNrLWZvcm0nXG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgTm8gbG9uZ2VyIHN1cHBvcnRlZC4gTm90IGVub3VnaCB0aW1lIHRvIG1haW50YWluIHRoaXMgaW1wbGVtZW50YXRpb24sIGNvbnRyaWJ1dGlvbnNcbiAqIHdlbGNvbWVkLlxuICovXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBNZGNEaWFsb2dTZXJ2aWNlIGV4dGVuZHMgRGlhbG9nU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yIChwcml2YXRlIGRpYWxvZzogTWRjRGlhbG9nKSB7XG4gICAgc3VwZXIoKVxuICB9XG5cbiAgd2l0aFByb2dyZXNzPFQgPSBhbnk+ICh3b3JrOiBPYnNlcnZhYmxlPFQ+LCB0aXRsZT86IHN0cmluZyk6IE9ic2VydmFibGU8VCB8IHVuZGVmaW5lZD4ge1xuICAgIHRpdGxlID0gdGl0bGUgfHwgJ1BsZWFzZSBXYWl0Li4uJ1xuICAgIGxldCB3b3JrT3V0cHV0OiBUXG5cbiAgICBjb25zdCByZWYgPSB0aGlzLmRpYWxvZy5vcGVuKFByb2dyZXNzQ29tcG9uZW50LCB7XG4gICAgICBjbGlja091dHNpZGVUb0Nsb3NlOiBmYWxzZSxcbiAgICAgIGVzY2FwZVRvQ2xvc2U6IGZhbHNlLFxuICAgICAgZGF0YTogeyB0aXRsZSB9XG4gICAgfSlcblxuICAgIHJlZi5hZnRlck9wZW5lZCgpLnBpcGUoXG4gICAgICBjb25jYXRNYXAoKCkgPT4gd29yayksXG4gICAgICB0YXAodmFsID0+IHdvcmtPdXRwdXQgPSB2YWwpLCAvLyBzZXQgd29ya091dHB1dFxuICAgICAgZmluYWxpemUoKCkgPT4gcmVmLmNsb3NlKCkpXG4gICAgKS5zdWJzY3JpYmUoKVxuXG4gICAgcmV0dXJuIHJlZi5hZnRlckNsb3NlZCgpLnBpcGUoXG4gICAgICBtYXAoKCkgPT4gd29ya091dHB1dCkgLy8gcmV0dXJuIHdvcmtPdXRwdXRcbiAgICApXG4gIH1cblxuICB3aXRoQWxlcnQgKHRpdGxlOiBzdHJpbmcsIG9wdGlvbnM/OiB7IGNvbnRlbnQ/OiBzdHJpbmcsIGFjY2VwdEJ1dHRvbj86IHN0cmluZyB9KTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgICBvcHRpb25zLmFjY2VwdEJ1dHRvbiA9IG9wdGlvbnMuYWNjZXB0QnV0dG9uIHx8ICdPSydcblxuICAgIGNvbnN0IGRpYWxvZ1JlZiA9IHRoaXMuZGlhbG9nLm9wZW4oQWxlcnRDb21wb25lbnQsIHtcbiAgICAgIGVzY2FwZVRvQ2xvc2U6IGZhbHNlLFxuICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTogZmFsc2UsXG4gICAgICBkYXRhOiB7IHRpdGxlLCAuLi5vcHRpb25zIH1cbiAgICB9KVxuXG4gICAgcmV0dXJuIGRpYWxvZ1JlZi5hZnRlckNsb3NlZCgpLnBpcGUoXG4gICAgICBtYXAocmVzdWx0ID0+IHJlc3VsdCA9PT0gJ2FjY2VwdCcpXG4gICAgKVxuICB9XG5cbiAgd2l0aENvbmZpcm0gKHRpdGxlPzogc3RyaW5nLCBvcHRpb25zPzoge1xuICAgIGNvbnRlbnQ/OiBzdHJpbmdcbiAgICBhY2NlcHRCdXR0b24/OiBzdHJpbmdcbiAgICBjYW5jZWxCdXR0b24/OiBzdHJpbmdcbiAgfSk6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xuICAgIHRpdGxlID0gdGl0bGUgfHwgJ0NvbmZpcm0/J1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gICAgb3B0aW9ucy5hY2NlcHRCdXR0b24gPSBvcHRpb25zLmFjY2VwdEJ1dHRvbiB8fCAnWWVzJ1xuICAgIG9wdGlvbnMuY2FuY2VsQnV0dG9uID0gb3B0aW9ucy5jYW5jZWxCdXR0b24gfHwgJ05vJ1xuXG4gICAgY29uc3QgcmVmID0gdGhpcy5kaWFsb2cub3BlbihDb25maXJtQ29tcG9uZW50LCB7XG4gICAgICBlc2NhcGVUb0Nsb3NlOiBmYWxzZSxcbiAgICAgIGNsaWNrT3V0c2lkZVRvQ2xvc2U6IGZhbHNlLFxuICAgICAgZGF0YTogeyB0aXRsZSwgLi4ub3B0aW9ucyB9XG4gICAgfSlcbiAgICByZXR1cm4gcmVmLmFmdGVyQ2xvc2VkKCkucGlwZShcbiAgICAgIG1hcChyZXN1bHQgPT4gcmVzdWx0ID09PSAnYWNjZXB0JylcbiAgICApXG4gIH1cblxuICB3aXRoRm9ybSAodGl0bGU6IHN0cmluZywgZmllbGRzOiBRdWlja0Zvcm1GaWVsZFtdLCBvcHRpb25zPzoge1xuICAgIGNvbnRlbnQ/OiBzdHJpbmdcbiAgICBzdWJtaXRCdXR0b24/OiBzdHJpbmdcbiAgICBjYW5jZWxCdXR0b24/OiBzdHJpbmdcbiAgICBjYW5jZWxNZXNzYWdlPzogc3RyaW5nXG4gIH0pOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIHJldHVybiB0aHJvd0Vycm9yKCd3aXRoRm9ybSgpIGlzIG5vdCBzdXBwb3J0ZWQgaW4gTURDIG1vZGUnKVxuICB9XG59XG4iXX0=